(self.webpackChunkng2=self.webpackChunkng2||[]).push([[179],{2011:($e,we,O)=>{"use strict";O.d(we,{hO:()=>Le,xv:()=>ge,Dh:()=>fe,GT:()=>he,cc:()=>Me,on:()=>H,pX:()=>ne});var a=O(5e3),K=O(127),N=O(2680);$e=O.hmd($e);const ue=["ngOnDestroy"],ne=(Y,ce,_e,se={})=>new Proxy(Y,{get:(De,ve)=>_e.runOutsideAngular(()=>{var Be;if(Y[ve])return(null===(Be=null==se?void 0:se.spy)||void 0===Be?void 0:Be.get)&&se.spy.get(ve,Y[ve]),Y[ve];if(ue.indexOf(ve)>-1)return()=>{};const Ve=ce.toPromise().then(ae=>{const z=ae&&ae[ve];return"function"==typeof z?z.bind(ae):z&&z.then?z.then(ee=>_e.run(()=>ee)):_e.run(()=>z)});return new Proxy(()=>{},{get:(ae,z)=>Ve[z],apply:(ae,z,ee)=>Ve.then(de=>{var X;const Ie=de&&de(...ee);return(null===(X=null==se?void 0:se.spy)||void 0===X?void 0:X.apply)&&se.spy.apply(ve,ee,Ie),Ie})})})}),he=(Y,ce)=>{ce.forEach(_e=>{Object.getOwnPropertyNames(_e.prototype||_e).forEach(se=>{Object.defineProperty(Y.prototype,se,Object.getOwnPropertyDescriptor(_e.prototype||_e,se))})})};class le{constructor(ce){return ce}}const fe=new a.OlP("angularfire2.app.options"),ge=new a.OlP("angularfire2.app.name");function H(Y,ce,_e){const De="object"==typeof _e&&_e||{};De.name=De.name||"string"==typeof _e&&_e||"[DEFAULT]";const Be=K.Z.apps.filter(Ve=>Ve&&Ve.name===De.name)[0]||ce.runOutsideAngular(()=>K.Z.initializeApp(Y,De));try{JSON.stringify(Y)!==JSON.stringify(Be.options)&&V("error",`${Be.name} Firebase App already initialized with different options${$e.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ve){}return new le(Be)}const V=(Y,...ce)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[Y](...ce)},J={provide:le,useFactory:H,deps:[fe,a.R0b,[new a.FiY,ge]]};let Le=(()=>{class Y{constructor(_e){K.Z.registerVersion("angularfire",N.q4.full,"core"),K.Z.registerVersion("angularfire",N.q4.full,"app-compat"),K.Z.registerVersion("angular",a.q4F.full,_e.toString())}static initializeApp(_e,se){return{ngModule:Y,providers:[{provide:fe,useValue:_e},{provide:ge,useValue:se}]}}}return Y.\u0275fac=function(_e){return new(_e||Y)(a.LFG(a.Lbi))},Y.\u0275mod=a.oAB({type:Y}),Y.\u0275inj=a.cJS({providers:[J]}),Y})();function Me(Y,ce,_e,se,De){const[,ve,Be]=globalThis.\u0275AngularfireInstanceCache.find(Ve=>Ve[0]===Y)||[];if(ve)return function Ae(Y,ce){try{return Y.toString()===ce.toString()}catch(_e){return Y===ce}}(De,Be)||(W("error",`${ce} was already initialized on the ${_e} Firebase App with different settings.${xe?" You may need to reload as Firebase is not HMR aware.":""}`),W("warn",{is:De,was:Be})),ve;{const Ve=se();return globalThis.\u0275AngularfireInstanceCache.push([Y,Ve,De]),Ve}}const xe=!!$e.hot,W=(Y,...ce)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[Y](...ce)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2680:($e,we,O)=>{"use strict";O.d(we,{q4:()=>ha,iC:()=>ko,HU:()=>xo,vb:()=>ma,JM:()=>ga});var a=O(5e3),K=O(5867),N=O(5861),ue=O(9681),ne=O(2090),he=O(4859),le=O(1877),fe=O(2940);const ge="@firebase/installations",H="0.5.5",J=`w:${H}`,Le="FIS_v2",ce=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function _e(E){return E instanceof ne.ZR&&E.code.includes("request-failed")}function se({projectId:E}){return`https://firebaseinstallations.googleapis.com/v1/projects/${E}/installations`}function De(E){return{token:E.token,requestStatus:2,expiresIn:de(E.expiresIn),creationTime:Date.now()}}function ve(E,w){return Be.apply(this,arguments)}function Be(){return(Be=(0,N.Z)(function*(E,w){const k=(yield w.json()).error;return ce.create("request-failed",{requestName:E,serverCode:k.code,serverMessage:k.message,serverStatus:k.status})})).apply(this,arguments)}function Ve({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function ae(E,{refreshToken:w}){const M=Ve(E);return M.append("Authorization",function X(E){return`${Le} ${E}`}(w)),M}function z(E){return ee.apply(this,arguments)}function ee(){return(ee=(0,N.Z)(function*(E){const w=yield E();return w.status>=500&&w.status<600?E():w})).apply(this,arguments)}function de(E){return Number(E.replace("s","000"))}function Ie(E,w){return te.apply(this,arguments)}function te(){return(te=(0,N.Z)(function*(E,{fid:w}){const M=se(E),re={method:"POST",headers:Ve(E),body:JSON.stringify({fid:w,authVersion:Le,appId:E.appId,sdkVersion:J})},Ce=yield z(()=>fetch(M,re));if(Ce.ok){const Pe=yield Ce.json();return{fid:Pe.fid||w,registrationStatus:2,refreshToken:Pe.refreshToken,authToken:De(Pe.authToken)}}throw yield ve("Create Installation",Ce)})).apply(this,arguments)}function rt(E){return new Promise(w=>{setTimeout(w,E)})}const Xt=/^[cdef][\w-]{21}$/;function ze(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const M=function dn(E){return function wt(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return Xt.test(M)?M:""}catch(E){return""}}function xt(E){return`${E.appName}!${E.appId}`}const Mn=new Map;function bt(E,w){const M=xt(E);mt(M,w),function Or(E,w){const M=function Si(){return!Sn&&"BroadcastChannel"in self&&(Sn=new BroadcastChannel("[Firebase] FID Change"),Sn.onmessage=E=>{mt(E.data.key,E.data.fid)}),Sn}();M&&M.postMessage({key:E,fid:w}),function Hn(){0===Mn.size&&Sn&&(Sn.close(),Sn=null)}()}(M,w)}function mt(E,w){const M=Mn.get(E);if(M)for(const k of M)k(w)}let Sn=null;const Xn="firebase-installations-store";let Lr=null;function Je(){return Lr||(Lr=(0,fe.openDb)("firebase-installations-database",1,E=>{0===E.oldVersion&&E.createObjectStore(Xn)})),Lr}function er(E,w){return fn.apply(this,arguments)}function fn(){return(fn=(0,N.Z)(function*(E,w){const M=xt(E),$=(yield Je()).transaction(Xn,"readwrite"),re=$.objectStore(Xn),Ce=yield re.get(M);return yield re.put(w,M),yield $.complete,(!Ce||Ce.fid!==w.fid)&&bt(E,w.fid),w})).apply(this,arguments)}function en(E){return ki.apply(this,arguments)}function ki(){return(ki=(0,N.Z)(function*(E){const w=xt(E),k=(yield Je()).transaction(Xn,"readwrite");yield k.objectStore(Xn).delete(w),yield k.complete})).apply(this,arguments)}function Ye(E,w){return He.apply(this,arguments)}function He(){return(He=(0,N.Z)(function*(E,w){const M=xt(E),$=(yield Je()).transaction(Xn,"readwrite"),re=$.objectStore(Xn),Ce=yield re.get(M),Pe=w(Ce);return void 0===Pe?yield re.delete(M):yield re.put(Pe,M),yield $.complete,Pe&&(!Ce||Ce.fid!==Pe.fid)&&bt(E,Pe.fid),Pe})).apply(this,arguments)}function ut(E){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,N.Z)(function*(E){let w;const M=yield Ye(E,k=>{const $=xn(k),re=ct(E,$);return w=re.registrationPromise,re.installationEntry});return""===M.fid?{installationEntry:yield w}:{installationEntry:M,registrationPromise:w}})).apply(this,arguments)}function xn(E){return io(E||{fid:ze(),registrationStatus:0})}function ct(E,w){if(0===w.registrationStatus){if(!navigator.onLine)return{installationEntry:w,registrationPromise:Promise.reject(ce.create("app-offline"))};const M={fid:w.fid,registrationStatus:1,registrationTime:Date.now()},k=function je(E,w){return qe.apply(this,arguments)}(E,M);return{installationEntry:M,registrationPromise:k}}return 1===w.registrationStatus?{installationEntry:w,registrationPromise:wr(E)}:{installationEntry:w}}function qe(){return(qe=(0,N.Z)(function*(E,w){try{return er(E,yield Ie(E,w))}catch(M){throw _e(M)&&409===M.customData.serverCode?yield en(E):yield er(E,{fid:w.fid,registrationStatus:0}),M}})).apply(this,arguments)}function wr(E){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,N.Z)(function*(E){let w=yield vt(E);for(;1===w.registrationStatus;)yield rt(100),w=yield vt(E);if(0===w.registrationStatus){const{installationEntry:M,registrationPromise:k}=yield ut(E);return k||M}return w})).apply(this,arguments)}function vt(E){return Ye(E,w=>{if(!w)throw ce.create("installation-not-found");return io(w)})}function io(E){return function tr(E){return 1===E.registrationStatus&&E.registrationTime+1e4<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function fr(E,w){return F.apply(this,arguments)}function F(){return(F=(0,N.Z)(function*({appConfig:E,platformLoggerProvider:w},M){const k=B(E,M),$=ae(E,M),re=w.getImmediate({optional:!0});re&&$.append("x-firebase-client",re.getPlatformInfoString());const Pe={method:"POST",headers:$,body:JSON.stringify({installation:{sdkVersion:J}})},ke=yield z(()=>fetch(k,Pe));if(ke.ok)return De(yield ke.json());throw yield ve("Generate Auth Token",ke)})).apply(this,arguments)}function B(E,{fid:w}){return`${se(E)}/${w}/authTokens:generate`}function j(E){return me.apply(this,arguments)}function me(){return(me=(0,N.Z)(function*(E,w=!1){let M;const k=yield Ye(E.appConfig,re=>{if(!Ht(re))throw ce.create("not-registered");const Ce=re.authToken;if(!w&&nr(Ce))return re;if(1===Ce.requestStatus)return M=Q(E,w),re;{if(!navigator.onLine)throw ce.create("app-offline");const Pe=hn(re);return M=kt(E,Pe),Pe}});return M?yield M:k.authToken})).apply(this,arguments)}function Q(E,w){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,N.Z)(function*(E,w){let M=yield Qe(E.appConfig);for(;1===M.authToken.requestStatus;)yield rt(100),M=yield Qe(E.appConfig);const k=M.authToken;return 0===k.requestStatus?j(E,w):k})).apply(this,arguments)}function Qe(E){return Ye(E,w=>{if(!Ht(w))throw ce.create("not-registered");return function jn(E){return 1===E.requestStatus&&E.requestTime+1e4<Date.now()}(w.authToken)?Object.assign(Object.assign({},w),{authToken:{requestStatus:0}}):w})}function kt(E,w){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,N.Z)(function*(E,w){try{const M=yield fr(E,w),k=Object.assign(Object.assign({},w),{authToken:M});return yield er(E.appConfig,k),M}catch(M){if(!_e(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const k=Object.assign(Object.assign({},w),{authToken:{requestStatus:0}});yield er(E.appConfig,k)}else yield en(E.appConfig);throw M}})).apply(this,arguments)}function Ht(E){return void 0!==E&&2===E.registrationStatus}function nr(E){return 2===E.requestStatus&&!function dt(E){const w=Date.now();return w<E.creationTime||E.creationTime+E.expiresIn<w+36e5}(E)}function hn(E){const w={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:w})}function so(){return(so=(0,N.Z)(function*(E){const w=E,{installationEntry:M,registrationPromise:k}=yield ut(w.appConfig);return k?k.catch(console.error):j(w).catch(console.error),M.fid})).apply(this,arguments)}function oo(){return(oo=(0,N.Z)(function*(E,w=!1){const M=E;return yield pn(M.appConfig),(yield j(M,w)).token})).apply(this,arguments)}function pn(E){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,N.Z)(function*(E){const{registrationPromise:w}=yield ut(E);w&&(yield w)})).apply(this,arguments)}function xs(E){return ce.create("missing-app-config-values",{valueName:E})}const ir="installations",at=E=>{const w=E.getProvider("app").getImmediate(),M=function kn(E){if(!E||!E.options)throw xs("App Configuration");if(!E.name)throw xs("App Name");const w=["projectId","apiKey","appId"];for(const M of w)if(!E.options[M])throw xs(M);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(w);return{app:w,appConfig:M,platformLoggerProvider:(0,ue._getProvider)(w,"platform-logger"),_delete:()=>Promise.resolve()}},Pt=E=>{const w=E.getProvider("app").getImmediate(),M=(0,ue._getProvider)(w,ir).getImmediate();return{getId:()=>function Yo(E){return so.apply(this,arguments)}(M),getToken:$=>function Qo(E){return oo.apply(this,arguments)}(M,$)}};(function Gn(){(0,ue._registerComponent)(new he.wA(ir,at,"PUBLIC")),(0,ue._registerComponent)(new he.wA("installations-internal",Pt,"PRIVATE"))})(),(0,ue.registerVersion)(ge,H),(0,ue.registerVersion)(ge,H,"esm2017");const ti="@firebase/remote-config",$t=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ol{constructor(w,M,k,$){this.client=w,this.storage=M,this.storageCache=k,this.logger=$}isCachedDataFresh(w,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const k=Date.now()-M,$=k<=w;return this.logger.debug(`Config fetch cache check. Cache age millis: ${k}. Cache max age millis (minimumFetchIntervalMillis setting): ${w}. Is cache hit: ${$}.`),$}fetch(w){var M=this;return(0,N.Z)(function*(){const[k,$]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if($&&M.isCachedDataFresh(w.cacheMaxAgeMillis,k))return $;w.eTag=$&&$.eTag;const re=yield M.client.fetch(w),Ce=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===re.status&&Ce.push(M.storage.setLastSuccessfulFetchResponse(re)),yield Promise.all(Ce),re})()}}function Xo(E=navigator){return E.languages&&E.languages[0]||E.language}class ln{constructor(w,M,k,$,re,Ce){this.firebaseInstallations=w,this.sdkVersion=M,this.namespace=k,this.projectId=$,this.apiKey=re,this.appId=Ce}fetch(w){var M=this;return(0,N.Z)(function*(){const[k,$]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),Ce=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,Pe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":w.eTag||"*"},ke={sdk_version:M.sdkVersion,app_instance_id:k,app_instance_id_token:$,app_id:M.appId,language_code:Xo()},tt={method:"POST",headers:Pe,body:JSON.stringify(ke)},Nt=fetch(Ce,tt),_n=new Promise((zr,On)=>{w.signal.addEventListener(()=>{const No=new Error("The operation was aborted.");No.name="AbortError",On(No)})});let yn;try{yield Promise.race([Nt,_n]),yn=yield Nt}catch(zr){let On="fetch-client-network";throw"AbortError"===zr.name&&(On="fetch-timeout"),$t.create(On,{originalErrorMessage:zr.message})}let sn=yn.status;const Wr=yn.headers.get("ETag")||void 0;let va,qs;if(200===yn.status){let zr;try{zr=yield yn.json()}catch(On){throw $t.create("fetch-client-parse",{originalErrorMessage:On.message})}va=zr.entries,qs=zr.state}if("INSTANCE_STATE_UNSPECIFIED"===qs?sn=500:"NO_CHANGE"===qs?sn=304:("NO_TEMPLATE"===qs||"EMPTY_CONFIG"===qs)&&(va={}),304!==sn&&200!==sn)throw $t.create("fetch-status",{httpStatus:sn});return{status:sn,eTag:Wr,config:va}})()}}class ri{constructor(w,M){this.client=w,this.storage=M}fetch(w){var M=this;return(0,N.Z)(function*(){const k=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(w,k)})()}attemptFetch(w,{throttleEndTimeMillis:M,backoffCount:k}){var $=this;return(0,N.Z)(function*(){yield function Fl(E,w){return new Promise((M,k)=>{const $=Math.max(w-Date.now(),0),re=setTimeout(M,$);E.addEventListener(()=>{clearTimeout(re),k($t.create("fetch-throttle",{throttleEndTimeMillis:w}))})})}(w.signal,M);try{const re=yield $.client.fetch(w);return yield $.storage.deleteThrottleMetadata(),re}catch(re){if(!function Nd(E){if(!(E instanceof ne.ZR&&E.customData))return!1;const w=Number(E.customData.httpStatus);return 429===w||500===w||503===w||504===w}(re))throw re;const Ce={throttleEndTimeMillis:Date.now()+(0,ne.$s)(k),backoffCount:k+1};return yield $.storage.setThrottleMetadata(Ce),$.attemptFetch(w,Ce)}})()}}class Pd{constructor(w,M,k,$,re){this.app=w,this._client=M,this._storageCache=k,this._storage=$,this._logger=re,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function lo(E,w){const M=E.target.error||void 0;return $t.create(w,{originalErrorMessage:M&&M.message})}const Ps="app_namespace_store";class Bl{constructor(w,M,k,$=function Fd(){return new Promise((E,w)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=k=>{w(lo(k,"storage-open"))},M.onsuccess=k=>{E(k.target.result)},M.onupgradeneeded=k=>{0===k.oldVersion&&k.target.result.createObjectStore(Ps,{keyPath:"compositeKey"})}}catch(M){w($t.create("storage-open",{originalErrorMessage:M}))}})}()){this.appId=w,this.appName=M,this.namespace=k,this.openDbPromise=$}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(w){return this.set("last_fetch_status",w)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(w){return this.set("last_successful_fetch_timestamp_millis",w)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(w){return this.set("last_successful_fetch_response",w)}getActiveConfig(){return this.get("active_config")}setActiveConfig(w){return this.set("active_config",w)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(w){return this.set("active_config_etag",w)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(w){return this.set("throttle_metadata",w)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(w){var M=this;return(0,N.Z)(function*(){const k=yield M.openDbPromise;return new Promise(($,re)=>{const Pe=k.transaction([Ps],"readonly").objectStore(Ps),ke=M.createCompositeKey(w);try{const tt=Pe.get(ke);tt.onerror=Nt=>{re(lo(Nt,"storage-get"))},tt.onsuccess=Nt=>{const _n=Nt.target.result;$(_n?_n.value:void 0)}}catch(tt){re($t.create("storage-get",{originalErrorMessage:tt&&tt.message}))}})})()}set(w,M){var k=this;return(0,N.Z)(function*(){const $=yield k.openDbPromise;return new Promise((re,Ce)=>{const ke=$.transaction([Ps],"readwrite").objectStore(Ps),tt=k.createCompositeKey(w);try{const Nt=ke.put({compositeKey:tt,value:M});Nt.onerror=_n=>{Ce(lo(_n,"storage-set"))},Nt.onsuccess=()=>{re()}}catch(Nt){Ce($t.create("storage-set",{originalErrorMessage:Nt&&Nt.message}))}})})()}delete(w){var M=this;return(0,N.Z)(function*(){const k=yield M.openDbPromise;return new Promise(($,re)=>{const Pe=k.transaction([Ps],"readwrite").objectStore(Ps),ke=M.createCompositeKey(w);try{const tt=Pe.delete(ke);tt.onerror=Nt=>{re(lo(Nt,"storage-delete"))},tt.onsuccess=()=>{$()}}catch(tt){re($t.create("storage-delete",{originalErrorMessage:tt&&tt.message}))}})})()}createCompositeKey(w){return[this.appId,this.appName,this.namespace,w].join()}}class Os{constructor(w){this.storage=w}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var w=this;return(0,N.Z)(function*(){const M=w.storage.getLastFetchStatus(),k=w.storage.getLastSuccessfulFetchTimestampMillis(),$=w.storage.getActiveConfig(),re=yield M;re&&(w.lastFetchStatus=re);const Ce=yield k;Ce&&(w.lastSuccessfulFetchTimestampMillis=Ce);const Pe=yield $;Pe&&(w.activeConfig=Pe)})()}setLastFetchStatus(w){return this.lastFetchStatus=w,this.storage.setLastFetchStatus(w)}setLastSuccessfulFetchTimestampMillis(w){return this.lastSuccessfulFetchTimestampMillis=w,this.storage.setLastSuccessfulFetchTimestampMillis(w)}setActiveConfig(w){return this.activeConfig=w,this.storage.setActiveConfig(w)}}function Ph(){return uo.apply(this,arguments)}function uo(){return(uo=(0,N.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch(E){return!1}})).apply(this,arguments)}!function Ld(){(0,ue._registerComponent)(new he.wA("remote-config",function E(w,{instanceIdentifier:M}){const k=w.getProvider("app").getImmediate(),$=w.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw $t.create("registration-window");if(!(0,ne.hl)())throw $t.create("indexed-db-unavailable");const{projectId:re,apiKey:Ce,appId:Pe}=k.options;if(!re)throw $t.create("registration-project-id");if(!Ce)throw $t.create("registration-api-key");if(!Pe)throw $t.create("registration-app-id");const ke=new Bl(Pe,k.name,M=M||"firebase"),tt=new Os(ke),Nt=new le.Yd(ti);Nt.logLevel=le.in.ERROR;const _n=new ln($,ue.SDK_VERSION,M,re,Ce,Pe),yn=new ri(_n,ke),sn=new Ol(yn,ke,tt,Nt),Wr=new Pd(k,sn,tt,ke,Nt);return function At(E){const w=(0,ne.m9)(E);w._initializePromise||(w._initializePromise=w._storageCache.loadFromStorage().then(()=>{w._isInitializationComplete=!0}))}(Wr),Wr},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(ti,"0.3.4"),(0,ue.registerVersion)(ti,"0.3.4","esm2017")}();const Oi="/firebase-messaging-sw.js",gr="/firebase-cloud-messaging-push-scope",os="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ls="google.c.a.c_id",Ul="google.c.a.c_l",Vd="google.c.a.ts",si="google.c.a.e";var oi=(()=>{return(E=oi||(oi={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",oi;var E})();function mr(E){const w=new Uint8Array(E);return btoa(String.fromCharCode(...w)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function jl(E){const M=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),k=atob(M),$=new Uint8Array(k.length);for(let re=0;re<k.length;++re)$[re]=k.charCodeAt(re);return $}const Vn="fcm_token_details_db",Zl="fcm_token_object_Store";function Gl(E){return ea.apply(this,arguments)}function ea(){return ea=(0,N.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(re=>re.name).includes(Vn))return null;let w=null;return(yield(0,fe.openDb)(Vn,5,function(){var k=(0,N.Z)(function*($){var re;if($.oldVersion<2||!$.objectStoreNames.contains(Zl))return;const Ce=$.transaction.objectStore(Zl),Pe=yield Ce.index("fcmSenderId").get(E);if(yield Ce.clear(),Pe)if(2===$.oldVersion){const ke=Pe;if(!ke.auth||!ke.p256dh||!ke.endpoint)return;w={token:ke.fcmToken,createTime:null!==(re=ke.createTime)&&void 0!==re?re:Date.now(),subscriptionOptions:{auth:ke.auth,p256dh:ke.p256dh,endpoint:ke.endpoint,swScope:ke.swScope,vapidKey:"string"==typeof ke.vapidKey?ke.vapidKey:mr(ke.vapidKey)}}}else if(3===$.oldVersion){const ke=Pe;w={token:ke.fcmToken,createTime:ke.createTime,subscriptionOptions:{auth:mr(ke.auth),p256dh:mr(ke.p256dh),endpoint:ke.endpoint,swScope:ke.swScope,vapidKey:mr(ke.vapidKey)}}}else if(4===$.oldVersion){const ke=Pe;w={token:ke.fcmToken,createTime:ke.createTime,subscriptionOptions:{auth:mr(ke.auth),p256dh:mr(ke.p256dh),endpoint:ke.endpoint,swScope:ke.swScope,vapidKey:mr(ke.vapidKey)}}}});return function($){return k.apply(this,arguments)}}())).close(),yield(0,fe.deleteDb)(Vn),yield(0,fe.deleteDb)("fcm_vapid_details_db"),yield(0,fe.deleteDb)("undefined"),Za(w)?w:null}),ea.apply(this,arguments)}function Za(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:w}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof w.auth&&w.auth.length>0&&"string"==typeof w.p256dh&&w.p256dh.length>0&&"string"==typeof w.endpoint&&w.endpoint.length>0&&"string"==typeof w.swScope&&w.swScope.length>0&&"string"==typeof w.vapidKey&&w.vapidKey.length>0}const ai="firebase-messaging-store";let Wa=null;function Ot(){return Wa||(Wa=(0,fe.openDb)("firebase-messaging-database",1,E=>{0===E.oldVersion&&E.createObjectStore(ai)})),Wa}function co(E){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,N.Z)(function*(E){const w=Cn(E),k=yield(yield Ot()).transaction(ai).objectStore(ai).get(w);if(k)return k;{const $=yield Gl(E.appConfig.senderId);if($)return yield Mt(E,$),$}})).apply(this,arguments)}function Mt(E,w){return ta.apply(this,arguments)}function ta(){return(ta=(0,N.Z)(function*(E,w){const M=Cn(E),$=(yield Ot()).transaction(ai,"readwrite");return yield $.objectStore(ai).put(w,M),yield $.complete,w})).apply(this,arguments)}function fo(E){return as.apply(this,arguments)}function as(){return(as=(0,N.Z)(function*(E){const w=Cn(E),k=(yield Ot()).transaction(ai,"readwrite");yield k.objectStore(ai).delete(w),yield k.complete})).apply(this,arguments)}function Cn({appConfig:E}){return E.appId}const Wt=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function li(E,w){return En.apply(this,arguments)}function En(){return(En=(0,N.Z)(function*(E,w){const M=yield Vi(E),k=ho(w),$={method:"POST",headers:M,body:JSON.stringify(k)};let re;try{re=yield(yield fetch(Li(E.appConfig),$)).json()}catch(Ce){throw Wt.create("token-subscribe-failed",{errorInfo:Ce})}if(re.error)throw Wt.create("token-subscribe-failed",{errorInfo:re.error.message});if(!re.token)throw Wt.create("token-subscribe-no-token");return re.token})).apply(this,arguments)}function Vs(E,w){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,N.Z)(function*(E,w){const M=yield Vi(E),k=ho(w.subscriptionOptions),$={method:"PATCH",headers:M,body:JSON.stringify(k)};let re;try{re=yield(yield fetch(`${Li(E.appConfig)}/${w.token}`,$)).json()}catch(Ce){throw Wt.create("token-update-failed",{errorInfo:Ce})}if(re.error)throw Wt.create("token-update-failed",{errorInfo:re.error.message});if(!re.token)throw Wt.create("token-update-no-token");return re.token})).apply(this,arguments)}function za(E,w){return sr.apply(this,arguments)}function sr(){return(sr=(0,N.Z)(function*(E,w){const k={method:"DELETE",headers:yield Vi(E)};try{const re=yield(yield fetch(`${Li(E.appConfig)}/${w}`,k)).json();if(re.error)throw Wt.create("token-unsubscribe-failed",{errorInfo:re.error.message})}catch($){throw Wt.create("token-unsubscribe-failed",{errorInfo:$})}})).apply(this,arguments)}function Li({projectId:E}){return`https://fcmregistrations.googleapis.com/v1/projects/${E}/registrations`}function Vi(E){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,N.Z)(function*({appConfig:E,installations:w}){const M=yield w.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function ho({p256dh:E,auth:w,endpoint:M,vapidKey:k}){const $={web:{endpoint:M,auth:w,p256dh:E}};return k!==os&&($.web.applicationPubKey=k),$}const po=6048e5;function $l(E){return go.apply(this,arguments)}function go(){return(go=(0,N.Z)(function*(E){const w=yield zt(E.swRegistration,E.vapidKey),M={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:w.endpoint,auth:mr(w.getKey("auth")),p256dh:mr(w.getKey("p256dh"))},k=yield co(E.firebaseDependencies);if(k){if(yo(k.subscriptionOptions,M))return Date.now()>=k.createTime+po?Qu(E,{token:k.token,createTime:Date.now(),subscriptionOptions:M}):k.token;try{yield za(E.firebaseDependencies,k.token)}catch($){console.warn($)}return pt(E.firebaseDependencies,M)}return pt(E.firebaseDependencies,M)})).apply(this,arguments)}function qa(E){return mo.apply(this,arguments)}function mo(){return(mo=(0,N.Z)(function*(E){const w=yield co(E.firebaseDependencies);w&&(yield za(E.firebaseDependencies,w.token),yield fo(E.firebaseDependencies));const M=yield E.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function Qu(E,w){return ye.apply(this,arguments)}function ye(){return(ye=(0,N.Z)(function*(E,w){try{const M=yield Vs(E.firebaseDependencies,w),k=Object.assign(Object.assign({},w),{token:M,createTime:Date.now()});return yield Mt(E.firebaseDependencies,k),M}catch(M){throw yield qa(E),M}})).apply(this,arguments)}function pt(E,w){return _o.apply(this,arguments)}function _o(){return(_o=(0,N.Z)(function*(E,w){const k={token:yield li(E,w),createTime:Date.now(),subscriptionOptions:w};return yield Mt(E,k),k.token})).apply(this,arguments)}function zt(E,w){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,N.Z)(function*(E,w){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:jl(w)})})).apply(this,arguments)}function yo(E,w){return w.vapidKey===E.vapidKey&&w.endpoint===E.endpoint&&w.auth===E.auth&&w.p256dh===E.p256dh}function Wn(E){const w={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function Ka(E,w){if(!w.notification)return;E.notification={};const M=w.notification.title;M&&(E.notification.title=M);const k=w.notification.body;k&&(E.notification.body=k);const $=w.notification.image;$&&(E.notification.image=$)}(w,E),function Ya(E,w){!w.data||(E.data=w.data)}(w,E),function Wl(E,w){if(!w.fcmOptions)return;E.fcmOptions={};const M=w.fcmOptions.link;M&&(E.fcmOptions.link=M);const k=w.fcmOptions.analytics_label;k&&(E.fcmOptions.analyticsLabel=k)}(w,E),w}function zl(E){return"object"==typeof E&&!!E&&Ls in E}function vo(E,w){const M=[];for(let k=0;k<E.length;k++)M.push(E.charAt(k)),k<w.length&&M.push(w.charAt(k));return M.join("")}function mn(E){return Wt.create("missing-app-config-values",{valueName:E})}vo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),vo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Dr{constructor(w,M,k){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const $=function Bs(E){if(!E||!E.options)throw mn("App Configuration Object");if(!E.name)throw mn("App Name");const w=["projectId","apiKey","appId","messagingSenderId"],{options:M}=E;for(const k of w)if(!M[k])throw mn(k);return{appName:E.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(w);this.firebaseDependencies={app:w,appConfig:$,installations:M,analyticsProvider:k}}_delete(){return Promise.resolve()}}function Qa(E){return Br.apply(this,arguments)}function Br(){return(Br=(0,N.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(Oi,{scope:gr}),E.swRegistration.update().catch(()=>{})}catch(w){throw Wt.create("failed-service-worker-registration",{browserErrorMessage:w.message})}})).apply(this,arguments)}function ui(E,w){return Co.apply(this,arguments)}function Co(){return(Co=(0,N.Z)(function*(E,w){if(!w&&!E.swRegistration&&(yield Qa(E)),w||!E.swRegistration){if(!(w instanceof ServiceWorkerRegistration))throw Wt.create("invalid-sw-registration");E.swRegistration=w}})).apply(this,arguments)}function ql(E,w){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,N.Z)(function*(E,w){w?E.vapidKey=w:E.vapidKey||(E.vapidKey=os)})).apply(this,arguments)}function ls(){return(ls=(0,N.Z)(function*(E,w){if(!navigator)throw Wt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Wt.create("permission-blocked");return yield ql(E,null==w?void 0:w.vapidKey),yield ui(E,null==w?void 0:w.serviceWorkerRegistration),$l(E)})).apply(this,arguments)}function Ja(E,w,M){return wo.apply(this,arguments)}function wo(){return(wo=(0,N.Z)(function*(E,w,M){const k=Xa(w);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(k,{message_id:M[Ls],message_name:M[Ul],message_time:M[Vd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Xa(E){switch(E){case oi.NOTIFICATION_CLICKED:return"notification_open";case oi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ra(){return(ra=(0,N.Z)(function*(E,w){const M=w.data;if(!M.isFirebaseMessaging)return;E.onMessageHandler&&M.messageType===oi.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(Wn(M)):E.onMessageHandler.next(Wn(M)));const k=M.data;zl(k)&&"1"===k[si]&&(yield Ja(E,M.messageType,k))})).apply(this,arguments)}const us="@firebase/messaging",cs=E=>{const w=new Dr(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function Bd(E,w){return ra.apply(this,arguments)}(w,M)),w},Yl=E=>{const w=E.getProvider("messaging").getImmediate();return{getToken:k=>function Kl(E,w){return ls.apply(this,arguments)}(w,k)}};function Us(){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,N.Z)(function*(){try{yield(0,ne.eu)()}catch(E){return!1}return"undefined"!=typeof window&&(0,ne.hl)()&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ju(){(0,ue._registerComponent)(new he.wA("messaging",cs,"PUBLIC")),(0,ue._registerComponent)(new he.wA("messaging-internal",Yl,"PRIVATE")),(0,ue.registerVersion)(us,"0.9.8"),(0,ue.registerVersion)(us,"0.9.8","esm2017")}();const Ql="analytics",tl="firebase_id",nl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ia="https://www.googletagmanager.com/gtag/js",In=new le.Yd("@firebase/analytics");function tc(E){return Promise.all(E.map(w=>w.catch(M=>M)))}function fi(E,w){const M=document.createElement("script");M.src=`${ia}?l=${E}&id=${w}`,M.async=!0,document.head.appendChild(M)}function Ud(E,w,M,k,$,re){return Do.apply(this,arguments)}function Do(){return(Do=(0,N.Z)(function*(E,w,M,k,$,re){const Ce=k[$];try{if(Ce)yield w[Ce];else{const ke=(yield tc(M)).find(tt=>tt.measurementId===$);ke&&(yield w[ke.appId])}}catch(Pe){In.error(Pe)}E("config",$,re)})).apply(this,arguments)}function bo(E,w,M,k,$){return sa.apply(this,arguments)}function sa(){return(sa=(0,N.Z)(function*(E,w,M,k,$){try{let re=[];if($&&$.send_to){let Ce=$.send_to;Array.isArray(Ce)||(Ce=[Ce]);const Pe=yield tc(M);for(const ke of Ce){const tt=Pe.find(_n=>_n.measurementId===ke),Nt=tt&&w[tt.appId];if(!Nt){re=[];break}re.push(Nt)}}0===re.length&&(re=Object.values(w)),yield Promise.all(re),E("event",k,$||{})}catch(re){In.error(re)}})).apply(this,arguments)}function jd(){const E=window.document.getElementsByTagName("script");for(const w of Object.values(E))if(w.src&&w.src.includes(ia))return w;return null}const Bn=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),br=new class ds{constructor(w={},M=1e3){this.throttleMetadata=w,this.intervalMillis=M}getThrottleMetadata(w){return this.throttleMetadata[w]}setThrottleMetadata(w,M){this.throttleMetadata[w]=M}deleteThrottleMetadata(w){delete this.throttleMetadata[w]}};function oa(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function _t(E){return aa.apply(this,arguments)}function aa(){return(aa=(0,N.Z)(function*(E){var w;const{appId:M,apiKey:k}=E,$={method:"GET",headers:oa(k)},re=nl.replace("{app-id}",M),Ce=yield fetch(re,$);if(200!==Ce.status&&304!==Ce.status){let Pe="";try{const ke=yield Ce.json();(null===(w=ke.error)||void 0===w?void 0:w.message)&&(Pe=ke.error.message)}catch(ke){}throw Bn.create("config-fetch-failed",{httpStatus:Ce.status,responseMessage:Pe})}return Ce.json()})).apply(this,arguments)}function Hr(E){return yr.apply(this,arguments)}function yr(){return(yr=(0,N.Z)(function*(E,w=br,M){const{appId:k,apiKey:$,measurementId:re}=E.options;if(!k)throw Bn.create("no-app-id");if(!$){if(re)return{measurementId:re,appId:k};throw Bn.create("no-api-key")}const Ce=w.getThrottleMetadata(k)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Pe=new rl;return setTimeout((0,N.Z)(function*(){Pe.abort()}),void 0!==M?M:6e4),Dn({appId:k,apiKey:$,measurementId:re},Ce,Pe,w)})).apply(this,arguments)}function Dn(E,w,M){return jr.apply(this,arguments)}function jr(){return(jr=(0,N.Z)(function*(E,{throttleEndTimeMillis:w,backoffCount:M},k,$=br){const{appId:re,measurementId:Ce}=E;try{yield Jl(k,w)}catch(Pe){if(Ce)return In.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ce} provided in the "measurementId" field in the local Firebase config. [${Pe.message}]`),{appId:re,measurementId:Ce};throw Pe}try{const Pe=yield _t(E);return $.deleteThrottleMetadata(re),Pe}catch(Pe){if(!la(Pe)){if($.deleteThrottleMetadata(re),Ce)return In.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ce} provided in the "measurementId" field in the local Firebase config. [${Pe.message}]`),{appId:re,measurementId:Ce};throw Pe}const ke=503===Number(Pe.customData.httpStatus)?(0,ne.$s)(M,$.intervalMillis,30):(0,ne.$s)(M,$.intervalMillis),tt={throttleEndTimeMillis:Date.now()+ke,backoffCount:M+1};return $.setThrottleMetadata(re,tt),In.debug(`Calling attemptFetch again in ${ke} millis`),Dn(E,tt,k,$)}})).apply(this,arguments)}function Jl(E,w){return new Promise((M,k)=>{const $=Math.max(w-Date.now(),0),re=setTimeout(M,$);E.addEventListener(()=>{clearTimeout(re),k(Bn.create("fetch-throttle",{throttleEndTimeMillis:w}))})})}function la(E){if(!(E instanceof ne.ZR&&E.customData))return!1;const w=Number(E.customData.httpStatus);return 429===w||500===w||503===w||504===w}class rl{constructor(){this.listeners=[]}addEventListener(w){this.listeners.push(w)}abort(){this.listeners.forEach(w=>w())}}function ua(){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,N.Z)(function*(){if(!(0,ne.hl)())return In.warn(Bn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(E){return In.warn(Bn.create("indexeddb-unavailable",{errorInfo:E}).message),!1}return!0})).apply(this,arguments)}function Hi(){return(Hi=(0,N.Z)(function*(E,w,M,k,$,re,Ce){var Pe;const ke=Hr(E);ke.then(sn=>{M[sn.measurementId]=sn.appId,E.options.measurementId&&sn.measurementId!==E.options.measurementId&&In.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${sn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(sn=>In.error(sn)),w.push(ke);const tt=ua().then(sn=>{if(sn)return k.getId()}),[Nt,_n]=yield Promise.all([ke,tt]);jd()||fi(re,Nt.measurementId),$("js",new Date);const yn=null!==(Pe=null==Ce?void 0:Ce.config)&&void 0!==Pe?Pe:{};return yn.origin="firebase",yn.update=!0,null!=_n&&(yn[tl]=_n),$("config",Nt.measurementId,yn),Nt.measurementId})).apply(this,arguments)}class ca{constructor(w){this.app=w}_delete(){return delete Ft[this.app.options.appId],Promise.resolve()}}let Ft={},Xl=[];const js={};let Zr,R,Tr="dataLayer",Zs=!1;function sl(E,w,M){!function Mr(){const E=[];if((0,ne.ru)()&&E.push("This is a browser extension environment."),(0,ne.zI)()||E.push("Cookies are not available."),E.length>0){const w=E.map((k,$)=>`(${$+1}) ${k}`).join(" "),M=Bn.create("invalid-analytics-context",{errorInfo:w});In.warn(M.message)}}();const k=E.options.appId;if(!k)throw Bn.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw Bn.create("no-api-key");In.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ft[k])throw Bn.create("already-exists",{id:k});if(!Zs){!function Hs(E){let w=[];Array.isArray(window[E])?w=window[E]:window[E]=w}(Tr);const{wrappedGtag:re,gtagCore:Ce}=function Hd(E,w,M,k,$){let re=function(...Ce){window[k].push(arguments)};return window[$]&&"function"==typeof window[$]&&(re=window[$]),window[$]=function nc(E,w,M,k){function re(){return(re=(0,N.Z)(function*(Ce,Pe,ke){try{"event"===Ce?yield bo(E,w,M,Pe,ke):"config"===Ce?yield Ud(E,w,M,k,Pe,ke):E("set",Pe)}catch(tt){In.error(tt)}})).apply(this,arguments)}return function $(Ce,Pe,ke){return re.apply(this,arguments)}}(re,E,w,M),{gtagCore:re,wrappedGtag:window[$]}}(Ft,Xl,js,Tr,"gtag");R=re,Zr=Ce,Zs=!0}return Ft[k]=function fs(E,w,M,k,$,re,Ce){return Hi.apply(this,arguments)}(E,Xl,js,w,Zr,Tr,M),new ca(E)}function da(){return(da=(0,N.Z)(function*(E,w,M,k,$){if($&&$.global)E("event",M,k);else{const re=yield w;E("event",M,Object.assign(Object.assign({},k),{send_to:re}))}})).apply(this,arguments)}function al(){return nn.apply(this,arguments)}function nn(){return(nn=(0,N.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch(E){return!1}})).apply(this,arguments)}const fa="@firebase/analytics";!function zi(){(0,ue._registerComponent)(new he.wA(Ql,(w,{options:M})=>sl(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,ue._registerComponent)(new he.wA("analytics-internal",function E(w){try{const M=w.getProvider(Ql).getImmediate();return{logEvent:(k,$,re)=>function ic(E,w,M,k){E=(0,ne.m9)(E),function ol(E,w,M,k,$){return da.apply(this,arguments)}(R,Ft[E.app.options.appId],w,M,k).catch($=>In.error($))}(M,k,$,re)}}catch(M){throw Bn.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,ue.registerVersion)(fa,"0.7.5"),(0,ue.registerVersion)(fa,"0.7.5","esm2017")}();var Nn=O(4408),Kt=O(7565);const pi=new class ps extends Kt.v{}(class Gs extends Nn.o{constructor(w,M){super(w,M),this.scheduler=w,this.work=M}schedule(w,M=0){return M>0?super.schedule(w,M):(this.delay=M,this.state=w,this.scheduler.flush(this),this)}execute(w,M){return M>0||this.closed?super.execute(w,M):this._execute(w,M)}requestAsyncId(w,M,k=0){return null!=k&&k>0||null==k&&this.delay>0?super.requestAsyncId(w,M,k):w.flush(this)}});var rn=O(4986),Rn=O(576),vr=O(4482),eu=O(5403),$s=O(4671),mi=O(9468),Mo=O(5363);const ha=new a.GfV("7.2.0"),tu="__angularfire_symbol__analyticsIsSupported",Pn="__angularfire_symbol__remoteConfigIsSupported",Cr="__angularfire_symbol__messagingIsSupported";function ga(E,w,M){if(w){if(1===w.length)return w[0];const re=w.filter(Ce=>Ce.app===M);if(1===re.length)return re[0]}return M.container.getProvider(E).getImmediate({optional:!0})}globalThis[tu]||(globalThis[tu]=al().then(E=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=E)),globalThis[Cr]||(globalThis[Cr]=Us().then(E=>globalThis.__angularfire_symbol__messagingIsSupportedValue=E)),globalThis[Pn]||(globalThis[Pn]=Ph().then(E=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=E));const ma=(E,w)=>{const M=w?[w]:(0,K.C6)(),k=[];return M.forEach($=>{$.container.getProvider(E).instances.forEach(Ce=>{k.includes(Ce)||k.push(Ce)})}),k};function ms(){}class zs{constructor(w,M=pi){this.zone=w,this.delegate=M}now(){return this.delegate.now()}schedule(w,M,k){const $=this.zone;return this.delegate.schedule(function(Ce){$.runGuarded(()=>{w.apply(this,[Ce])})},M,k)}}class So{constructor(w){this.zone=w,this.task=null}call(w,M){const k=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ms,{},ms,ms)),M.pipe(function gi(E,w,M){const k=(0,Rn.m)(E)||w||M?{next:E,error:w,complete:M}:E;return k?(0,vr.e)(($,re)=>{var Ce;null===(Ce=k.subscribe)||void 0===Ce||Ce.call(k);let Pe=!0;$.subscribe(new eu.Q(re,ke=>{var tt;null===(tt=k.next)||void 0===tt||tt.call(k,ke),re.next(ke)},()=>{var ke;Pe=!1,null===(ke=k.complete)||void 0===ke||ke.call(k),re.complete()},ke=>{var tt;Pe=!1,null===(tt=k.error)||void 0===tt||tt.call(k,ke),re.error(ke)},()=>{var ke,tt;Pe&&(null===(ke=k.unsubscribe)||void 0===ke||ke.call(k)),null===(tt=k.finalize)||void 0===tt||tt.call(k)}))}):$s.y}({next:k,complete:k,error:k})).subscribe(w).add(k)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let xo=(()=>{class E{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new zs(Zone.current)),this.insideAngular=M.run(()=>new zs(Zone.current,rn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(M){return new(M||E)(a.LFG(a.R0b))},E.\u0275prov=a.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function yi(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function ko(E){return yi(),function ul(E){return function(M){return(M=M.lift(new So(E.ngZone))).pipe((0,mi.R)(E.outsideAngular),(0,Mo.Q)(E.insideAngular))}}(yi())(E)}},2090:($e,we,O)=>{"use strict";O.d(we,{BH:()=>Le,LL:()=>te,ZR:()=>Ie,gQ:()=>Xn,zI:()=>ee,hu:()=>K,g5:()=>N,US:()=>he,tV:()=>ge,h$:()=>le,$s:()=>vt,r3:()=>Pr,Sg:()=>Me,ne:()=>Lr,p$:()=>H,vZ:()=>Sn,ZB:()=>V,gK:()=>Ye,pd:()=>xi,m9:()=>fr,z$:()=>Ae,GJ:()=>bt,jU:()=>Y,ru:()=>ce,xb:()=>mt,w1:()=>De,hl:()=>ae,uI:()=>xe,UG:()=>W,Yr:()=>Be,b$:()=>_e,w9:()=>Mn,cI:()=>Xt,UI:()=>Or,xO:()=>Hn,zd:()=>Fr,DV:()=>Tt,ug:()=>ct,dS:()=>xn,Pz:()=>Ge,Dv:()=>ki,Wj:()=>ut,lb:()=>Lt,eu:()=>z});const K=function(F,B){if(!F)throw N(B)},N=function(F){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+F)},ue=function(F){const B=[];let j=0;for(let me=0;me<F.length;me++){let Q=F.charCodeAt(me);Q<128?B[j++]=Q:Q<2048?(B[j++]=Q>>6|192,B[j++]=63&Q|128):55296==(64512&Q)&&me+1<F.length&&56320==(64512&F.charCodeAt(me+1))?(Q=65536+((1023&Q)<<10)+(1023&F.charCodeAt(++me)),B[j++]=Q>>18|240,B[j++]=Q>>12&63|128,B[j++]=Q>>6&63|128,B[j++]=63&Q|128):(B[j++]=Q>>12|224,B[j++]=Q>>6&63|128,B[j++]=63&Q|128)}return B},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(F,B){if(!Array.isArray(F))throw Error("encodeByteArray takes an array as a parameter");this.init_();const j=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,me=[];for(let Q=0;Q<F.length;Q+=3){const Fe=F[Q],Qe=Q+1<F.length,kt=Qe?F[Q+1]:0,Vt=Q+2<F.length,Ht=Vt?F[Q+2]:0;let hn=(15&kt)<<2|Ht>>6,jn=63&Ht;Vt||(jn=64,Qe||(hn=64)),me.push(j[Fe>>2],j[(3&Fe)<<4|kt>>4],j[hn],j[jn])}return me.join("")},encodeString(F,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(F):this.encodeByteArray(ue(F),B)},decodeString(F,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(F):function(F){const B=[];let j=0,me=0;for(;j<F.length;){const Q=F[j++];if(Q<128)B[me++]=String.fromCharCode(Q);else if(Q>191&&Q<224){const Fe=F[j++];B[me++]=String.fromCharCode((31&Q)<<6|63&Fe)}else if(Q>239&&Q<365){const Vt=((7&Q)<<18|(63&F[j++])<<12|(63&F[j++])<<6|63&F[j++])-65536;B[me++]=String.fromCharCode(55296+(Vt>>10)),B[me++]=String.fromCharCode(56320+(1023&Vt))}else{const Fe=F[j++],Qe=F[j++];B[me++]=String.fromCharCode((15&Q)<<12|(63&Fe)<<6|63&Qe)}}return B.join("")}(this.decodeStringToByteArray(F,B))},decodeStringToByteArray(F,B){this.init_();const j=B?this.charToByteMapWebSafe_:this.charToByteMap_,me=[];for(let Q=0;Q<F.length;){const Fe=j[F.charAt(Q++)],kt=Q<F.length?j[F.charAt(Q)]:0;++Q;const Ht=Q<F.length?j[F.charAt(Q)]:64;++Q;const dt=Q<F.length?j[F.charAt(Q)]:64;if(++Q,null==Fe||null==kt||null==Ht||null==dt)throw Error();me.push(Fe<<2|kt>>4),64!==Ht&&(me.push(kt<<4&240|Ht>>2),64!==dt&&me.push(Ht<<6&192|dt))}return me},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let F=0;F<this.ENCODED_VALS.length;F++)this.byteToCharMap_[F]=this.ENCODED_VALS.charAt(F),this.charToByteMap_[this.byteToCharMap_[F]]=F,this.byteToCharMapWebSafe_[F]=this.ENCODED_VALS_WEBSAFE.charAt(F),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[F]]=F,F>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(F)]=F,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(F)]=F)}}},le=function(F){const B=ue(F);return he.encodeByteArray(B,!0)},fe=function(F){return le(F).replace(/\./g,"")},ge=function(F){try{return he.decodeString(F,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function H(F){return V(void 0,F)}function V(F,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===F&&(F={});break;case Array:F=[];break;default:return B}for(const j in B)!B.hasOwnProperty(j)||!J(j)||(F[j]=V(F[j],B[j]));return F}function J(F){return"__proto__"!==F}class Le{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,j)=>{this.resolve=B,this.reject=j})}wrapCallback(B){return(j,me)=>{j?this.reject(j):this.resolve(me),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(j):B(j,me))}}}function Me(F,B){if(F.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const me=B||"demo-project",Q=F.iat||0,Fe=F.sub||F.user_id;if(!Fe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Qe=Object.assign({iss:`https://securetoken.google.com/${me}`,aud:me,iat:Q,exp:Q+3600,auth_time:Q,sub:Fe,user_id:Fe,firebase:{sign_in_provider:"custom",identities:{}}},F);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(Qe)),""].join(".")}function Ae(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function xe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ae())}function W(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(F){return!1}}function Y(){return"object"==typeof self&&self.self===self}function ce(){const F="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof F&&void 0!==F.id}function _e(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function De(){const F=Ae();return F.indexOf("MSIE ")>=0||F.indexOf("Trident/")>=0}function Be(){return!1}function ae(){return"object"==typeof indexedDB}function z(){return new Promise((F,B)=>{try{let j=!0;const me="validate-browser-context-for-indexeddb-analytics-module",Q=self.indexedDB.open(me);Q.onsuccess=()=>{Q.result.close(),j||self.indexedDB.deleteDatabase(me),F(!0)},Q.onupgradeneeded=()=>{j=!1},Q.onerror=()=>{var Fe;B((null===(Fe=Q.error)||void 0===Fe?void 0:Fe.message)||"")}}catch(j){B(j)}})}function ee(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ie extends Error{constructor(B,j,me){super(j),this.code=B,this.customData=me,this.name="FirebaseError",Object.setPrototypeOf(this,Ie.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,te.prototype.create)}}class te{constructor(B,j,me){this.service=B,this.serviceName=j,this.errors=me}create(B,...j){const me=j[0]||{},Q=`${this.service}/${B}`,Fe=this.errors[B],Qe=Fe?function rt(F,B){return F.replace(wt,(j,me)=>{const Q=B[me];return null!=Q?String(Q):`<${me}?>`})}(Fe,me):"Error";return new Ie(Q,`${this.serviceName}: ${Qe} (${Q}).`,me)}}const wt=/\{\$([^}]+)}/g;function Xt(F){return JSON.parse(F)}function Ge(F){return JSON.stringify(F)}const ze=function(F){let B={},j={},me={},Q="";try{const Fe=F.split(".");B=Xt(ge(Fe[0])||""),j=Xt(ge(Fe[1])||""),Q=Fe[2],me=j.d||{},delete j.d}catch(Fe){}return{header:B,claims:j,data:me,signature:Q}},Mn=function(F){const j=ze(F).claims;return!!j&&"object"==typeof j&&j.hasOwnProperty("iat")},bt=function(F){const B=ze(F).claims;return"object"==typeof B&&!0===B.admin};function Pr(F,B){return Object.prototype.hasOwnProperty.call(F,B)}function Tt(F,B){if(Object.prototype.hasOwnProperty.call(F,B))return F[B]}function mt(F){for(const B in F)if(Object.prototype.hasOwnProperty.call(F,B))return!1;return!0}function Or(F,B,j){const me={};for(const Q in F)Object.prototype.hasOwnProperty.call(F,Q)&&(me[Q]=B.call(j,F[Q],Q,F));return me}function Sn(F,B){if(F===B)return!0;const j=Object.keys(F),me=Object.keys(B);for(const Q of j){if(!me.includes(Q))return!1;const Fe=F[Q],Qe=B[Q];if(Si(Fe)&&Si(Qe)){if(!Sn(Fe,Qe))return!1}else if(Fe!==Qe)return!1}for(const Q of me)if(!j.includes(Q))return!1;return!0}function Si(F){return null!==F&&"object"==typeof F}function Hn(F){const B=[];for(const[j,me]of Object.entries(F))Array.isArray(me)?me.forEach(Q=>{B.push(encodeURIComponent(j)+"="+encodeURIComponent(Q))}):B.push(encodeURIComponent(j)+"="+encodeURIComponent(me));return B.length?"&"+B.join("&"):""}function Fr(F){const B={};return F.replace(/^\?/,"").split("&").forEach(me=>{if(me){const[Q,Fe]=me.split("=");B[decodeURIComponent(Q)]=decodeURIComponent(Fe)}}),B}function xi(F){const B=F.indexOf("?");if(!B)return"";const j=F.indexOf("#",B);return F.substring(B,j>0?j:void 0)}class Xn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let B=1;B<this.blockSize;++B)this.pad_[B]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(B,j){j||(j=0);const me=this.W_;if("string"==typeof B)for(let dt=0;dt<16;dt++)me[dt]=B.charCodeAt(j)<<24|B.charCodeAt(j+1)<<16|B.charCodeAt(j+2)<<8|B.charCodeAt(j+3),j+=4;else for(let dt=0;dt<16;dt++)me[dt]=B[j]<<24|B[j+1]<<16|B[j+2]<<8|B[j+3],j+=4;for(let dt=16;dt<80;dt++){const hn=me[dt-3]^me[dt-8]^me[dt-14]^me[dt-16];me[dt]=4294967295&(hn<<1|hn>>>31)}let Ht,nr,Q=this.chain_[0],Fe=this.chain_[1],Qe=this.chain_[2],kt=this.chain_[3],Vt=this.chain_[4];for(let dt=0;dt<80;dt++){dt<40?dt<20?(Ht=kt^Fe&(Qe^kt),nr=1518500249):(Ht=Fe^Qe^kt,nr=1859775393):dt<60?(Ht=Fe&Qe|kt&(Fe|Qe),nr=2400959708):(Ht=Fe^Qe^kt,nr=3395469782);const hn=(Q<<5|Q>>>27)+Ht+Vt+nr+me[dt]&4294967295;Vt=kt,kt=Qe,Qe=4294967295&(Fe<<30|Fe>>>2),Fe=Q,Q=hn}this.chain_[0]=this.chain_[0]+Q&4294967295,this.chain_[1]=this.chain_[1]+Fe&4294967295,this.chain_[2]=this.chain_[2]+Qe&4294967295,this.chain_[3]=this.chain_[3]+kt&4294967295,this.chain_[4]=this.chain_[4]+Vt&4294967295}update(B,j){if(null==B)return;void 0===j&&(j=B.length);const me=j-this.blockSize;let Q=0;const Fe=this.buf_;let Qe=this.inbuf_;for(;Q<j;){if(0===Qe)for(;Q<=me;)this.compress_(B,Q),Q+=this.blockSize;if("string"==typeof B){for(;Q<j;)if(Fe[Qe]=B.charCodeAt(Q),++Qe,++Q,Qe===this.blockSize){this.compress_(Fe),Qe=0;break}}else for(;Q<j;)if(Fe[Qe]=B[Q],++Qe,++Q,Qe===this.blockSize){this.compress_(Fe),Qe=0;break}}this.inbuf_=Qe,this.total_+=j}digest(){const B=[];let j=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Q=this.blockSize-1;Q>=56;Q--)this.buf_[Q]=255&j,j/=256;this.compress_(this.buf_);let me=0;for(let Q=0;Q<5;Q++)for(let Fe=24;Fe>=0;Fe-=8)B[me]=this.chain_[Q]>>Fe&255,++me;return B}}function Lr(F,B){const j=new Je(F,B);return j.subscribe.bind(j)}class Je{constructor(B,j){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=j,this.task.then(()=>{B(this)}).catch(me=>{this.error(me)})}next(B){this.forEachObserver(j=>{j.next(B)})}error(B){this.forEachObserver(j=>{j.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,j,me){let Q;if(void 0===B&&void 0===j&&void 0===me)throw new Error("Missing Observer.");Q=function fn(F,B){if("object"!=typeof F||null===F)return!1;for(const j of B)if(j in F&&"function"==typeof F[j])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:j,complete:me},void 0===Q.next&&(Q.next=en),void 0===Q.error&&(Q.error=en),void 0===Q.complete&&(Q.complete=en);const Fe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Q.error(this.finalError):Q.complete()}catch(Qe){}}),this.observers.push(Q),Fe}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let j=0;j<this.observers.length;j++)this.sendOne(j,B)}sendOne(B,j){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{j(this.observers[B])}catch(me){"undefined"!=typeof console&&console.error&&console.error(me)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function en(){}const ki=function(F,B,j,me){let Q;if(me<B?Q="at least "+B:me>j&&(Q=0===j?"none":"no more than "+j),Q)throw new Error(F+" failed: Was called with "+me+(1===me?" argument.":" arguments.")+" Expects "+Q+".")};function Ye(F,B){return`${F} failed: ${B} argument `}function ut(F,B,j,me){if((!me||j)&&"function"!=typeof j)throw new Error(Ye(F,B)+"must be a valid function.")}function Lt(F,B,j,me){if((!me||j)&&("object"!=typeof j||null===j))throw new Error(Ye(F,B)+"must be a valid context object.")}const xn=function(F){const B=[];let j=0;for(let me=0;me<F.length;me++){let Q=F.charCodeAt(me);if(Q>=55296&&Q<=56319){const Fe=Q-55296;me++,K(me<F.length,"Surrogate pair missing trail surrogate."),Q=65536+(Fe<<10)+(F.charCodeAt(me)-56320)}Q<128?B[j++]=Q:Q<2048?(B[j++]=Q>>6|192,B[j++]=63&Q|128):Q<65536?(B[j++]=Q>>12|224,B[j++]=Q>>6&63|128,B[j++]=63&Q|128):(B[j++]=Q>>18|240,B[j++]=Q>>12&63|128,B[j++]=Q>>6&63|128,B[j++]=63&Q|128)}return B},ct=function(F){let B=0;for(let j=0;j<F.length;j++){const me=F.charCodeAt(j);me<128?B++:me<2048?B+=2:me>=55296&&me<=56319?(B+=4,j++):B+=3}return B};function vt(F,B=1e3,j=2){const me=B*Math.pow(j,F),Q=Math.round(.5*me*(Math.random()-.5)*2);return Math.min(144e5,me+Q)}function fr(F){return F&&F._delegate?F._delegate:F}},8041:($e,we,O)=>{"use strict";var a=O(5e3);let K=null;function N(){return K}const le=new a.OlP("DocumentToken");var ee=(()=>((ee=ee||{})[ee.Zero=0]="Zero",ee[ee.One=1]="One",ee[ee.Two=2]="Two",ee[ee.Few=3]="Few",ee[ee.Many=4]="Many",ee[ee.Other=5]="Other",ee))();const xi=a.kL8;class It{}let $t=(()=>{class i extends It{constructor(e){super(),this.locale=e}getPluralCategory(e,o){switch(xi(o||this.locale)(e)){case ee.Zero:return"zero";case ee.One:return"one";case ee.Two:return"two";case ee.Few:return"few";case ee.Many:return"many";default:return"other"}}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(a.soG))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})(),rs=(()=>{class i{constructor(e,o,u,p){this._iterableDiffers=e,this._keyValueDiffers=o,this._ngEl=u,this._renderer=p,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,a.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(o=>this._toggleClass(o.key,o.currentValue)),e.forEachChangedItem(o=>this._toggleClass(o.key,o.currentValue)),e.forEachRemovedItem(o=>{o.previousValue&&this._toggleClass(o.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(o=>{if("string"!=typeof o.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,a.AaK)(o.item)}`);this._toggleClass(o.item,!0)}),e.forEachRemovedItem(o=>this._toggleClass(o.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(o=>this._toggleClass(o,!0)):Object.keys(e).forEach(o=>this._toggleClass(o,!!e[o])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(o=>this._toggleClass(o,!1)):Object.keys(e).forEach(o=>this._toggleClass(o,!1)))}_toggleClass(e,o){(e=e.trim())&&e.split(/\s+/g).forEach(u=>{o?this._renderer.addClass(this._ngEl.nativeElement,u):this._renderer.removeClass(this._ngEl.nativeElement,u)})}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},i.\u0275dir=a.lG2({type:i,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),i})();class Rs{constructor(t,e,o,u){this.$implicit=t,this.ngForOf=e,this.index=o,this.count=u}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let jt=(()=>{class i{constructor(e,o,u){this._viewContainer=e,this._template=o,this._differs=u,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const o=this._viewContainer;e.forEachOperation((u,p,_)=>{if(null==u.previousIndex)o.createEmbeddedView(this._template,new Rs(u.item,this._ngForOf,-1,-1),null===_?void 0:_);else if(null==_)o.remove(null===p?void 0:p);else if(null!==p){const I=o.get(p);o.move(I,_),Ri(I,u)}});for(let u=0,p=o.length;u<p;u++){const I=o.get(u).context;I.index=u,I.count=p,I.ngForOf=this._ngForOf}e.forEachIdentityChange(u=>{Ri(o.get(u.currentIndex),u)})}static ngTemplateContextGuard(e,o){return!0}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},i.\u0275dir=a.lG2({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();function Ri(i,t){i.context.$implicit=t.item}let an=(()=>{class i{constructor(e,o){this._viewContainer=e,this._context=new At,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Rl("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Rl("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,o){return!0}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.s_b),a.Y36(a.Rgc))},i.\u0275dir=a.lG2({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class At{constructor(){this.$implicit=null,this.ngIf=null}}function Rl(i,t){if(t&&!t.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,a.AaK)(t)}'.`)}let si=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:[{provide:It,useClass:$t}]}),i})();class Fi extends class co extends class he{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ne(i){K||(K=i)}(new Fi)}onAndCancel(t,e,o){return t.addEventListener(e,o,!1),()=>{t.removeEventListener(e,o,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function ta(){return Mt=Mt||document.querySelector("base"),Mt?Mt.getAttribute("href"):null}();return null==e?null:function as(i){fo=fo||document.createElement("a"),fo.setAttribute("href",i);const t=fo.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Mt=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function ks(i,t){t=encodeURIComponent(t);for(const e of i.split(";")){const o=e.indexOf("="),[u,p]=-1==o?[e,""]:[e.slice(0,o),e.slice(o+1)];if(u.trim()===t)return decodeURIComponent(p)}return null}(document.cookie,t)}}let fo,Mt=null;const Cn=new a.OlP("TRANSITION_ID"),Wt=[{provide:a.ip1,useFactory:function na(i,t,e){return()=>{e.get(a.CZH).donePromise.then(()=>{const o=N(),u=t.querySelectorAll(`style[ng-transition="${i}"]`);for(let p=0;p<u.length;p++)o.remove(u[p])})}},deps:[Cn,le,a.zs3],multi:!0}];class li{static init(){(0,a.VLi)(new li)}addToWindow(t){a.dqk.getAngularTestability=(o,u=!0)=>{const p=t.findTestabilityInTree(o,u);if(null==p)throw new Error("Could not find testability for element.");return p},a.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(o=>{const u=a.dqk.getAllAngularTestabilities();let p=u.length,_=!1;const I=function(T){_=_||T,p--,0==p&&o(_)};u.forEach(function(T){T.whenStable(I)})})}findTestabilityInTree(t,e,o){if(null==e)return null;const u=t.getTestability(e);return null!=u?u:o?N().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let En=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})();const Vs=new a.OlP("EventManagerPlugins");let Vr=(()=>{class i{constructor(e,o){this._zone=o,this._eventNameToPlugin=new Map,e.forEach(u=>u.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,o,u){return this._findPluginFor(o).addEventListener(e,o,u)}addGlobalEventListener(e,o,u){return this._findPluginFor(o).addGlobalEventListener(e,o,u)}getZone(){return this._zone}_findPluginFor(e){const o=this._eventNameToPlugin.get(e);if(o)return o;const u=this._plugins;for(let p=0;p<u.length;p++){const _=u[p];if(_.supports(e))return this._eventNameToPlugin.set(e,_),_}throw new Error(`No event manager plugin found for event ${e}`)}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(Vs),a.LFG(a.R0b))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})();class za{constructor(t){this._doc=t}addGlobalEventListener(t,e,o){const u=N().getGlobalEventTarget(this._doc,t);if(!u)throw new Error(`Unsupported event target ${u} for event ${e}`);return this.addEventListener(u,e,o)}}let sr=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(e){const o=new Set;e.forEach(u=>{this._stylesSet.has(u)||(this._stylesSet.add(u),o.add(u))}),this.onStylesAdded(o)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})(),Li=(()=>{class i extends sr{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,o,u){e.forEach(p=>{const _=this._doc.createElement("style");_.textContent=p,u.push(o.appendChild(_))})}addHost(e){const o=[];this._addStylesToHost(this._stylesSet,e,o),this._hostNodes.set(e,o)}removeHost(e){const o=this._hostNodes.get(e);o&&o.forEach(Vi),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((o,u)=>{this._addStylesToHost(e,u,o)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Vi))}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(le))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})();function Vi(i){N().remove(i)}const Ke={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ho=/%COMP%/g;function ye(i,t,e){for(let o=0;o<t.length;o++){let u=t[o];Array.isArray(u)?ye(i,u,e):(u=u.replace(ho,i),e.push(u))}return e}function pt(i){return t=>{if("__ngUnwrap__"===t)return i;!1===i(t)&&(t.preventDefault(),t.returnValue=!1)}}let zt=(()=>{class i{constructor(e,o,u){this.eventManager=e,this.sharedStylesHost=o,this.appId=u,this.rendererByCompId=new Map,this.defaultRenderer=new Bi(e)}createRenderer(e,o){if(!e||!o)return this.defaultRenderer;switch(o.encapsulation){case a.ifc.Emulated:{let u=this.rendererByCompId.get(o.id);return u||(u=new Ka(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,u)),u.applyToHost(e),u}case 1:case a.ifc.ShadowDom:return new Ya(this.eventManager,this.sharedStylesHost,e,o);default:if(!this.rendererByCompId.has(o.id)){const u=ye(o.id,o.styles,[]);this.sharedStylesHost.addStyles(u),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(Vr),a.LFG(Li),a.LFG(a.AFp))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})();class Bi{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Ke[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,o){t&&t.insertBefore(e,o)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let o="string"==typeof t?document.querySelector(t):t;if(!o)throw new Error(`The selector "${t}" did not match any elements`);return e||(o.textContent=""),o}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,o,u){if(u){e=u+":"+e;const p=Ke[u];p?t.setAttributeNS(p,e,o):t.setAttribute(e,o)}else t.setAttribute(e,o)}removeAttribute(t,e,o){if(o){const u=Ke[o];u?t.removeAttributeNS(u,e):t.removeAttribute(`${o}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,o,u){u&(a.JOm.DashCase|a.JOm.Important)?t.style.setProperty(e,o,u&a.JOm.Important?"important":""):t.style[e]=o}removeStyle(t,e,o){o&a.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,o){t[e]=o}setValue(t,e){t.nodeValue=e}listen(t,e,o){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,pt(o)):this.eventManager.addEventListener(t,e,pt(o))}}class Ka extends Bi{constructor(t,e,o,u){super(t),this.component=o;const p=ye(u+"-"+o.id,o.styles,[]);e.addStyles(p),this.contentAttr=function mo(i){return"_ngcontent-%COMP%".replace(ho,i)}(u+"-"+o.id),this.hostAttr=function Qu(i){return"_nghost-%COMP%".replace(ho,i)}(u+"-"+o.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const o=super.createElement(t,e);return super.setAttribute(o,this.contentAttr,""),o}}class Ya extends Bi{constructor(t,e,o,u){super(t),this.sharedStylesHost=e,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const p=ye(u.id,u.styles,[]);for(let _=0;_<p.length;_++){const I=document.createElement("style");I.textContent=p[_],this.shadowRoot.appendChild(I)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,o){return super.insertBefore(this.nodeOrShadowRoot(t),e,o)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Wl=(()=>{class i extends za{constructor(e){super(e)}supports(e){return!0}addEventListener(e,o,u){return e.addEventListener(o,u,!1),()=>this.removeEventListener(e,o,u)}removeEventListener(e,o,u){return e.removeEventListener(o,u)}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(le))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})();const zl=["alt","control","meta","shift"],Bs={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Dr={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let Qa=(()=>{class i extends za{constructor(e){super(e)}supports(e){return null!=i.parseEventName(e)}addEventListener(e,o,u){const p=i.parseEventName(o),_=i.eventCallback(p.fullKey,u,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(e,p.domEventName,_))}static parseEventName(e){const o=e.toLowerCase().split("."),u=o.shift();if(0===o.length||"keydown"!==u&&"keyup"!==u)return null;const p=i._normalizeKey(o.pop());let _="";if(zl.forEach(T=>{const x=o.indexOf(T);x>-1&&(o.splice(x,1),_+=T+".")}),_+=p,0!=o.length||0===p.length)return null;const I={};return I.domEventName=u,I.fullKey=_,I}static getEventFullKey(e){let o="",u=function Br(i){let t=i.key;if(null==t){if(t=i.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===i.location&&mn.hasOwnProperty(t)&&(t=mn[t]))}return Bs[t]||t}(e);return u=u.toLowerCase()," "===u?u="space":"."===u&&(u="dot"),zl.forEach(p=>{p!=u&&Dr[p](e)&&(o+=p+".")}),o+=u,o}static eventCallback(e,o,u){return p=>{i.getEventFullKey(p)===e&&u.runGuarded(()=>o(p))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(le))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})();const Kl=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:"browser"},{provide:a.g9A,useValue:function ui(){Fi.makeCurrent(),li.init()},multi:!0},{provide:le,useFactory:function ql(){return(0,a.RDi)(document),document},deps:[]}]),ls=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function Co(){return new a.qLn},deps:[]},{provide:Vs,useClass:Wl,multi:!0,deps:[le,a.R0b,a.Lbi]},{provide:Vs,useClass:Qa,multi:!0,deps:[le]},{provide:zt,useClass:zt,deps:[Vr,Li,a.AFp]},{provide:a.FYo,useExisting:zt},{provide:sr,useExisting:Li},{provide:Li,useClass:Li,deps:[le]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b]},{provide:Vr,useClass:Vr,deps:[Vs,a.R0b]},{provide:class Ot{},useClass:En,deps:[]}];let Ja=(()=>{class i{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:i,providers:[{provide:a.AFp,useValue:e.appId},{provide:Cn,useExisting:a.AFp},Wt]}}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(i,12))},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:ls,imports:[si,a.hGG]}),i})();"undefined"!=typeof window&&window;const jd_firebase={apiKey:"AIzaSyBvF318SUFk3AYix5pvXncCBNAenGDVefo",authDomain:"derinlezzet2.firebaseapp.com",databaseURL:"https://derinlezzet2-default-rtdb.firebaseio.com",projectId:"derinlezzet2",storageBucket:"derinlezzet2.appspot.com",messagingSenderId:"1072150125111",appId:"1:1072150125111:web:892e53c0bb291bb0717db2",measurementId:"G-5XC0442JVH"};var or=O(2011),Bn=O(4986),_r=O(8306),To=O(7669),ds=O(8996);function br(...i){const t=(0,To.yG)(i);return(0,ds.D)(i,t)}var oa=O(831),_t=O(4004),aa=O(3099),Hr=O(8421),yr=O(4482),Dn=O(5403);function jr(i,t){return(0,yr.e)((e,o)=>{let u=null,p=0,_=!1;const I=()=>_&&!u&&o.complete();e.subscribe(new Dn.Q(o,T=>{null==u||u.unsubscribe();let x=0;const Z=p++;(0,Hr.Xf)(i(T,Z)).subscribe(u=new Dn.Q(o,U=>o.next(t?t(T,U,Z,x++):U),()=>{u=null,I()}))},()=>{_=!0,I()}))})}function Jl(i,t,e,o,u){return(p,_)=>{let I=e,T=t,x=0;p.subscribe(new Dn.Q(_,Z=>{const U=x++;T=I?i(T,Z,U):(I=!0,Z),o&&_.next(T)},u&&(()=>{I&&_.next(T),_.complete()})))}}function la(i,t){return(0,yr.e)(Jl(i,t,arguments.length>=2,!0))}var rl=O(4671);function Ui(i,t){return i===t}var fs=O(5032),Ft=O(2680),js=(O(389),O(3942)),Tr=O(4859),Ar=O(5861),Zr=O(9681),R=O(2090),Zs=O(1877);const il="@firebase/database";let sl="";function ol(i){sl=i}class da{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,R.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,R.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class ji{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,R.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Ao=function(i){try{if("undefined"!=typeof window&&void 0!==window[i]){const t=window[i];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new da(t)}}catch(t){}return new ji},Gr=Ao("localStorage"),Zi=Ao("sessionStorage"),Sr=new Zs.Yd("@firebase/database"),hi=function(){let i=1;return function(){return i++}}(),$r=function(i){const t=(0,R.dS)(i),e=new R.gQ;e.update(t);const o=e.digest();return R.US.encodeByteArray(o)},Gi=function(...i){let t="";for(let e=0;e<i.length;e++){const o=i[e];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?t+=Gi.apply(null,o):t+="object"==typeof o?(0,R.Pz)(o):o,t+=" "}return t};let $i=null,hs=!0;const al=function(i,t){(0,R.hu)(!t||!0===i||!1===i,"Can't turn on custom loggers persistently."),!0===i?(Sr.logLevel=Zs.in.VERBOSE,$i=Sr.log.bind(Sr),t&&Zi.set("logging_enabled",!0)):"function"==typeof i?$i=i:($i=null,Zi.remove("logging_enabled"))},nn=function(...i){if(!0===hs&&(hs=!1,null===$i&&!0===Zi.get("logging_enabled")&&al(!0)),$i){const t=Gi.apply(null,i);$i(t)}},Bt=function(i){return function(...t){nn(i,...t)}},rc=function(...i){const t="FIREBASE INTERNAL ERROR: "+Gi(...i);Sr.error(t)},Wi=function(...i){const t=`FIREBASE FATAL ERROR: ${Gi(...i)}`;throw Sr.error(t),new Error(t)},ar=function(...i){const t="FIREBASE WARNING: "+Gi(...i);Sr.warn(t)},fa=function(i){return"number"==typeof i&&(i!=i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},zi="[MIN_NAME]",Nn="[MAX_NAME]",Gs=function(i,t){if(i===t)return 0;if(i===zi||t===Nn)return-1;if(t===zi||i===Nn)return 1;{const e=ha(i),o=ha(t);return null!==e?null!==o?e-o==0?i.length-t.length:e-o:-1:null!==o?1:i<t?-1:1}},Kt=function(i,t){return i===t?0:i<t?-1:1},ps=function(i,t){if(t&&i in t)return t[i];throw new Error("Missing required key ("+i+") in object: "+(0,R.Pz)(t))},pi=function(i){if("object"!=typeof i||null===i)return(0,R.Pz)(i);const t=[];for(const o in i)t.push(o);t.sort();let e="{";for(let o=0;o<t.length;o++)0!==o&&(e+=","),e+=(0,R.Pz)(t[o]),e+=":",e+=pi(i[t[o]]);return e+="}",e},Zd=function(i,t){const e=i.length;if(e<=t)return[i];const o=[];for(let u=0;u<e;u+=t)o.push(i.substring(u,u+t>e?e:u+t));return o};function rn(i,t){for(const e in i)i.hasOwnProperty(e)&&t(e,i[e])}const Rn=function(i){(0,R.hu)(!fa(i),"Invalid JSON number");const o=1023;let u,p,_,I,T;0===i?(p=0,_=0,u=1/i==-1/0?1:0):(u=i<0,(i=Math.abs(i))>=Math.pow(2,1-o)?(I=Math.min(Math.floor(Math.log(i)/Math.LN2),o),p=I+o,_=Math.round(i*Math.pow(2,52-I)-Math.pow(2,52))):(p=0,_=Math.round(i/Math.pow(2,-1074))));const x=[];for(T=52;T;T-=1)x.push(_%2?1:0),_=Math.floor(_/2);for(T=11;T;T-=1)x.push(p%2?1:0),p=Math.floor(p/2);x.push(u?1:0),x.reverse();const Z=x.join("");let U="";for(T=0;T<64;T+=8){let oe=parseInt(Z.substr(T,8),2).toString(16);1===oe.length&&(oe="0"+oe),U+=oe}return U.toLowerCase()},gi=new RegExp("^-?(0*)\\d{1,10}$"),mi=-2147483648,Mo=2147483647,ha=function(i){if(gi.test(i)){const t=Number(i);if(t>=mi&&t<=Mo)return t}return null},Ws=function(i){try{i()}catch(t){setTimeout(()=>{throw ar("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},_i=function(i,t){const e=setTimeout(i,t);return"object"==typeof e&&e.unref&&e.unref(),e};class Pn{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(o=>this.appCheck=o)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,o)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,o):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(o=>o.addTokenListener(t))}notifyForInvalidToken(){ar(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class pa{constructor(t,e,o){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(u=>this.auth_=u)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(nn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,o)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,o):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ar(t)}}let Cr=(()=>{class i{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return i.OWNER="owner",i})();const ma=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,xo="websocket",yi="long_polling";class vi{constructor(t,e,o,u,p=!1,_="",I=!1){this.secure=e,this.namespace=o,this.webSocketOnly=u,this.nodeAdmin=p,this.persistenceKey=_,this.includeNamespaceInQueryParams=I,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Gr.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Gr.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function _a(i,t,e){let o;if((0,R.hu)("string"==typeof t,"typeof type must == string"),(0,R.hu)("object"==typeof e,"typeof params must == object"),t===xo)o=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else{if(t!==yi)throw new Error("Unknown connection type: "+t);o=(i.secure?"https://":"http://")+i.internalHost+"/.lp?"}(function xr(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams})(i)&&(e.ns=i.namespace);const u=[];return rn(e,(p,_)=>{u.push(p+"="+_)}),o+u.join("&")}class ac{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,R.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,R.p$)(this.counters_)}}const ko={},ul={};function ya(i){const t=i.toString();return ko[t]||(ko[t]=new ac),ko[t]}class E{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let u=0;u<o.length;++u)o[u]&&Ws(()=>{this.onMessage_(o[u])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class On{constructor(t,e,o,u,p,_,I){this.connId=t,this.repoInfo=e,this.applicationId=o,this.appCheckToken=u,this.authToken=p,this.transportSessionId=_,this.lastSessionId=I,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Bt(t),this.stats_=ya(e),this.urlFn=T=>(this.appCheckToken&&(T.ac=this.appCheckToken),_a(e,yi,T))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new E(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(i){if((0,R.Yr)()||"complete"===document.readyState)i();else{let t=!1;const e=function(){document.body?t||(t=!0,i()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new No((...p)=>{const[_,I,T,x,Z]=p;if(this.incrementIncomingBytes_(p),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===_)this.id=I,this.password=T;else{if("close"!==_)throw new Error("Unrecognized command received: "+_);I?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(I,()=>{this.onClosed_()})):this.onClosed_()}},(...p)=>{const[_,I]=p;this.incrementIncomingBytes_(p),this.myPacketOrderer.handleResponse(_,I)},()=>{this.onClosed_()},this.urlFn);const o={start:"t"};o.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(o.cb=this.scriptTagHolder.uniqueCallbackIdentifier),o.v="5",this.transportSessionId&&(o.s=this.transportSessionId),this.lastSessionId&&(o.ls=this.lastSessionId),this.applicationId&&(o.p=this.applicationId),this.appCheckToken&&(o.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&ma.test(location.hostname)&&(o.r="f");const u=this.urlFn(o);this.log_("Connecting via long-poll to "+u),this.scriptTagHolder.addTag(u,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){On.forceAllow_=!0}static forceDisallow(){On.forceDisallow_=!0}static isAvailable(){return!((0,R.Yr)()||!On.forceAllow_&&(On.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,R.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const o=(0,R.h$)(e),u=Zd(o,1840);for(let p=0;p<u.length;p++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,u.length,u[p]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,R.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const o={dframe:"t"};o.id=t,o.pw=e,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,R.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class No{constructor(t,e,o,u){if(this.onDisconnect=o,this.urlFn=u,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,R.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=hi(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=No.createIFrame_();let p="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(p='<script>document.domain="'+document.domain+'";<\/script>');const _="<html><body>"+p+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(_),this.myIFrame.doc.close()}catch(I){nn("frame writing exception"),I.stack&&nn(I.stack),nn(I)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||nn("No IE domain setting required")}catch(e){const o=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),o="",u=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+o.length<=1870;){const _=this.pendingSegs.shift();o=o+"&seg"+u+"="+_.seg+"&ts"+u+"="+_.ts+"&d"+u+"="+_.d,u++}return e+=o,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,o){this.pendingSegs.push({seg:t,ts:e,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const o=()=>{this.outstandingRequests.delete(e),this.newRequest_()},u=setTimeout(o,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(u),o()})}addTag(t,e){(0,R.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){const u=o.readyState;(!u||"loaded"===u||"complete"===u)&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),e())},o.onerror=()=>{nn("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch(o){}},Math.floor(1))}}let qr=null;"undefined"!=typeof MozWebSocket?qr=MozWebSocket:"undefined"!=typeof WebSocket&&(qr=WebSocket);let _s=(()=>{class i{constructor(e,o,u,p,_,I,T){this.connId=e,this.applicationId=u,this.appCheckToken=p,this.authToken=_,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Bt(this.connId),this.stats_=ya(o),this.connURL=i.connectionURL_(o,I,T,p),this.nodeAdmin=o.nodeAdmin}static connectionURL_(e,o,u,p){const _={v:"5"};return!(0,R.Yr)()&&"undefined"!=typeof location&&location.hostname&&ma.test(location.hostname)&&(_.r="f"),o&&(_.s=o),u&&(_.ls=u),p&&(_.ac=p),_a(e,xo,_)}open(e,o){this.onDisconnect=o,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Gr.set("previous_websocket_failure",!0);try{if((0,R.Yr)()){const p={headers:{"User-Agent":`Firebase/5/${sl}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(p.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(p.headers["X-Firebase-AppCheck"]=this.appCheckToken);const _=process.env,I=0===this.connURL.indexOf("wss://")?_.HTTPS_PROXY||_.https_proxy:_.HTTP_PROXY||_.http_proxy;I&&(p.proxy={origin:I}),this.mySock=new qr(this.connURL,[],p)}else this.mySock=new qr(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(u){this.log_("Error instantiating WebSocket.");const p=u.message||u.data;return p&&this.log_(p),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=u=>{this.handleIncomingFrame(u)},this.mySock.onerror=u=>{this.log_("WebSocket error.  Closing connection.");const p=u.message||u.data;p&&this.log_(p),this.onClosed_()}}start(){}static forceDisallow(){i.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const u=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);u&&u.length>1&&parseFloat(u[1])<4.4&&(e=!0)}return!e&&null!==qr&&!i.forceDisallow_}static previouslyFailed(){return Gr.isInMemoryStorage||!0===Gr.get("previous_websocket_failure")}markConnectionHealthy(){Gr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const o=this.frames.join("");this.frames=null;const u=(0,R.cI)(o);this.onMessage(u)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,R.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const o=Number(e);if(!isNaN(o))return this.handleNewFrameCount_(o),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const o=e.data;if(this.bytesReceived+=o.length,this.stats_.incrementCounter("bytes_received",o.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(o);else{const u=this.extractFrameCount_(o);null!==u&&this.appendFrame_(u)}}send(e){this.resetKeepAlive();const o=(0,R.Pz)(e);this.bytesSent+=o.length,this.stats_.incrementCounter("bytes_sent",o.length);const u=Zd(o,16384);u.length>1&&this.sendString_(String(u.length));for(let p=0;p<u.length;p++)this.sendString_(u[p])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(o){this.log_("Exception thrown from WebSocket.send():",o.message||o.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return i.responsesRequiredToBeHealthy=2,i.healthyTimeout=3e4,i})();class lc{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[On,_s]}initTransports_(t){const e=_s&&_s.isAvailable();let o=e&&!_s.previouslyFailed();if(t.webSocketOnly&&(e||ar("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[_s];else{const u=this.transports_=[];for(const p of lc.ALL_TRANSPORTS)p&&p.isAvailable()&&u.push(p)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class au{constructor(t,e,o,u,p,_,I,T,x,Z){this.id=t,this.repoInfo_=e,this.applicationId_=o,this.appCheckToken_=u,this.authToken_=p,this.onMessage_=_,this.onReady_=I,this.onDisconnect_=T,this.onKill_=x,this.lastSessionId=Z,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Bt("c:"+this.id+":"),this.transportManager_=new lc(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,o)},Math.floor(0));const u=t.healthyTimeout||0;u>0&&(this.healthyTimeout_=_i(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(u)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=ps("t",t),o=ps("d",t);if("c"===e)this.onSecondaryControl_(o);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(o)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=ps("t",t),o=ps("d",t);"c"===e?this.onControl_(o):"d"===e&&this.onDataMessage_(o)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=ps("t",t);if("d"in t){const o=t.d;if("h"===e)this.onHandshake_(o);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let u=0;u<this.pendingDataMessages.length;++u)this.onDataMessage_(this.pendingDataMessages[u]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(o):"r"===e?this.onReset_(o):"e"===e?rc("Server Error: "+o):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):rc("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,o=t.v,u=t.h;this.sessionId=t.s,this.repoInfo_.host=u,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==o&&ar("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,o),_i(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):_i(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Gr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class dc{put(t,e,o,u){}merge(t,e,o,u){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,o){}onDisconnectMerge(t,e,o){}onDisconnectCancel(t,e){}reportStats(t){}}class fc{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,R.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const o=[...this.listeners_[t]];for(let u=0;u<o.length;u++)o[u].callback.apply(o[u].context,e)}}on(t,e,o){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:o});const u=this.getInitialEvent(t);u&&e.apply(o,u)}off(t,e,o){this.validateEventType_(t);const u=this.listeners_[t]||[];for(let p=0;p<u.length;p++)if(u[p].callback===e&&(!o||o===u[p].context))return void u.splice(p,1)}validateEventType_(t){(0,R.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Ca extends fc{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,R.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ca}getInitialEvent(t){return(0,R.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class St{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let o=0;for(let u=0;u<this.pieces_.length;u++)this.pieces_[u].length>0&&(this.pieces_[o]=this.pieces_[u],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Dt(){return new St("")}function lt(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function Ks(i){return i.pieces_.length-i.pieceNum_}function yt(i){let t=i.pieceNum_;return t<i.pieces_.length&&t++,new St(i.pieces_,t)}function Po(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function lu(i,t=0){return i.pieces_.slice(i.pieceNum_+t)}function pc(i){if(i.pieceNum_>=i.pieces_.length)return null;const t=[];for(let e=i.pieceNum_;e<i.pieces_.length-1;e++)t.push(i.pieces_[e]);return new St(t,0)}function Yt(i,t){const e=[];for(let o=i.pieceNum_;o<i.pieces_.length;o++)e.push(i.pieces_[o]);if(t instanceof St)for(let o=t.pieceNum_;o<t.pieces_.length;o++)e.push(t.pieces_[o]);else{const o=t.split("/");for(let u=0;u<o.length;u++)o[u].length>0&&e.push(o[u])}return new St(e,0)}function gt(i){return i.pieceNum_>=i.pieces_.length}function lr(i,t){const e=lt(i),o=lt(t);if(null===e)return t;if(e===o)return lr(yt(i),yt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+i+")")}function Kd(i,t){const e=lu(i,0),o=lu(t,0);for(let u=0;u<e.length&&u<o.length;u++){const p=Gs(e[u],o[u]);if(0!==p)return p}return e.length===o.length?0:e.length<o.length?-1:1}function gc(i,t){if(Ks(i)!==Ks(t))return!1;for(let e=i.pieceNum_,o=t.pieceNum_;e<=i.pieces_.length;e++,o++)if(i.pieces_[e]!==t.pieces_[o])return!1;return!0}function Kr(i,t){let e=i.pieceNum_,o=t.pieceNum_;if(Ks(i)>Ks(t))return!1;for(;e<i.pieces_.length;){if(i.pieces_[e]!==t.pieces_[o])return!1;++e,++o}return!0}class cm{constructor(t,e){this.errorPrefix_=e,this.parts_=lu(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=(0,R.ug)(this.parts_[o]);Yd(this)}}function Yd(i){if(i.byteLength_>768)throw new Error(i.errorPrefix_+"has a key path longer than 768 bytes ("+i.byteLength_+").");if(i.parts_.length>32)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Yr(i))}function Yr(i){return 0===i.parts_.length?"":"in property '"+i.parts_.join(".")+"'"}class uu extends fc{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const o=!document[t];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}static getInstance(){return new uu}getInitialEvent(t){return(0,R.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const zn=1e3;let mc,ys=(()=>{class i extends dc{constructor(e,o,u,p,_,I,T,x){if(super(),this.repoInfo_=e,this.applicationId_=o,this.onDataUpdate_=u,this.onConnectStatus_=p,this.onServerInfoUpdate_=_,this.authTokenProvider_=I,this.appCheckTokenProvider_=T,this.authOverride_=x,this.id=i.nextPersistentConnectionId_++,this.log_=Bt("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=zn,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,x&&!(0,R.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");uu.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Ca.getInstance().on("online",this.onOnline_,this)}sendRequest(e,o,u){const p=++this.requestNumber_,_={r:p,a:e,b:o};this.log_((0,R.Pz)(_)),(0,R.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(_),u&&(this.requestCBHash_[p]=u)}get(e){this.initConnection_();const o=new R.BH,u={p:e._path.toString(),q:e._queryObject},p={action:"g",request:u,onComplete:I=>{const T=I.d;"ok"===I.s?(this.onDataUpdate_(u.p,T,!1,null),o.resolve(T)):o.reject(T)}};this.outstandingGets_.push(p),this.outstandingGetCount_++;const _=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const I=this.outstandingGets_[_];void 0===I||p!==I||(delete this.outstandingGets_[_],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+_+" timed out on connection"),o.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(_),o.promise}listen(e,o,u,p){this.initConnection_();const _=e._queryIdentifier,I=e._path.toString();this.log_("Listen called for "+I+" "+_),this.listens.has(I)||this.listens.set(I,new Map),(0,R.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,R.hu)(!this.listens.get(I).has(_),"listen() called twice for same path/queryId.");const T={onComplete:p,hashFn:o,query:e,tag:u};this.listens.get(I).set(_,T),this.connected_&&this.sendListen_(T)}sendGet_(e){const o=this.outstandingGets_[e];this.sendRequest("g",o.request,u=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),o.onComplete&&o.onComplete(u)})}sendListen_(e){const o=e.query,u=o._path.toString(),p=o._queryIdentifier;this.log_("Listen on "+u+" for "+p);const _={p:u};e.tag&&(_.q=o._queryObject,_.t=e.tag),_.h=e.hashFn(),this.sendRequest("q",_,T=>{const x=T.d,Z=T.s;i.warnOnListenWarnings_(x,o),(this.listens.get(u)&&this.listens.get(u).get(p))===e&&(this.log_("listen response",T),"ok"!==Z&&this.removeListen_(u,p),e.onComplete&&e.onComplete(Z,x))})}static warnOnListenWarnings_(e,o){if(e&&"object"==typeof e&&(0,R.r3)(e,"w")){const u=(0,R.DV)(e,"w");if(Array.isArray(u)&&~u.indexOf("no_index")){const p='".indexOn": "'+o._queryParams.getIndex().toString()+'"',_=o._path.toString();ar(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${p} at ${_} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,R.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,o=(0,R.w9)(e)?"auth":"gauth",u={cred:e};null===this.authOverride_?u.noauth=!0:"object"==typeof this.authOverride_&&(u.authvar=this.authOverride_),this.sendRequest(o,u,p=>{const _=p.s,I=p.d||"error";this.authToken_===e&&("ok"===_?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(_,I))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const o=e.s,u=e.d||"error";"ok"===o?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(o,u)})}unlisten(e,o){const u=e._path.toString(),p=e._queryIdentifier;this.log_("Unlisten called for "+u+" "+p),(0,R.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(u,p)&&this.connected_&&this.sendUnlisten_(u,p,e._queryObject,o)}sendUnlisten_(e,o,u,p){this.log_("Unlisten on "+e+" for "+o);const _={p:e};p&&(_.q=u,_.t=p),this.sendRequest("n",_)}onDisconnectPut(e,o,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,o,u):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:o,onComplete:u})}onDisconnectMerge(e,o,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,o,u):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:o,onComplete:u})}onDisconnectCancel(e,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:o})}sendOnDisconnect_(e,o,u,p){const _={p:o,d:u};this.log_("onDisconnect "+e,_),this.sendRequest(e,_,I=>{p&&setTimeout(()=>{p(I.s,I.d)},Math.floor(0))})}put(e,o,u,p){this.putInternal("p",e,o,u,p)}merge(e,o,u,p){this.putInternal("m",e,o,u,p)}putInternal(e,o,u,p,_){this.initConnection_();const I={p:o,d:u};void 0!==_&&(I.h=_),this.outstandingPuts_.push({action:e,request:I,onComplete:p}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+o)}sendPut_(e){const o=this.outstandingPuts_[e].action,u=this.outstandingPuts_[e].request,p=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(o,u,_=>{this.log_(o+" response",_),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),p&&p(_.s,_.d)})}reportStats(e){if(this.connected_){const o={c:e};this.log_("reportStats",o),this.sendRequest("s",o,u=>{"ok"!==u.s&&this.log_("reportStats","Error sending stats: "+u.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,R.Pz)(e));const o=e.r,u=this.requestCBHash_[o];u&&(delete this.requestCBHash_[o],u(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,o){this.log_("handleServerMessage",e,o),"d"===e?this.onDataUpdate_(o.p,o.d,!1,o.t):"m"===e?this.onDataUpdate_(o.p,o.d,!0,o.t):"c"===e?this.onListenRevoked_(o.p,o.q):"ac"===e?this.onAuthRevoked_(o.s,o.d):"apc"===e?this.onAppCheckRevoked_(o.s,o.d):"sd"===e?this.onSecurityDebugPacket_(o):rc("Unrecognized action received from server: "+(0,R.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,o){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=o,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,R.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=zn,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=zn,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=zn),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let o=Math.max(0,this.reconnectDelay_-e);o=Math.random()*o,this.log_("Trying to reconnect in "+o+"ms"),this.scheduleConnect_(o),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Ar.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const o=e.onDataMessage_.bind(e),u=e.onReady_.bind(e),p=e.onRealtimeDisconnect_.bind(e),_=e.id+":"+i.nextConnectionId_++,I=e.lastSessionId;let T=!1,x=null;const Z=function(){x?x.close():(T=!0,p())};e.realtime_={close:Z,sendRequest:function(be){(0,R.hu)(x,"sendRequest call when we're not connected not allowed."),x.sendRequest(be)}};const oe=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[be,Re]=yield Promise.all([e.authTokenProvider_.getToken(oe),e.appCheckTokenProvider_.getToken(oe)]);T?nn("getToken() completed but was canceled"):(nn("getToken() completed. Creating connection."),e.authToken_=be&&be.accessToken,e.appCheckToken_=Re&&Re.token,x=new au(_,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,o,u,p,ht=>{ar(ht+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},I))}catch(be){e.log_("Failed to get token: "+be),T||(e.repoInfo_.nodeAdmin&&ar(be),Z())}}})()}interrupt(e){nn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){nn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,R.xb)(this.interruptReasons_)&&(this.reconnectDelay_=zn,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const o=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:o})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const o=this.outstandingPuts_[e];o&&"h"in o.request&&o.queued&&(o.onComplete&&o.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,o){let u;u=o?o.map(_=>pi(_)).join("$"):"default";const p=this.removeListen_(e,u);p&&p.onComplete&&p.onComplete("permission_denied")}removeListen_(e,o){const u=new St(e).toString();let p;if(this.listens.has(u)){const _=this.listens.get(u);p=_.get(o),_.delete(o),0===_.size&&this.listens.delete(u)}else p=void 0;return p}onAuthRevoked_(e,o){nn("Auth token revoked: "+e+"/"+o),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,o){nn("App check token revoked: "+e+"/"+o),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const o of e.values())this.sendListen_(o);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let o="js";(0,R.Yr)()&&(o=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+o+"."+sl.replace(/\./g,"-")]=1,(0,R.uI)()?e["framework.cordova"]=1:(0,R.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ca.getInstance().currentlyOnline();return(0,R.xb)(this.interruptReasons_)&&e}}return i.nextPersistentConnectionId_=0,i.nextConnectionId_=0,i})();class ft{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new ft(t,e)}}class Ea{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const o=new ft(zi,t),u=new ft(zi,e);return 0!==this.compare(o,u)}minPost(){return ft.MIN}}class ef extends Ea{static get __EMPTY_NODE(){return mc}static set __EMPTY_NODE(t){mc=t}compare(t,e){return Gs(t.name,e.name)}isDefinedOn(t){throw(0,R.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return ft.MIN}maxPost(){return new ft(Nn,mc)}makePost(t,e){return(0,R.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new ft(t,mc)}toString(){return".key"}}const kr=new ef;class cu{constructor(t,e,o,u,p=null){this.isReverse_=u,this.resultGenerator_=p,this.nodeStack_=[];let _=1;for(;!t.isEmpty();)if(t=t,_=e?o(t.key,e):1,u&&(_*=-1),_<0)t=this.isReverse_?t.left:t.right;else{if(0===_){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let Ia,Ci=(()=>{class i{constructor(e,o,u,p,_){this.key=e,this.value=o,this.color=null!=u?u:i.RED,this.left=null!=p?p:qn.EMPTY_NODE,this.right=null!=_?_:qn.EMPTY_NODE}copy(e,o,u,p,_){return new i(null!=e?e:this.key,null!=o?o:this.value,null!=u?u:this.color,null!=p?p:this.left,null!=_?_:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,o,u){let p=this;const _=u(e,p.key);return p=_<0?p.copy(null,null,null,p.left.insert(e,o,u),null):0===_?p.copy(null,o,null,null,null):p.copy(null,null,null,null,p.right.insert(e,o,u)),p.fixUp_()}removeMin_(){if(this.left.isEmpty())return qn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,o){let u,p;if(u=this,o(e,u.key)<0)!u.left.isEmpty()&&!u.left.isRed_()&&!u.left.left.isRed_()&&(u=u.moveRedLeft_()),u=u.copy(null,null,null,u.left.remove(e,o),null);else{if(u.left.isRed_()&&(u=u.rotateRight_()),!u.right.isEmpty()&&!u.right.isRed_()&&!u.right.left.isRed_()&&(u=u.moveRedRight_()),0===o(e,u.key)){if(u.right.isEmpty())return qn.EMPTY_NODE;p=u.right.min_(),u=u.copy(p.key,p.value,null,null,u.right.removeMin_())}u=u.copy(null,null,null,null,u.right.remove(e,o))}return u.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,o)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return i.RED=!0,i.BLACK=!1,i})();class qn{constructor(t,e=qn.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new qn(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Ci.BLACK,null,null))}remove(t){return new qn(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ci.BLACK,null,null))}get(t){let e,o=this.root_;for(;!o.isEmpty();){if(e=this.comparator_(t,o.key),0===e)return o.value;e<0?o=o.left:e>0&&(o=o.right)}return null}getPredecessorKey(t){let e,o=this.root_,u=null;for(;!o.isEmpty();){if(e=this.comparator_(t,o.key),0===e){if(o.left.isEmpty())return u?u.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}e<0?o=o.left:e>0&&(u=o,o=o.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new cu(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new cu(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new cu(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new cu(this.root_,null,this.comparator_,!0,t)}}function tf(i,t){return Gs(i.name,t.name)}function wa(i,t){return Gs(i,t)}qn.EMPTY_NODE=new class _c{copy(t,e,o,u,p){return this}insert(t,e,o){return new Ci(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const nf=function(i){return"number"==typeof i?"number:"+Rn(i):"string:"+i},un=function(i){if(i.isLeafNode()){const t=i.val();(0,R.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,R.r3)(t,".sv"),"Priority must be a string or number.")}else(0,R.hu)(i===Ia||i.isEmpty(),"priority of unexpected type.");(0,R.hu)(i===Ia||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let vc,du,Cc,Da=(()=>{class i{constructor(e,o=i.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=o,this.lazyHash_=null,(0,R.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),un(this.priorityNode_)}static set __childrenNodeConstructor(e){vc=e}static get __childrenNodeConstructor(){return vc}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new i(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return gt(e)?this:".priority"===lt(e)?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,o){return null}updateImmediateChild(e,o){return".priority"===e?this.updatePriority(o):o.isEmpty()&&".priority"!==e?this:i.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,o).updatePriority(this.priorityNode_)}updateChild(e,o){const u=lt(e);return null===u?o:o.isEmpty()&&".priority"!==u?this:((0,R.hu)(".priority"!==u||1===Ks(e),".priority must be the last token in a path"),this.updateImmediateChild(u,i.__childrenNodeConstructor.EMPTY_NODE.updateChild(yt(e),o)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,o){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+nf(this.priorityNode_.val())+":");const o=typeof this.value_;e+=o+":",e+="number"===o?Rn(this.value_):this.value_,this.lazyHash_=$r(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===i.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof i.__childrenNodeConstructor?-1:((0,R.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const o=typeof e.value_,u=typeof this.value_,p=i.VALUE_TYPE_ORDER.indexOf(o),_=i.VALUE_TYPE_ORDER.indexOf(u);return(0,R.hu)(p>=0,"Unknown leaf type: "+o),(0,R.hu)(_>=0,"Unknown leaf type: "+u),p===_?"object"===u?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:_-p}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const o=e;return this.value_===o.value_&&this.priorityNode_.equals(o.priorityNode_)}return!1}}return i.VALUE_TYPE_ORDER=["object","boolean","number","string"],i})();const Ut=new class Zh extends Ea{compare(t,e){const o=t.node.getPriority(),u=e.node.getPriority(),p=o.compareTo(u);return 0===p?Gs(t.name,e.name):p}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return ft.MIN}maxPost(){return new ft(Nn,new Da("[PRIORITY-POST]",Cc))}makePost(t,e){const o=du(t);return new ft(e,new Da("[PRIORITY-POST]",o))}toString(){return".priority"}},Gh=Math.log(2);class hm{constructor(t){this.count=parseInt(Math.log(t+1)/Gh,10),this.current_=this.count-1;const u=(p=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&u}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Ec=function(i,t,e,o){i.sort(t);const u=function(T,x){const Z=x-T;let U,oe;if(0===Z)return null;if(1===Z)return U=i[T],oe=e?e(U):U,new Ci(oe,U.node,Ci.BLACK,null,null);{const be=parseInt(Z/2,10)+T,Re=u(T,be),ht=u(be+1,x);return U=i[be],oe=e?e(U):U,new Ci(oe,U.node,Ci.BLACK,Re,ht)}},I=function(T){let x=null,Z=null,U=i.length;const oe=function(Re,ht){const Rt=U-Re,dr=U;U-=Re;const An=u(Rt+1,dr),es=i[Rt],on=e?e(es):es;be(new Ci(on,es.node,ht,null,An))},be=function(Re){x?(x.left=Re,x=Re):(Z=Re,x=Re)};for(let Re=0;Re<T.count;++Re){const ht=T.nextBitIsOne(),Rt=Math.pow(2,T.count-(Re+1));ht?oe(Rt,Ci.BLACK):(oe(Rt,Ci.BLACK),oe(Rt,Ci.RED))}return Z}(new hm(i.length));return new qn(o||t,I)};let Fo;const cn={};class Nr{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,R.hu)(cn&&Ut,"ChildrenNode.ts has not been loaded"),Fo=Fo||new Nr({".priority":cn},{".priority":Ut}),Fo}get(t){const e=(0,R.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof qn?e:null}hasIndex(t){return(0,R.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,R.hu)(t!==kr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let u=!1;const p=e.getIterator(ft.Wrap);let I,_=p.getNext();for(;_;)u=u||t.isDefinedOn(_.node),o.push(_),_=p.getNext();I=u?Ec(o,t.getCompare()):cn;const T=t.toString(),x=Object.assign({},this.indexSet_);x[T]=t;const Z=Object.assign({},this.indexes_);return Z[T]=I,new Nr(Z,x)}addToIndexes(t,e){const o=(0,R.UI)(this.indexes_,(u,p)=>{const _=(0,R.DV)(this.indexSet_,p);if((0,R.hu)(_,"Missing index implementation for "+p),u===cn){if(_.isDefinedOn(t.node)){const I=[],T=e.getIterator(ft.Wrap);let x=T.getNext();for(;x;)x.name!==t.name&&I.push(x),x=T.getNext();return I.push(t),Ec(I,_.getCompare())}return cn}{const I=e.get(t.name);let T=u;return I&&(T=T.remove(new ft(t.name,I))),T.insert(t,t.node)}});return new Nr(o,this.indexSet_)}removeFromIndexes(t,e){const o=(0,R.UI)(this.indexes_,u=>{if(u===cn)return u;{const p=e.get(t.name);return p?u.remove(new ft(t.name,p)):u}});return new Nr(o,this.indexSet_)}}let Ys,it=(()=>{class i{constructor(e,o,u){this.children_=e,this.priorityNode_=o,this.indexMap_=u,this.lazyHash_=null,this.priorityNode_&&un(this.priorityNode_),this.children_.isEmpty()&&(0,R.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ys||(Ys=new i(new qn(wa),null,Nr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ys}updatePriority(e){return this.children_.isEmpty()?this:new i(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const o=this.children_.get(e);return null===o?Ys:o}}getChild(e){const o=lt(e);return null===o?this:this.getImmediateChild(o).getChild(yt(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,o){if((0,R.hu)(o,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(o);{const u=new ft(e,o);let p,_;o.isEmpty()?(p=this.children_.remove(e),_=this.indexMap_.removeFromIndexes(u,this.children_)):(p=this.children_.insert(e,o),_=this.indexMap_.addToIndexes(u,this.children_));const I=p.isEmpty()?Ys:this.priorityNode_;return new i(p,I,_)}}updateChild(e,o){const u=lt(e);if(null===u)return o;{(0,R.hu)(".priority"!==lt(e)||1===Ks(e),".priority must be the last token in a path");const p=this.getImmediateChild(u).updateChild(yt(e),o);return this.updateImmediateChild(u,p)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const o={};let u=0,p=0,_=!0;if(this.forEachChild(Ut,(I,T)=>{o[I]=T.val(e),u++,_&&i.INTEGER_REGEXP_.test(I)?p=Math.max(p,Number(I)):_=!1}),!e&&_&&p<2*u){const I=[];for(const T in o)I[T]=o[T];return I}return e&&!this.getPriority().isEmpty()&&(o[".priority"]=this.getPriority().val()),o}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+nf(this.getPriority().val())+":"),this.forEachChild(Ut,(o,u)=>{const p=u.hash();""!==p&&(e+=":"+o+":"+p)}),this.lazyHash_=""===e?"":$r(e)}return this.lazyHash_}getPredecessorChildName(e,o,u){const p=this.resolveIndex_(u);if(p){const _=p.getPredecessorKey(new ft(e,o));return _?_.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const o=this.resolveIndex_(e);if(o){const u=o.minKey();return u&&u.name}return this.children_.minKey()}getFirstChild(e){const o=this.getFirstChildName(e);return o?new ft(o,this.children_.get(o)):null}getLastChildName(e){const o=this.resolveIndex_(e);if(o){const u=o.maxKey();return u&&u.name}return this.children_.maxKey()}getLastChild(e){const o=this.getLastChildName(e);return o?new ft(o,this.children_.get(o)):null}forEachChild(e,o){const u=this.resolveIndex_(e);return u?u.inorderTraversal(p=>o(p.name,p.node)):this.children_.inorderTraversal(o)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,o){const u=this.resolveIndex_(o);if(u)return u.getIteratorFrom(e,p=>p);{const p=this.children_.getIteratorFrom(e.name,ft.Wrap);let _=p.peek();for(;null!=_&&o.compare(_,e)<0;)p.getNext(),_=p.peek();return p}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,o){const u=this.resolveIndex_(o);if(u)return u.getReverseIteratorFrom(e,p=>p);{const p=this.children_.getReverseIteratorFrom(e.name,ft.Wrap);let _=p.peek();for(;null!=_&&o.compare(_,e)>0;)p.getNext(),_=p.peek();return p}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ei?-1:0}withIndex(e){if(e===kr||this.indexMap_.hasIndex(e))return this;{const o=this.indexMap_.addIndex(e,this.children_);return new i(this.children_,this.priorityNode_,o)}}isIndexed(e){return e===kr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const o=e;if(this.getPriority().equals(o.getPriority())){if(this.children_.count()===o.children_.count()){const u=this.getIterator(Ut),p=o.getIterator(Ut);let _=u.getNext(),I=p.getNext();for(;_&&I;){if(_.name!==I.name||!_.node.equals(I.node))return!1;_=u.getNext(),I=p.getNext()}return null===_&&null===I}return!1}return!1}}resolveIndex_(e){return e===kr?null:this.indexMap_.get(e.toString())}}return i.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,i})();const Ei=new class Kn extends it{constructor(){super(new qn(wa),it.EMPTY_NODE,Nr.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return it.EMPTY_NODE}isEmpty(){return!1}};function Ct(i,t=null){if(null===i)return it.EMPTY_NODE;if("object"==typeof i&&".priority"in i&&(t=i[".priority"]),(0,R.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof i&&".value"in i&&null!==i[".value"]&&(i=i[".value"]),"object"!=typeof i||".sv"in i)return new Da(i,Ct(t));if(i instanceof Array){let e=it.EMPTY_NODE;return rn(i,(o,u)=>{if((0,R.r3)(i,o)&&"."!==o.substring(0,1)){const p=Ct(u);(p.isLeafNode()||!p.isEmpty())&&(e=e.updateImmediateChild(o,p))}}),e.updatePriority(Ct(t))}{const e=[];let o=!1;if(rn(i,(_,I)=>{if("."!==_.substring(0,1)){const T=Ct(I);T.isEmpty()||(o=o||!T.getPriority().isEmpty(),e.push(new ft(_,T)))}}),0===e.length)return it.EMPTY_NODE;const p=Ec(e,tf,_=>_.name,wa);if(o){const _=Ec(e,Ut.getCompare());return new it(p,Ct(t),new Nr({".priority":_},{".priority":Ut}))}return new it(p,Ct(t),Nr.Default)}}Object.defineProperties(ft,{MIN:{value:new ft(zi,it.EMPTY_NODE)},MAX:{value:new ft(Nn,Ei)}}),ef.__EMPTY_NODE=it.EMPTY_NODE,Da.__childrenNodeConstructor=it,function yc(i){Ia=i}(Ei),function fu(i){Cc=i}(Ei),function jh(i){du=i}(Ct);class Lo extends Ea{constructor(t){super(),this.indexPath_=t,(0,R.hu)(!gt(t)&&".priority"!==lt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const o=this.extractChild(t.node),u=this.extractChild(e.node),p=o.compareTo(u);return 0===p?Gs(t.name,e.name):p}makePost(t,e){const o=Ct(t),u=it.EMPTY_NODE.updateChild(this.indexPath_,o);return new ft(e,u)}maxPost(){const t=it.EMPTY_NODE.updateChild(this.indexPath_,Ei);return new ft(Nn,t)}toString(){return lu(this.indexPath_,0).join("/")}}const Dc=new class Ic extends Ea{compare(t,e){const o=t.node.compareTo(e.node);return 0===o?Gs(t.name,e.name):o}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return ft.MIN}maxPost(){return ft.MAX}makePost(t,e){const o=Ct(t);return new ft(e,o)}toString(){return".value"}},vs="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",$h=function(){let i=0;const t=[];return function(e){const o=e===i;let u;i=e;const p=new Array(8);for(u=7;u>=0;u--)p[u]=vs.charAt(e%64),e=Math.floor(e/64);(0,R.hu)(0===e,"Cannot push at time == 0");let _=p.join("");if(o){for(u=11;u>=0&&63===t[u];u--)t[u]=0;t[u]++}else for(u=0;u<12;u++)t[u]=Math.floor(64*Math.random());for(u=0;u<12;u++)_+=vs.charAt(t[u]);return(0,R.hu)(20===_.length,"nextPushId: Length should be 20."),_}}(),wi=function(i){if(i===""+Mo)return"-";const t=ha(i);if(null!=t)return""+(t+1);const e=new Array(i.length);for(let _=0;_<e.length;_++)e[_]=i.charAt(_);if(e.length<786)return e.push("-"),e.join("");let o=e.length-1;for(;o>=0&&"z"===e[o];)o--;if(-1===o)return Nn;const p=vs.charAt(vs.indexOf(e[o])+1);return e[o]=p,e.slice(0,o+1).join("")},Ac=function(i){if(i===""+mi)return zi;const t=ha(i);if(null!=t)return""+(t-1);const e=new Array(i.length);for(let o=0;o<e.length;o++)e[o]=i.charAt(o);return"-"===e[e.length-1]?1===e.length?""+Mo:(delete e[e.length-1],e.join("")):(e[e.length-1]=vs.charAt(vs.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function rf(i){return{type:"value",snapshotNode:i}}function Qs(i,t){return{type:"child_added",snapshotNode:t,childName:i}}function pl(i,t){return{type:"child_removed",snapshotNode:t,childName:i}}function ba(i,t,e){return{type:"child_changed",snapshotNode:t,childName:i,oldSnap:e}}class gl{constructor(t){this.index_=t}updateChild(t,e,o,u,p,_){(0,R.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const I=t.getImmediateChild(e);return I.getChild(u).equals(o.getChild(u))&&I.isEmpty()===o.isEmpty()||(null!=_&&(o.isEmpty()?t.hasChild(e)?_.trackChildChange(pl(e,I)):(0,R.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):I.isEmpty()?_.trackChildChange(Qs(e,o)):_.trackChildChange(ba(e,o,I))),t.isLeafNode()&&o.isEmpty())?t:t.updateImmediateChild(e,o).withIndex(this.index_)}updateFullNode(t,e,o){return null!=o&&(t.isLeafNode()||t.forEachChild(Ut,(u,p)=>{e.hasChild(u)||o.trackChildChange(pl(u,p))}),e.isLeafNode()||e.forEachChild(Ut,(u,p)=>{if(t.hasChild(u)){const _=t.getImmediateChild(u);_.equals(p)||o.trackChildChange(ba(u,p,_))}else o.trackChildChange(Qs(u,p))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?it.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Vo{constructor(t){this.indexedFilter_=new gl(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Vo.getStartPost_(t),this.endPost_=Vo.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,o,u,p,_){return this.matches(new ft(e,o))||(o=it.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,o,u,p,_)}updateFullNode(t,e,o){e.isLeafNode()&&(e=it.EMPTY_NODE);let u=e.withIndex(this.index_);u=u.updatePriority(it.EMPTY_NODE);const p=this;return e.forEachChild(Ut,(_,I)=>{p.matches(new ft(_,I))||(u=u.updateImmediateChild(_,it.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,u,o)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class Wh{constructor(t){this.rangedFilter_=new Vo(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,o,u,p,_){return this.rangedFilter_.matches(new ft(e,o))||(o=it.EMPTY_NODE),t.getImmediateChild(e).equals(o)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,o,u,p,_):this.fullLimitUpdateChild_(t,e,o,p,_)}updateFullNode(t,e,o){let u;if(e.isLeafNode()||e.isEmpty())u=it.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let p;u=it.EMPTY_NODE.withIndex(this.index_),p=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let _=0;for(;p.hasNext()&&_<this.limit_;){const I=p.getNext();let T;if(T=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),I)<=0:this.index_.compare(I,this.rangedFilter_.getEndPost())<=0,!T)break;u=u.updateImmediateChild(I.name,I.node),_++}}else{let p,_,I,T;if(u=e.withIndex(this.index_),u=u.updatePriority(it.EMPTY_NODE),this.reverse_){T=u.getReverseIterator(this.index_),p=this.rangedFilter_.getEndPost(),_=this.rangedFilter_.getStartPost();const U=this.index_.getCompare();I=(oe,be)=>U(be,oe)}else T=u.getIterator(this.index_),p=this.rangedFilter_.getStartPost(),_=this.rangedFilter_.getEndPost(),I=this.index_.getCompare();let x=0,Z=!1;for(;T.hasNext();){const U=T.getNext();!Z&&I(p,U)<=0&&(Z=!0),Z&&x<this.limit_&&I(U,_)<=0?x++:u=u.updateImmediateChild(U.name,it.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,u,o)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,o,u,p){let _;if(this.reverse_){const U=this.index_.getCompare();_=(oe,be)=>U(be,oe)}else _=this.index_.getCompare();const I=t;(0,R.hu)(I.numChildren()===this.limit_,"");const T=new ft(e,o),x=this.reverse_?I.getFirstChild(this.index_):I.getLastChild(this.index_),Z=this.rangedFilter_.matches(T);if(I.hasChild(e)){const U=I.getImmediateChild(e);let oe=u.getChildAfterChild(this.index_,x,this.reverse_);for(;null!=oe&&(oe.name===e||I.hasChild(oe.name));)oe=u.getChildAfterChild(this.index_,oe,this.reverse_);const be=null==oe?1:_(oe,T);if(Z&&!o.isEmpty()&&be>=0)return null!=p&&p.trackChildChange(ba(e,o,U)),I.updateImmediateChild(e,o);{null!=p&&p.trackChildChange(pl(e,U));const ht=I.updateImmediateChild(e,it.EMPTY_NODE);return null!=oe&&this.rangedFilter_.matches(oe)?(null!=p&&p.trackChildChange(Qs(oe.name,oe.node)),ht.updateImmediateChild(oe.name,oe.node)):ht}}return o.isEmpty()?t:Z&&_(x,T)>=0?(null!=p&&(p.trackChildChange(pl(x.name,x.node)),p.trackChildChange(Qs(e,o))),I.updateImmediateChild(e,o).updateImmediateChild(x.name,it.EMPTY_NODE)):t}}class Qr{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ut}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,R.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,R.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:zi}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,R.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,R.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Nn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,R.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ut}copy(){const t=new Qr;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Sc(i,t,e){const o=i.copy();return o.startSet_=!0,void 0===t&&(t=null),o.indexStartValue_=t,null!=e?(o.startNameSet_=!0,o.indexStartName_=e):(o.startNameSet_=!1,o.indexStartName_=""),o}function kc(i,t,e){const o=i.copy();return o.endSet_=!0,void 0===t&&(t=null),o.indexEndValue_=t,void 0!==e?(o.endNameSet_=!0,o.indexEndName_=e):(o.endNameSet_=!1,o.indexEndName_=""),o}function hu(i,t){const e=i.copy();return e.index_=t,e}function af(i){const t={};if(i.isDefault())return t;let e;return i.index_===Ut?e="$priority":i.index_===Dc?e="$value":i.index_===kr?e="$key":((0,R.hu)(i.index_ instanceof Lo,"Unrecognized index type!"),e=i.index_.toString()),t.orderBy=(0,R.Pz)(e),i.startSet_&&(t.startAt=(0,R.Pz)(i.indexStartValue_),i.startNameSet_&&(t.startAt+=","+(0,R.Pz)(i.indexStartName_))),i.endSet_&&(t.endAt=(0,R.Pz)(i.indexEndValue_),i.endNameSet_&&(t.endAt+=","+(0,R.Pz)(i.indexEndName_))),i.limitSet_&&(i.isViewFromLeft()?t.limitToFirst=i.limit_:t.limitToLast=i.limit_),t}function g(i){const t={};if(i.startSet_&&(t.sp=i.indexStartValue_,i.startNameSet_&&(t.sn=i.indexStartName_)),i.endSet_&&(t.ep=i.indexEndValue_,i.endNameSet_&&(t.en=i.indexEndName_)),i.limitSet_){t.l=i.limit_;let e=i.viewFrom_;""===e&&(e=i.isViewFromLeft()?"l":"r"),t.vf=e}return i.index_!==Ut&&(t.i=i.index_.toString()),t}class d extends dc{constructor(t,e,o,u){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=o,this.appCheckTokenProvider_=u,this.log_=Bt("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,R.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,o,u){const p=t._path.toString();this.log_("Listen called for "+p+" "+t._queryIdentifier);const _=d.getListenId_(t,o),I={};this.listens_[_]=I;const T=af(t._queryParams);this.restRequest_(p+".json",T,(x,Z)=>{let U=Z;if(404===x&&(U=null,x=null),null===x&&this.onDataUpdate_(p,U,!1,o),(0,R.DV)(this.listens_,_)===I){let oe;oe=x?401===x?"permission_denied":"rest_error:"+x:"ok",u(oe,null)}})}unlisten(t,e){const o=d.getListenId_(t,e);delete this.listens_[o]}get(t){const e=af(t._queryParams),o=t._path.toString(),u=new R.BH;return this.restRequest_(o+".json",e,(p,_)=>{let I=_;404===p&&(I=null,p=null),null===p?(this.onDataUpdate_(o,I,!1,null),u.resolve(I)):u.reject(new Error(I))}),u.promise}refreshAuthToken(t){}restRequest_(t,e={},o){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([u,p])=>{u&&u.accessToken&&(e.auth=u.accessToken),p&&p.token&&(e.ac=p.token);const _=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,R.xO)(e);this.log_("Sending REST request for "+_);const I=new XMLHttpRequest;I.onreadystatechange=()=>{if(o&&4===I.readyState){this.log_("REST Response for "+_+" received. status:",I.status,"response:",I.responseText);let T=null;if(I.status>=200&&I.status<300){try{T=(0,R.cI)(I.responseText)}catch(x){ar("Failed to parse JSON response for "+_+": "+I.responseText)}o(null,T)}else 401!==I.status&&404!==I.status&&ar("Got unsuccessful REST response for "+_+" Status: "+I.status),o(I.status);o=null}},I.open("GET",_,!0),I.send()})}}class h{constructor(){this.rootNode_=it.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function y(){return{value:null,children:new Map}}function D(i,t,e){if(gt(t))i.value=e,i.children.clear();else if(null!==i.value)i.value=i.value.updateChild(t,e);else{const o=lt(t);i.children.has(o)||i.children.set(o,y()),D(i.children.get(o),t=yt(t),e)}}function S(i,t){if(gt(t))return i.value=null,i.children.clear(),!0;if(null!==i.value){if(i.value.isLeafNode())return!1;{const e=i.value;return i.value=null,e.forEachChild(Ut,(o,u)=>{D(i,new St(o),u)}),S(i,t)}}if(i.children.size>0){const e=lt(t);return t=yt(t),i.children.has(e)&&S(i.children.get(e),t)&&i.children.delete(e),0===i.children.size}return!0}function G(i,t,e){null!==i.value?e(t,i.value):function ie(i,t){i.children.forEach((e,o)=>{t(o,e)})}(i,(o,u)=>{G(u,new St(t.toString()+"/"+o),e)})}class Ne{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&rn(this.last_,(o,u)=>{e[o]=e[o]-u}),this.last_=t,e}}class Qt{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Ne(t);const o=1e4+2e4*Math.random();_i(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const t=this.statsListener_.get(),e={};let o=!1;rn(t,(u,p)=>{p>0&&(0,R.r3)(this.statsToReport_,u)&&(e[u]=p,o=!0)}),o&&this.server_.reportStats(e),_i(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Jt=(()=>{return(i=Jt||(Jt={}))[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Jt;var i})();function Uo(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}class Aa{constructor(t,e,o){this.path=t,this.affectedTree=e,this.revert=o,this.type=Jt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(gt(this.path)){if(null!=this.affectedTree.value)return(0,R.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new St(t));return new Aa(Dt(),e,this.revert)}}return(0,R.hu)(lt(this.path)===t,"operationForChild called for unrelated child."),new Aa(yt(this.path),this.affectedTree,this.revert)}}class _l{constructor(t,e){this.source=t,this.path=e,this.type=Jt.LISTEN_COMPLETE}operationForChild(t){return gt(this.path)?new _l(this.source,Dt()):new _l(this.source,yt(this.path))}}class Er{constructor(t,e,o){this.source=t,this.path=e,this.snap=o,this.type=Jt.OVERWRITE}operationForChild(t){return gt(this.path)?new Er(this.source,Dt(),this.snap.getImmediateChild(t)):new Er(this.source,yt(this.path),this.snap)}}class Cs{constructor(t,e,o){this.source=t,this.path=e,this.children=o,this.type=Jt.MERGE}operationForChild(t){if(gt(this.path)){const e=this.children.subtree(new St(t));return e.isEmpty()?null:e.value?new Er(this.source,Dt(),e.value):new Cs(this.source,Dt(),e)}return(0,R.hu)(lt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Cs(this.source,yt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class qi{constructor(t,e,o){this.node_=t,this.fullyInitialized_=e,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(gt(t))return this.isFullyInitialized()&&!this.filtered_;const e=lt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class Nc{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function yl(i,t,e,o,u,p){const _=o.filter(I=>I.type===e);_.sort((I,T)=>function zh(i,t,e){if(null==t.childName||null==e.childName)throw(0,R.g5)("Should only compare child_ events.");const o=new ft(t.childName,t.snapshotNode),u=new ft(e.childName,e.snapshotNode);return i.index_.compare(o,u)}(i,I,T)),_.forEach(I=>{const T=function Rc(i,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,i.index_)),t}(i,I,p);u.forEach(x=>{x.respondsTo(I.type)&&t.push(x.createEvent(T,i.query_))})})}function lf(i,t){return{eventCache:i,serverCache:t}}function Pc(i,t,e,o){return lf(new qi(t,e,o),i.serverCache)}function pm(i,t,e,o){return lf(i.eventCache,new qi(t,e,o))}function Oc(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function Ho(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}let uf;class Gt{constructor(t,e=(()=>(uf||(uf=new qn(Kt)),uf))()){this.value=t,this.children=e}static fromObject(t){let e=new Gt(null);return rn(t,(o,u)=>{e=e.set(new St(o),u)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Dt(),value:this.value};if(gt(t))return null;{const o=lt(t),u=this.children.get(o);if(null!==u){const p=u.findRootMostMatchingPathAndValue(yt(t),e);return null!=p?{path:Yt(new St(o),p.path),value:p.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(gt(t))return this;{const e=lt(t),o=this.children.get(e);return null!==o?o.subtree(yt(t)):new Gt(null)}}set(t,e){if(gt(t))return new Gt(e,this.children);{const o=lt(t),p=(this.children.get(o)||new Gt(null)).set(yt(t),e),_=this.children.insert(o,p);return new Gt(this.value,_)}}remove(t){if(gt(t))return this.children.isEmpty()?new Gt(null):new Gt(null,this.children);{const e=lt(t),o=this.children.get(e);if(o){const u=o.remove(yt(t));let p;return p=u.isEmpty()?this.children.remove(e):this.children.insert(e,u),null===this.value&&p.isEmpty()?new Gt(null):new Gt(this.value,p)}return this}}get(t){if(gt(t))return this.value;{const e=lt(t),o=this.children.get(e);return o?o.get(yt(t)):null}}setTree(t,e){if(gt(t))return e;{const o=lt(t),p=(this.children.get(o)||new Gt(null)).setTree(yt(t),e);let _;return _=p.isEmpty()?this.children.remove(o):this.children.insert(o,p),new Gt(this.value,_)}}fold(t){return this.fold_(Dt(),t)}fold_(t,e){const o={};return this.children.inorderTraversal((u,p)=>{o[u]=p.fold_(Yt(t,u),e)}),e(t,this.value,o)}findOnPath(t,e){return this.findOnPath_(t,Dt(),e)}findOnPath_(t,e,o){const u=!!this.value&&o(e,this.value);if(u)return u;if(gt(t))return null;{const p=lt(t),_=this.children.get(p);return _?_.findOnPath_(yt(t),Yt(e,p),o):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Dt(),e)}foreachOnPath_(t,e,o){if(gt(t))return this;{this.value&&o(e,this.value);const u=lt(t),p=this.children.get(u);return p?p.foreachOnPath_(yt(t),Yt(e,u),o):new Gt(null)}}foreach(t){this.foreach_(Dt(),t)}foreach_(t,e){this.children.inorderTraversal((o,u)=>{u.foreach_(Yt(t,o),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,o)=>{o.value&&t(e,o.value)})}}class Es{constructor(t){this.writeTree_=t}static empty(){return new Es(new Gt(null))}}function gu(i,t,e){if(gt(t))return new Es(new Gt(e));{const o=i.writeTree_.findRootMostValueAndPath(t);if(null!=o){const u=o.path;let p=o.value;const _=lr(u,t);return p=p.updateChild(_,e),new Es(i.writeTree_.set(u,p))}{const u=new Gt(e),p=i.writeTree_.setTree(t,u);return new Es(p)}}}function cf(i,t,e){let o=i;return rn(e,(u,p)=>{o=gu(o,Yt(t,u),p)}),o}function Ma(i,t){if(gt(t))return Es.empty();{const e=i.writeTree_.setTree(t,new Gt(null));return new Es(e)}}function df(i,t){return null!=Sa(i,t)}function Sa(i,t){const e=i.writeTree_.findRootMostValueAndPath(t);return null!=e?i.writeTree_.get(e.path).getChild(lr(e.path,t)):null}function gm(i){const t=[],e=i.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Ut,(o,u)=>{t.push(new ft(o,u))}):i.writeTree_.children.inorderTraversal((o,u)=>{null!=u.value&&t.push(new ft(o,u.value))}),t}function ws(i,t){if(gt(t))return i;{const e=Sa(i,t);return new Es(null!=e?new Gt(e):i.writeTree_.subtree(t))}}function Kh(i){return i.writeTree_.isEmpty()}function vl(i,t){return Yh(Dt(),i.writeTree_,t)}function Yh(i,t,e){if(null!=t.value)return e.updateChild(i,t.value);{let o=null;return t.children.inorderTraversal((u,p)=>{".priority"===u?((0,R.hu)(null!==p.value,"Priority writes must always be leaf nodes"),o=p.value):e=Yh(Yt(i,u),p,e)}),!e.getChild(i).isEmpty()&&null!==o&&(e=e.updateChild(Yt(i,".priority"),o)),e}}function Fc(i,t){return Ki(t,i)}function _m(i,t){if(i.snap)return Kr(i.path,t);for(const e in i.children)if(i.children.hasOwnProperty(e)&&Kr(Yt(i.path,e),t))return!0;return!1}function ym(i){return i.visible}function pf(i,t,e){let o=Es.empty();for(let u=0;u<i.length;++u){const p=i[u];if(t(p)){const _=p.path;let I;if(p.snap)Kr(e,_)?(I=lr(e,_),o=gu(o,I,p.snap)):Kr(_,e)&&(I=lr(_,e),o=gu(o,Dt(),p.snap.getChild(I)));else{if(!p.children)throw(0,R.g5)("WriteRecord should have .snap or .children");if(Kr(e,_))I=lr(e,_),o=cf(o,I,p.children);else if(Kr(_,e))if(I=lr(_,e),gt(I))o=cf(o,Dt(),p.children);else{const T=(0,R.DV)(p.children,lt(I));if(T){const x=T.getChild(yt(I));o=gu(o,Dt(),x)}}}}}return o}function mu(i,t,e,o,u){if(o||u){const p=ws(i.visibleWrites,t);return!u&&Kh(p)?e:u||null!=e||df(p,Dt())?vl(pf(i.allWrites,function(x){return(x.visible||u)&&(!o||!~o.indexOf(x.writeId))&&(Kr(x.path,t)||Kr(t,x.path))},t),e||it.EMPTY_NODE):null}{const p=Sa(i.visibleWrites,t);if(null!=p)return p;{const _=ws(i.visibleWrites,t);return Kh(_)?e:null!=e||df(_,Dt())?vl(_,e||it.EMPTY_NODE):null}}}function Lc(i,t,e,o){return mu(i.writeTree,i.treePath,t,e,o)}function Em(i,t){return function Lv(i,t,e){let o=it.EMPTY_NODE;const u=Sa(i.visibleWrites,t);if(u)return u.isLeafNode()||u.forEachChild(Ut,(p,_)=>{o=o.updateImmediateChild(p,_)}),o;if(e){const p=ws(i.visibleWrites,t);return e.forEachChild(Ut,(_,I)=>{const T=vl(ws(p,new St(_)),I);o=o.updateImmediateChild(_,T)}),gm(p).forEach(_=>{o=o.updateImmediateChild(_.name,_.node)}),o}return gm(ws(i.visibleWrites,t)).forEach(_=>{o=o.updateImmediateChild(_.name,_.node)}),o}(i.writeTree,i.treePath,t)}function ep(i,t,e,o){return function vm(i,t,e,o,u){(0,R.hu)(o||u,"Either existingEventSnap or existingServerSnap must exist");const p=Yt(t,e);if(df(i.visibleWrites,p))return null;{const _=ws(i.visibleWrites,p);return Kh(_)?u.getChild(e):vl(_,u.getChild(e))}}(i.writeTree,i.treePath,t,e,o)}function gf(i,t){return function Bv(i,t){return Sa(i.visibleWrites,t)}(i.writeTree,Yt(i.treePath,t))}function tp(i,t,e){return function Vv(i,t,e,o){const u=Yt(t,e),p=Sa(i.visibleWrites,u);return null!=p?p:o.isCompleteForChild(e)?vl(ws(i.visibleWrites,u),o.getNode().getImmediateChild(e)):null}(i.writeTree,i.treePath,t,e)}function Im(i,t){return Ki(Yt(i.treePath,t),i.writeTree)}function Ki(i,t){return{treePath:i,writeTree:t}}class Uv{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,o=t.childName;(0,R.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,R.hu)(".priority"!==o,"Only non-priority child changes can be tracked.");const u=this.changeMap.get(o);if(u){const p=u.type;if("child_added"===e&&"child_removed"===p)this.changeMap.set(o,ba(o,t.snapshotNode,u.snapshotNode));else if("child_removed"===e&&"child_added"===p)this.changeMap.delete(o);else if("child_removed"===e&&"child_changed"===p)this.changeMap.set(o,pl(o,u.oldSnap));else if("child_changed"===e&&"child_added"===p)this.changeMap.set(o,Qs(o,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==p)throw(0,R.g5)("Illegal combination of changes: "+t+" occurred after "+u);this.changeMap.set(o,ba(o,t.snapshotNode,u.oldSnap))}}else this.changeMap.set(o,t)}getChanges(){return Array.from(this.changeMap.values())}}const bm=new class Dm{getCompleteChild(t){return null}getChildAfterChild(t,e,o){return null}};class np{constructor(t,e,o=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=o}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const o=null!=this.optCompleteServerCache_?new qi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return tp(this.writes_,t,o)}}getChildAfterChild(t,e,o){const u=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ho(this.viewCache_),p=function wm(i,t,e,o,u,p){return function Cm(i,t,e,o,u,p,_){let I;const T=ws(i.visibleWrites,t),x=Sa(T,Dt());if(null!=x)I=x;else{if(null==e)return[];I=vl(T,e)}if(I=I.withIndex(_),I.isEmpty()||I.isLeafNode())return[];{const Z=[],U=_.getCompare(),oe=p?I.getReverseIteratorFrom(o,_):I.getIteratorFrom(o,_);let be=oe.getNext();for(;be&&Z.length<u;)0!==U(be,o)&&Z.push(be),be=oe.getNext();return Z}}(i.writeTree,i.treePath,t,e,o,u,p)}(this.writes_,u,e,1,o,t);return 0===p.length?null:p[0]}}function Am(i,t,e,o,u,p){const _=t.eventCache;if(null!=gf(o,e))return t;{let I,T;if(gt(e))if((0,R.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const x=Ho(t),U=Em(o,x instanceof it?x:it.EMPTY_NODE);I=i.filter.updateFullNode(t.eventCache.getNode(),U,p)}else{const x=Lc(o,Ho(t));I=i.filter.updateFullNode(t.eventCache.getNode(),x,p)}else{const x=lt(e);if(".priority"===x){(0,R.hu)(1===Ks(e),"Can't have a priority with additional path components");const Z=_.getNode();T=t.serverCache.getNode();const U=ep(o,e,Z,T);I=null!=U?i.filter.updatePriority(Z,U):_.getNode()}else{const Z=yt(e);let U;if(_.isCompleteForChild(x)){T=t.serverCache.getNode();const oe=ep(o,e,_.getNode(),T);U=null!=oe?_.getNode().getImmediateChild(x).updateChild(Z,oe):_.getNode().getImmediateChild(x)}else U=tp(o,x,t.serverCache);I=null!=U?i.filter.updateChild(_.getNode(),x,U,Z,u,p):_.getNode()}}return Pc(t,I,_.isFullyInitialized()||gt(e),i.filter.filtersNodes())}}function mf(i,t,e,o,u,p,_,I){const T=t.serverCache;let x;const Z=_?i.filter:i.filter.getIndexedFilter();if(gt(e))x=Z.updateFullNode(T.getNode(),o,null);else if(Z.filtersNodes()&&!T.isFiltered()){const be=T.getNode().updateChild(e,o);x=Z.updateFullNode(T.getNode(),be,null)}else{const be=lt(e);if(!T.isCompleteForPath(e)&&Ks(e)>1)return t;const Re=yt(e),Rt=T.getNode().getImmediateChild(be).updateChild(Re,o);x=".priority"===be?Z.updatePriority(T.getNode(),Rt):Z.updateChild(T.getNode(),be,Rt,Re,bm,null)}const U=pm(t,x,T.isFullyInitialized()||gt(e),Z.filtersNodes());return Am(i,U,e,u,new np(u,U,p),I)}function st(i,t,e,o,u,p,_){const I=t.eventCache;let T,x;const Z=new np(u,t,p);if(gt(e))x=i.filter.updateFullNode(t.eventCache.getNode(),o,_),T=Pc(t,x,!0,i.filter.filtersNodes());else{const U=lt(e);if(".priority"===U)x=i.filter.updatePriority(t.eventCache.getNode(),o),T=Pc(t,x,I.isFullyInitialized(),I.isFiltered());else{const oe=yt(e),be=I.getNode().getImmediateChild(U);let Re;if(gt(oe))Re=o;else{const ht=Z.getCompleteChild(U);Re=null!=ht?".priority"===Po(oe)&&ht.getChild(pc(oe)).isEmpty()?ht:ht.updateChild(oe,o):it.EMPTY_NODE}T=be.equals(Re)?t:Pc(t,i.filter.updateChild(I.getNode(),U,Re,oe,Z,_),I.isFullyInitialized(),i.filter.filtersNodes())}}return T}function rp(i,t){return i.eventCache.isCompleteForChild(t)}function ip(i,t,e){return e.foreach((o,u)=>{t=t.updateChild(o,u)}),t}function _u(i,t,e,o,u,p,_,I){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let x,T=t;x=gt(e)?o:new Gt(null).setTree(e,o);const Z=t.serverCache.getNode();return x.children.inorderTraversal((U,oe)=>{if(Z.hasChild(U)){const Re=ip(0,t.serverCache.getNode().getImmediateChild(U),oe);T=mf(i,T,new St(U),Re,u,p,_,I)}}),x.children.inorderTraversal((U,oe)=>{const be=!t.serverCache.isCompleteForChild(U)&&void 0===oe.value;if(!Z.hasChild(U)&&!be){const ht=ip(0,t.serverCache.getNode().getImmediateChild(U),oe);T=mf(i,T,new St(U),ht,u,p,_,I)}}),T}class sp{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const o=this.query_._queryParams,u=new gl(o.getIndex()),p=function ml(i){return i.loadsAllData()?new gl(i.getIndex()):i.hasLimit()?new Wh(i):new Vo(i)}(o);this.processor_=function Hv(i){return{filter:i}}(p);const _=e.serverCache,I=e.eventCache,T=u.updateFullNode(it.EMPTY_NODE,_.getNode(),null),x=p.updateFullNode(it.EMPTY_NODE,I.getNode(),null),Z=new qi(T,_.isFullyInitialized(),u.filtersNodes()),U=new qi(x,I.isFullyInitialized(),p.filtersNodes());this.viewCache_=lf(U,Z),this.eventGenerator_=new Nc(this.query_)}get query(){return this.query_}}function xm(i,t){const e=Ho(i.viewCache_);return e&&(i.query._queryParams.loadsAllData()||!gt(t)&&!e.getImmediateChild(lt(t)).isEmpty())?e.getChild(t):null}function _f(i){return 0===i.eventRegistrations_.length}function ap(i,t,e){const o=[];if(e){(0,R.hu)(null==t,"A cancel should cancel all event registrations.");const u=i.query._path;i.eventRegistrations_.forEach(p=>{const _=p.createCancelEvent(e,u);_&&o.push(_)})}if(t){let u=[];for(let p=0;p<i.eventRegistrations_.length;++p){const _=i.eventRegistrations_[p];if(_.matches(t)){if(t.hasAnyCallback()){u=u.concat(i.eventRegistrations_.slice(p+1));break}}else u.push(_)}i.eventRegistrations_=u}else i.eventRegistrations_=[];return o}function $v(i,t,e,o){t.type===Jt.MERGE&&null!==t.source.queryId&&((0,R.hu)(Ho(i.viewCache_),"We should always have a full cache before handling merges"),(0,R.hu)(Oc(i.viewCache_),"Missing event cache, even though we have a server cache"));const u=i.viewCache_,p=function Tm(i,t,e,o,u){const p=new Uv;let _,I;if(e.type===Jt.OVERWRITE){const x=e;x.source.fromUser?_=st(i,t,x.path,x.snap,o,u,p):((0,R.hu)(x.source.fromServer,"Unknown source."),I=x.source.tagged||t.serverCache.isFiltered()&&!gt(x.path),_=mf(i,t,x.path,x.snap,o,u,I,p))}else if(e.type===Jt.MERGE){const x=e;x.source.fromUser?_=function Mm(i,t,e,o,u,p,_){let I=t;return o.foreach((T,x)=>{const Z=Yt(e,T);rp(t,lt(Z))&&(I=st(i,I,Z,x,u,p,_))}),o.foreach((T,x)=>{const Z=Yt(e,T);rp(t,lt(Z))||(I=st(i,I,Z,x,u,p,_))}),I}(i,t,x.path,x.children,o,u,p):((0,R.hu)(x.source.fromServer,"Unknown source."),I=x.source.tagged||t.serverCache.isFiltered(),_=_u(i,t,x.path,x.children,o,u,I,p))}else if(e.type===Jt.ACK_USER_WRITE){const x=e;_=x.revert?function Gv(i,t,e,o,u,p){let _;if(null!=gf(o,e))return t;{const I=new np(o,t,u),T=t.eventCache.getNode();let x;if(gt(e)||".priority"===lt(e)){let Z;if(t.serverCache.isFullyInitialized())Z=Lc(o,Ho(t));else{const U=t.serverCache.getNode();(0,R.hu)(U instanceof it,"serverChildren would be complete if leaf node"),Z=Em(o,U)}Z=Z,x=i.filter.updateFullNode(T,Z,p)}else{const Z=lt(e);let U=tp(o,Z,t.serverCache);null==U&&t.serverCache.isCompleteForChild(Z)&&(U=T.getImmediateChild(Z)),x=null!=U?i.filter.updateChild(T,Z,U,yt(e),I,p):t.eventCache.getNode().hasChild(Z)?i.filter.updateChild(T,Z,it.EMPTY_NODE,yt(e),I,p):T,x.isEmpty()&&t.serverCache.isFullyInitialized()&&(_=Lc(o,Ho(t)),_.isLeafNode()&&(x=i.filter.updateFullNode(x,_,p)))}return _=t.serverCache.isFullyInitialized()||null!=gf(o,Dt()),Pc(t,x,_,i.filter.filtersNodes())}}(i,t,x.path,o,u,p):function Is(i,t,e,o,u,p,_){if(null!=gf(u,e))return t;const I=t.serverCache.isFiltered(),T=t.serverCache;if(null!=o.value){if(gt(e)&&T.isFullyInitialized()||T.isCompleteForPath(e))return mf(i,t,e,T.getNode().getChild(e),u,p,I,_);if(gt(e)){let x=new Gt(null);return T.getNode().forEachChild(kr,(Z,U)=>{x=x.set(new St(Z),U)}),_u(i,t,e,x,u,p,I,_)}return t}{let x=new Gt(null);return o.foreach((Z,U)=>{const oe=Yt(e,Z);T.isCompleteForPath(oe)&&(x=x.set(Z,T.getNode().getChild(oe)))}),_u(i,t,e,x,u,p,I,_)}}(i,t,x.path,x.affectedTree,o,u,p)}else{if(e.type!==Jt.LISTEN_COMPLETE)throw(0,R.g5)("Unknown operation type: "+e.type);_=function Sm(i,t,e,o,u){const p=t.serverCache;return Am(i,pm(t,p.getNode(),p.isFullyInitialized()||gt(e),p.isFiltered()),e,o,bm,u)}(i,t,e.path,o,p)}const T=p.getChanges();return function Zv(i,t,e){const o=t.eventCache;if(o.isFullyInitialized()){const u=o.getNode().isLeafNode()||o.getNode().isEmpty(),p=Oc(i);(e.length>0||!i.eventCache.isFullyInitialized()||u&&!o.getNode().equals(p)||!o.getNode().getPriority().equals(p.getPriority()))&&e.push(rf(Oc(t)))}}(t,_,T),{viewCache:_,changes:T}}(i.processor_,u,t,e,o);return function jv(i,t){(0,R.hu)(t.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,R.hu)(t.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}(i.processor_,p.viewCache),(0,R.hu)(p.viewCache.serverCache.isFullyInitialized()||!u.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=p.viewCache,Vc(i,p.changes,p.viewCache.eventCache.getNode(),null)}function Vc(i,t,e,o){return function pu(i,t,e,o){const u=[],p=[];return t.forEach(_=>{"child_changed"===_.type&&i.index_.indexedValueChanged(_.oldSnap,_.snapshotNode)&&p.push(function Fn(i,t){return{type:"child_moved",snapshotNode:t,childName:i}}(_.childName,_.snapshotNode))}),yl(i,u,"child_removed",t,o,e),yl(i,u,"child_added",t,o,e),yl(i,u,"child_moved",p,o,e),yl(i,u,"child_changed",t,o,e),yl(i,u,"value",t,o,e),u}(i.eventGenerator_,t,e,o?[o]:i.eventRegistrations_)}let yu,vu;class vf{constructor(){this.views=new Map}}function up(i,t,e,o){const u=t.source.queryId;if(null!==u){const p=i.views.get(u);return(0,R.hu)(null!=p,"SyncTree gave us an op for an invalid query."),$v(p,t,e,o)}{let p=[];for(const _ of i.views.values())p=p.concat($v(_,t,e,o));return p}}function km(i,t,e,o,u){const _=i.views.get(t._queryIdentifier);if(!_){let I=Lc(e,u?o:null),T=!1;I?T=!0:o instanceof it?(I=Em(e,o),T=!1):(I=it.EMPTY_NODE,T=!1);const x=lf(new qi(I,T,!1),new qi(o,u,!1));return new sp(t,x)}return _}function qv(i){const t=[];for(const e of i.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function xa(i,t){let e=null;for(const o of i.views.values())e=e||xm(o,t);return e}function Kv(i,t){return t._queryParams.loadsAllData()?Cf(i):i.views.get(t._queryIdentifier)}function cp(i,t){return null!=Kv(i,t)}function Zo(i){return null!=Cf(i)}function Cf(i){for(const t of i.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let VE=1;class Yv{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Gt(null),this.pendingWriteTree_=function Xh(){return{visibleWrites:Es.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Rm(i,t,e,o,u){return function Qh(i,t,e,o,u){(0,R.hu)(o>i.lastWriteId,"Stacking an older write on top of newer ones"),void 0===u&&(u=!0),i.allWrites.push({path:t,snap:e,writeId:o,visible:u}),u&&(i.visibleWrites=gu(i.visibleWrites,t,e)),i.lastWriteId=o}(i.pendingWriteTree_,t,e,o,u),u?Cu(i,new Er({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Cl(i,t,e=!1){const o=function ff(i,t){for(let e=0;e<i.allWrites.length;e++){const o=i.allWrites[e];if(o.writeId===t)return o}return null}(i.pendingWriteTree_,t);if(function hf(i,t){const e=i.allWrites.findIndex(I=>I.writeId===t);(0,R.hu)(e>=0,"removeWrite called with nonexistent writeId.");const o=i.allWrites[e];i.allWrites.splice(e,1);let u=o.visible,p=!1,_=i.allWrites.length-1;for(;u&&_>=0;){const I=i.allWrites[_];I.visible&&(_>=e&&_m(I,o.path)?u=!1:Kr(o.path,I.path)&&(p=!0)),_--}return!!u&&(p?(function Jh(i){i.visibleWrites=pf(i.allWrites,ym,Dt()),i.lastWriteId=i.allWrites.length>0?i.allWrites[i.allWrites.length-1].writeId:-1}(i),!0):(o.snap?i.visibleWrites=Ma(i.visibleWrites,o.path):rn(o.children,T=>{i.visibleWrites=Ma(i.visibleWrites,Yt(o.path,T))}),!0))}(i.pendingWriteTree_,t)){let p=new Gt(null);return null!=o.snap?p=p.set(Dt(),!0):rn(o.children,_=>{p=p.set(new St(_),!0)}),Cu(i,new Aa(o.path,p,e))}return[]}function Ef(i,t,e){return Cu(i,new Er({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function Bc(i,t,e,o){const u=t._path,p=i.syncPointTree_.get(u);let _=[];if(p&&("default"===t._queryIdentifier||cp(p,t))){const I=function Nm(i,t,e,o){const u=t._queryIdentifier,p=[];let _=[];const I=Zo(i);if("default"===u)for(const[T,x]of i.views.entries())_=_.concat(ap(x,e,o)),_f(x)&&(i.views.delete(T),x.query._queryParams.loadsAllData()||p.push(x.query));else{const T=i.views.get(u);T&&(_=_.concat(ap(T,e,o)),_f(T)&&(i.views.delete(u),T.query._queryParams.loadsAllData()||p.push(T.query)))}return I&&!Zo(i)&&p.push(new(function OE(){return(0,R.hu)(yu,"Reference.ts has not been loaded"),yu}())(t._repo,t._path)),{removed:p,events:_}}(p,t,e,o);(function Wv(i){return 0===i.views.size})(p)&&(i.syncPointTree_=i.syncPointTree_.remove(u));const T=I.removed;_=I.events;const x=-1!==T.findIndex(U=>U._queryParams.loadsAllData()),Z=i.syncPointTree_.findOnPath(u,(U,oe)=>Zo(oe));if(x&&!Z){const U=i.syncPointTree_.subtree(u);if(!U.isEmpty()){const oe=function Hc(i){return i.fold((t,e,o)=>{if(e&&Zo(e))return[Cf(e)];{let u=[];return e&&(u=qv(e)),rn(o,(p,_)=>{u=u.concat(_)}),u}})}(U);for(let be=0;be<oe.length;++be){const Re=oe[be],ht=Re.query,Rt=Om(i,Re);i.listenProvider_.startListening(Js(ht),Eu(i,ht),Rt.hashFn,Rt.onComplete)}}}if(!Z&&T.length>0&&!o)if(x){const U=null;i.listenProvider_.stopListening(Js(t),U)}else T.forEach(U=>{const oe=i.queryToTagMap.get(If(U));i.listenProvider_.stopListening(Js(U),oe)});!function gp(i,t){for(let e=0;e<t.length;++e){const o=t[e];if(!o._queryParams.loadsAllData()){const u=If(o),p=i.queryToTagMap.get(u);i.queryToTagMap.delete(u),i.tagToQueryMap.delete(p)}}}(i,T)}return _}function wf(i,t,e){const o=t._path;let u=null,p=!1;i.syncPointTree_.foreachOnPath(o,(U,oe)=>{const be=lr(U,o);u=u||xa(oe,be),p=p||Zo(oe)});let I,_=i.syncPointTree_.get(o);_?(p=p||Zo(_),u=u||xa(_,Dt())):(_=new vf,i.syncPointTree_=i.syncPointTree_.set(o,_)),null!=u?I=!0:(I=!1,u=it.EMPTY_NODE,i.syncPointTree_.subtree(o).foreachChild((oe,be)=>{const Re=xa(be,Dt());Re&&(u=u.updateImmediateChild(oe,Re))}));const T=cp(_,t);if(!T&&!t._queryParams.loadsAllData()){const U=If(t);(0,R.hu)(!i.queryToTagMap.has(U),"View does not exist, but we have a tag");const oe=function wu(){return VE++}();i.queryToTagMap.set(U,oe),i.tagToQueryMap.set(oe,U)}let Z=function zv(i,t,e,o,u,p){const _=km(i,t,o,u,p);return i.views.has(t._queryIdentifier)||i.views.set(t._queryIdentifier,_),function PE(i,t){i.eventRegistrations_.push(t)}(_,e),function yf(i,t){const e=i.viewCache_.eventCache,o=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Ut,(p,_)=>{o.push(Qs(p,_))}),e.isFullyInitialized()&&o.push(rf(e.getNode())),Vc(i,o,e.getNode(),t)}(_,e)}(_,t,e,Fc(i.pendingWriteTree_,o),u,I);if(!T&&!p){const U=Kv(_,t);Z=Z.concat(function jc(i,t,e){const o=t._path,u=Eu(i,t),p=Om(i,e),_=i.listenProvider_.startListening(Js(t),u,p.hashFn,p.onComplete),I=i.syncPointTree_.subtree(o);if(u)(0,R.hu)(!Zo(I.value),"If we're adding a query, it shouldn't be shadowed");else{const T=I.fold((x,Z,U)=>{if(!gt(x)&&Z&&Zo(Z))return[Cf(Z).query];{let oe=[];return Z&&(oe=oe.concat(qv(Z).map(be=>be.query))),rn(U,(be,Re)=>{oe=oe.concat(Re)}),oe}});for(let x=0;x<T.length;++x){const Z=T[x];i.listenProvider_.stopListening(Js(Z),Eu(i,Z))}}return _}(i,t,U))}return Z}function Uc(i,t,e){const u=i.pendingWriteTree_,p=i.syncPointTree_.findOnPath(t,(_,I)=>{const x=xa(I,lr(_,t));if(x)return x});return mu(u,t,p,e,!0)}function Cu(i,t){return Go(t,i.syncPointTree_,null,Fc(i.pendingWriteTree_,Dt()))}function Go(i,t,e,o){if(gt(i.path))return fp(i,t,e,o);{const u=t.get(Dt());null==e&&null!=u&&(e=xa(u,Dt()));let p=[];const _=lt(i.path),I=i.operationForChild(_),T=t.children.get(_);if(T&&I){const x=e?e.getImmediateChild(_):null,Z=Im(o,_);p=p.concat(Go(I,T,x,Z))}return u&&(p=p.concat(up(u,i,o,e))),p}}function fp(i,t,e,o){const u=t.get(Dt());null==e&&null!=u&&(e=xa(u,Dt()));let p=[];return t.children.inorderTraversal((_,I)=>{const T=e?e.getImmediateChild(_):null,x=Im(o,_),Z=i.operationForChild(_);Z&&(p=p.concat(fp(Z,I,T,x)))}),u&&(p=p.concat(up(u,i,o,e))),p}function Om(i,t){const e=t.query,o=Eu(i,e);return{hashFn:()=>(function jo(i){return i.viewCache_.serverCache.getNode()}(t)||it.EMPTY_NODE).hash(),onComplete:u=>{if("ok"===u)return o?function ka(i,t,e){const o=Df(i,e);if(o){const u=hp(o),p=u.path,_=u.queryId,I=lr(p,t);return pp(i,p,new _l(Uo(_),I))}return[]}(i,e._path,o):function HE(i,t){return Cu(i,new _l({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(i,e._path);{const p=function $s(i,t){let e="Unknown Error";"too_big"===i?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===i?e="Client doesn't have permission to access the desired data.":"unavailable"===i&&(e="The service is unavailable");const o=new Error(i+" at "+t._path.toString()+": "+e);return o.code=i.toUpperCase(),o}(u,e);return Bc(i,e,null,p)}}}}function Eu(i,t){const e=If(t);return i.queryToTagMap.get(e)}function If(i){return i._path.toString()+"$"+i._queryIdentifier}function Df(i,t){return i.tagToQueryMap.get(t)}function hp(i){const t=i.indexOf("$");return(0,R.hu)(-1!==t&&t<i.length-1,"Bad queryKey."),{queryId:i.substr(t+1),path:new St(i.substr(0,t))}}function pp(i,t,e){const o=i.syncPointTree_.get(t);return(0,R.hu)(o,"Missing sync point for query tag that we're tracking"),up(o,e,Fc(i.pendingWriteTree_,t),null)}function Js(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(function LE(){return(0,R.hu)(vu,"Reference.ts has not been loaded"),vu}())(i._repo,i._path):i}class Na{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Na(e)}node(){return this.node_}}class mp{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Yt(this.path_,t);return new mp(this.syncTree_,e)}node(){return Uc(this.syncTree_,this.path_)}}const _p=function(i,t,e){return i&&"object"==typeof i?((0,R.hu)(".sv"in i,"Unexpected leaf node or priority contents"),"string"==typeof i[".sv"]?yp(i[".sv"],t,e):"object"==typeof i[".sv"]?vp(i[".sv"],t):void(0,R.hu)(!1,"Unexpected server value: "+JSON.stringify(i,null,2))):i},yp=function(i,t,e){if("timestamp"===i)return e.timestamp;(0,R.hu)(!1,"Unexpected server value: "+i)},vp=function(i,t,e){i.hasOwnProperty("increment")||(0,R.hu)(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const o=i.increment;"number"!=typeof o&&(0,R.hu)(!1,"Unexpected increment value: "+o);const u=t.node();if((0,R.hu)(null!=u,"Expected ChildrenNode.EMPTY_NODE for nulls"),!u.isLeafNode())return o;const _=u.getValue();return"number"!=typeof _?o:_+o},Cp=function(i,t,e,o){return Ep(t,new mp(e,i),o)},Iu=function(i,t,e){return Ep(i,new Na(t),e)};function Ep(i,t,e){const o=i.getPriority().val(),u=_p(o,t.getImmediateChild(".priority"),e);let p;if(i.isLeafNode()){const _=i,I=_p(_.getValue(),t,e);return I!==_.getValue()||u!==_.getPriority().val()?new Da(I,Ct(u)):i}{const _=i;return p=_,u!==_.getPriority().val()&&(p=p.updatePriority(new Da(u))),_.forEachChild(Ut,(I,T)=>{const x=Ep(T,t.getImmediateChild(I),e);x!==T&&(p=p.updateImmediateChild(I,x))}),p}}class bf{constructor(t="",e=null,o={children:{},childCount:0}){this.name=t,this.parent=e,this.node=o}}function wp(i,t){let e=t instanceof St?t:new St(t),o=i,u=lt(e);for(;null!==u;){const p=(0,R.DV)(o.node.children,u)||{children:{},childCount:0};o=new bf(u,o,p),e=yt(e),u=lt(e)}return o}function Ra(i){return i.node.value}function Tf(i,t){i.node.value=t,Ip(i)}function Lm(i){return i.node.childCount>0}function Af(i,t){rn(i.node.children,(e,o)=>{t(new bf(e,i,o))})}function Bm(i,t,e,o){e&&!o&&t(i),Af(i,u=>{Bm(u,t,!0,o)}),e&&o&&t(i)}function Zc(i){return new St(null===i.parent?i.name:Zc(i.parent)+"/"+i.name)}function Ip(i){null!==i.parent&&function jE(i,t,e){const o=function Vm(i){return void 0===Ra(i)&&!Lm(i)}(e),u=(0,R.r3)(i.node.children,t);o&&u?(delete i.node.children[t],i.node.childCount--,Ip(i)):!o&&!u&&(i.node.children[t]=e.node,i.node.childCount++,Ip(i))}(i.parent,i.name,i)}const ZE=/[\[\].#$\/\u0000-\u001F\u007F]/,Um=/[\[\].#$\u0000-\u001F\u007F]/,Hm=10485760,Mf=function(i){return"string"==typeof i&&0!==i.length&&!ZE.test(i)},Sf=function(i){return"string"==typeof i&&0!==i.length&&!Um.test(i)},Gc=function(i){return null===i||"string"==typeof i||"number"==typeof i&&!fa(i)||i&&"object"==typeof i&&(0,R.r3)(i,".sv")},Xs=function(i,t,e,o){o&&void 0===t||$c((0,R.gK)(i,"value"),t,e)},$c=function(i,t,e){const o=e instanceof St?new cm(e,i):e;if(void 0===t)throw new Error(i+"contains undefined "+Yr(o));if("function"==typeof t)throw new Error(i+"contains a function "+Yr(o)+" with contents = "+t.toString());if(fa(t))throw new Error(i+"contains "+t.toString()+" "+Yr(o));if("string"==typeof t&&t.length>Hm/3&&(0,R.ug)(t)>Hm)throw new Error(i+"contains a string greater than "+Hm+" utf8 bytes "+Yr(o)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let u=!1,p=!1;if(rn(t,(_,I)=>{if(".value"===_)u=!0;else if(".priority"!==_&&".sv"!==_&&(p=!0,!Mf(_)))throw new Error(i+" contains an invalid key ("+_+") "+Yr(o)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Oo(i,t){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(t),i.byteLength_+=(0,R.ug)(t),Yd(i)})(o,_),$c(i,I,o),function dm(i){const t=i.parts_.pop();i.byteLength_-=(0,R.ug)(t),i.parts_.length>0&&(i.byteLength_-=1)}(o)}),u&&p)throw new Error(i+' contains ".value" child '+Yr(o)+" in addition to actual children.")}},Gm=function(i,t,e,o){if(o&&void 0===t)return;const u=(0,R.gK)(i,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(u+" must be an object containing the children to replace.");const p=[];rn(t,(_,I)=>{const T=new St(_);if($c(u,I,Yt(e,T)),".priority"===Po(T)&&!Gc(I))throw new Error(u+"contains an invalid value for '"+T.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");p.push(T)}),function(i,t){let e,o;for(e=0;e<t.length;e++){o=t[e];const p=lu(o);for(let _=0;_<p.length;_++)if((".priority"!==p[_]||_!==p.length-1)&&!Mf(p[_]))throw new Error(i+"contains an invalid key ("+p[_]+") in path "+o.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Kd);let u=null;for(e=0;e<t.length;e++){if(o=t[e],null!==u&&Kr(u,o))throw new Error(i+"contains a path "+u.toString()+" that is ancestor of another path "+o.toString());u=o}}(u,p)},xf=function(i,t,e){if(!e||void 0!==t){if(fa(t))throw new Error((0,R.gK)(i,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Gc(t))throw new Error((0,R.gK)(i,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Wc=function(i,t,e,o){if(!(o&&void 0===e||Mf(e)))throw new Error((0,R.gK)(i,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},zc=function(i,t,e,o){if(!(o&&void 0===e||Sf(e)))throw new Error((0,R.gK)(i,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Di=function(i,t){if(".info"===lt(t))throw new Error(i+" failed = Can't modify data under /.info/")},Wm=function(i,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Mf(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Sf(i)}(e))throw new Error((0,R.gK)(i,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class eo{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Du(i,t){let e=null;for(let o=0;o<t.length;o++){const u=t[o],p=u.getPath();null!==e&&!gc(p,e.path)&&(i.eventLists_.push(e),e=null),null===e&&(e={events:[],path:p}),e.events.push(u)}e&&i.eventLists_.push(e)}function Dp(i,t,e){Du(i,e),Jv(i,o=>gc(o,t))}function Yi(i,t,e){Du(i,e),Jv(i,o=>Kr(o,t)||Kr(t,o))}function Jv(i,t){i.recursionDepth_++;let e=!0;for(let o=0;o<i.eventLists_.length;o++){const u=i.eventLists_[o];u&&(t(u.path)?(zm(i.eventLists_[o]),i.eventLists_[o]=null):e=!1)}e&&(i.eventLists_=[]),i.recursionDepth_--}function zm(i){for(let t=0;t<i.events.length;t++){const e=i.events[t];if(null!==e){i.events[t]=null;const o=e.getEventRunner();$i&&nn("event: "+e.toString()),Ws(o)}}}const qm="repo_interrupt";class e0{constructor(t,e,o,u){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=o,this.appCheckProvider_=u,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new eo,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=y(),this.transactionQueueTree_=new bf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Km(i){const e=i.infoData_.getNode(new St(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function qc(i){return function(i){return(i=i||{}).timestamp=i.timestamp||(new Date).getTime(),i}({timestamp:Km(i)})}function Kc(i,t,e,o,u){i.dataUpdateCount++;const p=new St(t);e=i.interceptServerDataCallback_?i.interceptServerDataCallback_(t,e):e;let _=[];if(u)if(o){const T=(0,R.UI)(e,x=>Ct(x));_=function Pm(i,t,e,o){const u=Df(i,o);if(u){const p=hp(u),_=p.path,I=p.queryId,T=lr(_,t),x=Gt.fromObject(e);return pp(i,_,new Cs(Uo(I),T,x))}return[]}(i.serverSyncTree_,p,T,u)}else{const T=Ct(e);_=function Qv(i,t,e,o){const u=Df(i,o);if(null!=u){const p=hp(u),_=p.path,I=p.queryId,T=lr(_,t);return pp(i,_,new Er(Uo(I),T,e))}return[]}(i.serverSyncTree_,p,T,u)}else if(o){const T=(0,R.UI)(e,x=>Ct(x));_=function UE(i,t,e){const o=Gt.fromObject(e);return Cu(i,new Cs({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,o))}(i.serverSyncTree_,p,T)}else{const T=Ct(e);_=Ef(i.serverSyncTree_,p,T)}let I=p;_.length>0&&(I=Oa(i,p)),Yi(i.eventQueue_,I,_)}function kf(i,t){Yc(i,"connected",t),!1===t&&function Ap(i){Wo(i,"onDisconnectEvents");const t=qc(i),e=y();G(i.onDisconnect_,Dt(),(u,p)=>{const _=Cp(u,p,i.serverSyncTree_,t);D(e,u,_)});let o=[];G(e,Dt(),(u,p)=>{o=o.concat(Ef(i.serverSyncTree_,u,p));const _=Pf(i,u);Oa(i,_)}),i.onDisconnect_=y(),Yi(i.eventQueue_,Dt(),o)}(i)}function Yc(i,t,e){const o=new St("/.info/"+t),u=Ct(e);i.infoData_.updateSnapshot(o,u);const p=Ef(i.infoSyncTree_,o,u);Yi(i.eventQueue_,o,p)}function bu(i){return i.nextWriteId_++}function Tp(i,t,e,o,u){Wo(i,"set",{path:t.toString(),value:e,priority:o});const p=qc(i),_=Ct(e,o),I=Uc(i.serverSyncTree_,t),T=Iu(_,I,p),x=bu(i),Z=Rm(i.serverSyncTree_,t,T,x,!0);Du(i.eventQueue_,Z),i.server_.put(t.toString(),_.val(!0),(oe,be)=>{const Re="ok"===oe;Re||ar("set at "+t+" failed: "+oe);const ht=Cl(i.serverSyncTree_,x,!Re);Yi(i.eventQueue_,t,ht),Pa(0,u,oe,be)});const U=Pf(i,t);Oa(i,U),Yi(i.eventQueue_,U,[])}function GE(i,t,e){i.server_.onDisconnectCancel(t.toString(),(o,u)=>{"ok"===o&&S(i.onDisconnect_,t),Pa(0,e,o,u)})}function Qm(i,t,e,o){const u=Ct(e);i.server_.onDisconnectPut(t.toString(),u.val(!0),(p,_)=>{"ok"===p&&D(i.onDisconnect_,t,u),Pa(0,o,p,_)})}function Nf(i,t,e){let o;o=".info"===lt(t._path)?Bc(i.infoSyncTree_,t,e):Bc(i.serverSyncTree_,t,e),Dp(i.eventQueue_,t._path,o)}function Mp(i){i.persistentConnection_&&i.persistentConnection_.interrupt(qm)}function Wo(i,...t){let e="";i.persistentConnection_&&(e=i.persistentConnection_.id+":"),nn(e,...t)}function Pa(i,t,e,o){t&&Ws(()=>{if("ok"===e)t(null);else{const u=(e||"error").toUpperCase();let p=u;o&&(p+=": "+o);const _=new Error(p);_.code=u,t(_)}})}function t_(i,t,e){return Uc(i.serverSyncTree_,t,e)||it.EMPTY_NODE}function Tu(i,t=i.transactionQueueTree_){if(t||Jc(i,t),Ra(t)){const e=Rf(i,t);(0,R.hu)(e.length>0,"Sending zero length transaction queue"),e.every(u=>0===u.status)&&function n_(i,t,e){const o=e.map(x=>x.currentWriteId),u=t_(i,t,o);let p=u;const _=u.hash();for(let x=0;x<e.length;x++){const Z=e[x];(0,R.hu)(0===Z.status,"tryToSendTransactionQueue_: items in queue should all be run."),Z.status=1,Z.retryCount++;const U=lr(t,Z.path);p=p.updateChild(U,Z.currentOutputSnapshotRaw)}const I=p.val(!0),T=t;i.server_.put(T.toString(),I,x=>{Wo(i,"transaction put response",{path:T.toString(),status:x});let Z=[];if("ok"===x){const U=[];for(let oe=0;oe<e.length;oe++)e[oe].status=2,Z=Z.concat(Cl(i.serverSyncTree_,e[oe].currentWriteId)),e[oe].onComplete&&U.push(()=>e[oe].onComplete(null,!0,e[oe].currentOutputSnapshotResolved)),e[oe].unwatcher();Jc(i,wp(i.transactionQueueTree_,t)),Tu(i,i.transactionQueueTree_),Yi(i.eventQueue_,t,Z);for(let oe=0;oe<U.length;oe++)Ws(U[oe])}else{if("datastale"===x)for(let U=0;U<e.length;U++)e[U].status=3===e[U].status?4:0;else{ar("transaction at "+T.toString()+" failed: "+x);for(let U=0;U<e.length;U++)e[U].status=4,e[U].abortReason=x}Oa(i,t)}},_)}(i,Zc(t),e)}else Lm(t)&&Af(t,e=>{Tu(i,e)})}function Oa(i,t){const e=r_(i,t),o=Zc(e);return function Qc(i,t,e){if(0===t.length)return;const o=[];let u=[];const _=t.filter(I=>0===I.status).map(I=>I.currentWriteId);for(let I=0;I<t.length;I++){const T=t[I],x=lr(e,T.path);let U,Z=!1;if((0,R.hu)(null!==x,"rerunTransactionsUnderNode_: relativePath should not be null."),4===T.status)Z=!0,U=T.abortReason,u=u.concat(Cl(i.serverSyncTree_,T.currentWriteId,!0));else if(0===T.status)if(T.retryCount>=25)Z=!0,U="maxretry",u=u.concat(Cl(i.serverSyncTree_,T.currentWriteId,!0));else{const oe=t_(i,T.path,_);T.currentInputSnapshot=oe;const be=t[I].update(oe.val());if(void 0!==be){$c("transaction failed: Data returned ",be,T.path);let Re=Ct(be);"object"==typeof be&&null!=be&&(0,R.r3)(be,".priority")||(Re=Re.updatePriority(oe.getPriority()));const Rt=T.currentWriteId,dr=qc(i),An=Iu(Re,oe,dr);T.currentOutputSnapshotRaw=Re,T.currentOutputSnapshotResolved=An,T.currentWriteId=bu(i),_.splice(_.indexOf(Rt),1),u=u.concat(Rm(i.serverSyncTree_,T.path,An,T.currentWriteId,T.applyLocally)),u=u.concat(Cl(i.serverSyncTree_,Rt,!0))}else Z=!0,U="nodata",u=u.concat(Cl(i.serverSyncTree_,T.currentWriteId,!0))}Yi(i.eventQueue_,e,u),u=[],Z&&(t[I].status=2,setTimeout(t[I].unwatcher,Math.floor(0)),t[I].onComplete&&o.push("nodata"===U?()=>t[I].onComplete(null,!1,t[I].currentInputSnapshot):()=>t[I].onComplete(new Error(U),!1,null)))}Jc(i,i.transactionQueueTree_);for(let I=0;I<o.length;I++)Ws(o[I]);Tu(i,i.transactionQueueTree_)}(i,Rf(i,e),o),o}function r_(i,t){let e,o=i.transactionQueueTree_;for(e=lt(t);null!==e&&void 0===Ra(o);)o=wp(o,e),e=lt(t=yt(t));return o}function Rf(i,t){const e=[];return Sp(i,t,e),e.sort((o,u)=>o.order-u.order),e}function Sp(i,t,e){const o=Ra(t);if(o)for(let u=0;u<o.length;u++)e.push(o[u]);Af(t,u=>{Sp(i,u,e)})}function Jc(i,t){const e=Ra(t);if(e){let o=0;for(let u=0;u<e.length;u++)2!==e[u].status&&(e[o]=e[u],o++);e.length=o,Tf(t,e.length>0?e:void 0)}Af(t,o=>{Jc(i,o)})}function Pf(i,t){const e=Zc(r_(i,t)),o=wp(i.transactionQueueTree_,t);return function Ii(i,t,e){let o=e?i:i.parent;for(;null!==o;){if(t(o))return!0;o=o.parent}}(o,u=>{xp(i,u)}),xp(i,o),Bm(o,u=>{xp(i,u)}),e}function xp(i,t){const e=Ra(t);if(e){const o=[];let u=[],p=-1;for(let _=0;_<e.length;_++)3===e[_].status||(1===e[_].status?((0,R.hu)(p===_-1,"All SENT items should be at beginning of queue."),p=_,e[_].status=3,e[_].abortReason="set"):((0,R.hu)(0===e[_].status,"Unexpected transaction status in abort"),e[_].unwatcher(),u=u.concat(Cl(i.serverSyncTree_,e[_].currentWriteId,!0)),e[_].onComplete&&o.push(e[_].onComplete.bind(null,new Error("set"),!1,null))));-1===p?Tf(t,void 0):e.length=p+1,Yi(i.eventQueue_,Zc(t),u);for(let _=0;_<o.length;_++)Ws(o[_])}}const Np=function(i,t){const e=i_(i),o=e.namespace;return"firebase.com"===e.domain&&Wi(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||"undefined"===o)&&"localhost"!==e.domain&&Wi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ar("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new vi(e.host,e.secure,o,t,"ws"===e.scheme||"wss"===e.scheme,"",o!==e.subdomain),path:new St(e.pathString)}},i_=function(i){let t="",e="",o="",u="",p="",_=!0,I="https",T=443;if("string"==typeof i){let x=i.indexOf("//");x>=0&&(I=i.substring(0,x-1),i=i.substring(x+2));let Z=i.indexOf("/");-1===Z&&(Z=i.length);let U=i.indexOf("?");-1===U&&(U=i.length),t=i.substring(0,Math.min(Z,U)),Z<U&&(u=function kp(i){let t="";const e=i.split("/");for(let o=0;o<e.length;o++)if(e[o].length>0){let u=e[o];try{u=decodeURIComponent(u.replace(/\+/g," "))}catch(p){}t+="/"+u}return t}(i.substring(Z,U)));const oe=function s0(i){const t={};"?"===i.charAt(0)&&(i=i.substring(1));for(const e of i.split("&")){if(0===e.length)continue;const o=e.split("=");2===o.length?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):ar(`Invalid query segment '${e}' in query '${i}'`)}return t}(i.substring(Math.min(i.length,U)));x=t.indexOf(":"),x>=0?(_="https"===I||"wss"===I,T=parseInt(t.substring(x+1),10)):x=t.length;const be=t.slice(0,x);if("localhost"===be.toLowerCase())e="localhost";else if(be.split(".").length<=2)e=be;else{const Re=t.indexOf(".");o=t.substring(0,Re).toLowerCase(),e=t.substring(Re+1),p=o}"ns"in oe&&(p=oe.ns)}return{host:t,port:T,domain:e,subdomain:o,secure:_,scheme:I,pathString:u,namespace:p}};class El{constructor(t,e,o,u){this.eventType=t,this.eventRegistration=e,this.snapshot=o,this.prevName=u}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,R.Pz)(this.snapshot.exportVal())}}class Rp{constructor(t,e,o){this.eventRegistration=t,this.error=e,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class s_{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,R.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class o_{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new R.BH;return GE(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Di("OnDisconnect.remove",this._path);const t=new R.BH;return Qm(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Di("OnDisconnect.set",this._path),Xs("OnDisconnect.set",t,this._path,!1);const e=new R.BH;return Qm(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Di("OnDisconnect.setWithPriority",this._path),Xs("OnDisconnect.setWithPriority",t,this._path,!1),xf("OnDisconnect.setWithPriority",e,!1);const o=new R.BH;return function Jm(i,t,e,o,u){const p=Ct(e,o);i.server_.onDisconnectPut(t.toString(),p.val(!0),(_,I)=>{"ok"===_&&D(i.onDisconnect_,t,p),Pa(0,u,_,I)})}(this._repo,this._path,t,e,o.wrapCallback(()=>{})),o.promise}update(t){Di("OnDisconnect.update",this._path),Gm("OnDisconnect.update",t,this._path,!1);const e=new R.BH;return function Xm(i,t,e,o){if((0,R.xb)(e))return nn("onDisconnect().update() called with empty data.  Don't do anything."),void Pa(0,o,"ok",void 0);i.server_.onDisconnectMerge(t.toString(),e,(u,p)=>{"ok"===u&&rn(e,(_,I)=>{const T=Ct(I);D(i.onDisconnect_,Yt(t,_),T)}),Pa(0,o,u,p)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Un{constructor(t,e,o,u){this._repo=t,this._path=e,this._queryParams=o,this._orderByCalled=u}get key(){return gt(this._path)?null:Po(this._path)}get ref(){return new Qi(this._repo,this._path)}get _queryIdentifier(){const t=g(this._queryParams),e=pi(t);return"{}"===e?"default":e}get _queryObject(){return g(this._queryParams)}isEqual(t){if(!((t=(0,R.m9)(t))instanceof Un))return!1;const e=this._repo===t._repo,o=gc(this._path,t._path);return e&&o&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function qd(i){let t="";for(let e=i.pieceNum_;e<i.pieces_.length;e++)""!==i.pieces_[e]&&(t+="/"+encodeURIComponent(String(i.pieces_[e])));return t||"/"}(this._path)}}function Of(i,t){if(!0===i._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Fa(i){let t=null,e=null;if(i.hasStart()&&(t=i.getIndexStartValue()),i.hasEnd()&&(e=i.getIndexEndValue()),i.getIndex()===kr){const o="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",u="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(i.hasStart()){if(i.getIndexStartName()!==zi)throw new Error(o);if("string"!=typeof t)throw new Error(u)}if(i.hasEnd()){if(i.getIndexEndName()!==Nn)throw new Error(o);if("string"!=typeof e)throw new Error(u)}}else if(i.getIndex()===Ut){if(null!=t&&!Gc(t)||null!=e&&!Gc(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,R.hu)(i.getIndex()instanceof Lo||i.getIndex()===Dc,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ff(i){if(i.hasStart()&&i.hasEnd()&&i.hasLimit()&&!i.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Qi extends Un{constructor(t,e){super(t,e,new Qr,!1)}get parent(){const t=pc(this._path);return null===t?null:new Qi(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Yn{constructor(t,e,o){this._node=t,this.ref=e,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new St(t),o=La(this.ref,t);return new Yn(this._node.getChild(e),o,Ut)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(o,u)=>t(new Yn(u,La(this.ref,o),Ut)))}hasChild(t){const e=new St(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Lf(i,t){return(i=(0,R.m9)(i))._checkNotDeleted("ref"),void 0!==t?La(i._root,t):i._root}function Pp(i,t){(i=(0,R.m9)(i))._checkNotDeleted("refFromURL");const e=Np(t,i._repo.repoInfo_.nodeAdmin);Wm("refFromURL",e);const o=e.repoInfo;return!i._repo.repoInfo_.isCustomHost()&&o.host!==i._repo.repoInfo_.host&&Wi("refFromURL: Host name does not match the current database: (found "+o.host+" but expected "+i._repo.repoInfo_.host+")"),Lf(i,e.path.toString())}function La(i,t){return null===lt((i=(0,R.m9)(i))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),zc("child","path",e,!1)):zc("child","path",t,!1),new Qi(i._repo,Yt(i._path,t));var e}function Op(i,t){i=(0,R.m9)(i),Di("set",i._path),Xs("set",t,i._path,!1);const e=new R.BH;return Tp(i._repo,i._path,t,null,e.wrapCallback(()=>{})),e.promise}function l_(i,t){Gm("update",t,i._path,!1);const e=new R.BH;return function n0(i,t,e,o){Wo(i,"update",{path:t.toString(),value:e});let u=!0;const p=qc(i),_={};if(rn(e,(I,T)=>{u=!1,_[I]=Cp(Yt(t,I),Ct(T),i.serverSyncTree_,p)}),u)nn("update() called with empty data.  Don't do anything."),Pa(0,o,"ok",void 0);else{const I=bu(i),T=function BE(i,t,e,o){!function mm(i,t,e,o){(0,R.hu)(o>i.lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:t,children:e,writeId:o,visible:!0}),i.visibleWrites=cf(i.visibleWrites,t,e),i.lastWriteId=o}(i.pendingWriteTree_,t,e,o);const u=Gt.fromObject(e);return Cu(i,new Cs({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,u))}(i.serverSyncTree_,t,_,I);Du(i.eventQueue_,T),i.server_.merge(t.toString(),e,(x,Z)=>{const U="ok"===x;U||ar("update at "+t+" failed: "+x);const oe=Cl(i.serverSyncTree_,I,!U),be=oe.length>0?Oa(i,t):t;Yi(i.eventQueue_,be,oe),Pa(0,o,x,Z)}),rn(e,x=>{const Z=Pf(i,Yt(t,x));Oa(i,Z)}),Yi(i.eventQueue_,t,[])}}(i._repo,i._path,t,e.wrapCallback(()=>{})),e.promise}function $E(i){return function Ym(i,t){const e=function dp(i,t){const e=t._path;let o=null;i.syncPointTree_.foreachOnPath(e,(x,Z)=>{const U=lr(x,e);o=o||xa(Z,U)});let u=i.syncPointTree_.get(e);u?o=o||xa(u,Dt()):(u=new vf,i.syncPointTree_=i.syncPointTree_.set(e,u));const p=null!=o,_=p?new qi(o,!0,!1):null;return function op(i){return Oc(i.viewCache_)}(km(u,t,Fc(i.pendingWriteTree_,t._path),p?_.getNode():it.EMPTY_NODE,p))}(i.serverSyncTree_,t);return null!=e?Promise.resolve(e):i.server_.get(t).then(o=>{const u=Ct(o).withIndex(t._queryParams.getIndex()),p=Ef(i.serverSyncTree_,t._path,u);return Dp(i.eventQueue_,t._path,p),Promise.resolve(u)},o=>(Wo(i,"get for query "+(0,R.Pz)(t)+" failed: "+o),Promise.reject(new Error(o))))}((i=(0,R.m9)(i))._repo,i).then(t=>new Yn(t,new Qi(i._repo,i._path),i._queryParams.getIndex()))}class Xc{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const o=e._queryParams.getIndex();return new El("value",this,new Yn(t.snapshotNode,new Qi(e._repo,e._path),o))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Rp(this,t,e):null}matches(t){return t instanceof Xc&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Vf{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Rp(this,t,e):null}createEvent(t,e){(0,R.hu)(null!=t.childName,"Child events should have a childName.");const o=La(new Qi(e._repo,e._path),t.childName),u=e._queryParams.getIndex();return new El(t.type,this,new Yn(t.snapshotNode,o,u),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Vf&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function ed(i,t,e,o,u){let p;if("object"==typeof o&&(p=void 0,u=o),"function"==typeof o&&(p=o),u&&u.onlyOnce){const T=e,x=(Z,U)=>{Nf(i._repo,i,I),T(Z,U)};x.userCallback=e.userCallback,x.context=e.context,e=x}const _=new s_(e,p||void 0),I="value"===t?new Xc(_):new Vf(t,_);return function e_(i,t,e){let o;o=".info"===lt(t._path)?wf(i.infoSyncTree_,t,e):wf(i.serverSyncTree_,t,e),Dp(i.eventQueue_,t._path,o)}(i._repo,i,I),()=>Nf(i._repo,i,I)}function u_(i,t,e,o){return ed(i,"value",t,e,o)}function c0(i,t,e,o){return ed(i,"child_added",t,e,o)}function Bf(i,t,e,o){return ed(i,"child_changed",t,e,o)}function c_(i,t,e,o){return ed(i,"child_moved",t,e,o)}function Fp(i,t,e,o){return ed(i,"child_removed",t,e,o)}function Lp(i,t,e){let o=null;const u=e?new s_(e):null;"value"===t?o=new Xc(u):t&&(o=new Vf(t,u)),Nf(i._repo,i,o)}class to{}class Ji extends to{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Xs("endAt",this._value,t._path,!0);const e=kc(t._queryParams,this._value,this._key);if(Ff(e),Fa(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Un(t._repo,t._path,e,t._orderByCalled)}}class zE extends to{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Xs("endBefore",this._value,t._path,!1);const e=function of(i,t,e){let o,u;return i.index_===kr?("string"==typeof t&&(t=Ac(t)),u=kc(i,t,e)):(o=null==e?zi:Ac(e),u=kc(i,t,o)),u.endBeforeSet_=!0,u}(t._queryParams,this._value,this._key);if(Ff(e),Fa(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Un(t._repo,t._path,e,t._orderByCalled)}}class Vp extends to{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Xs("startAt",this._value,t._path,!0);const e=Sc(t._queryParams,this._value,this._key);if(Ff(e),Fa(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Un(t._repo,t._path,e,t._orderByCalled)}}class d0 extends to{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Xs("startAfter",this._value,t._path,!1);const e=function xc(i,t,e){let o;if(i.index_===kr)"string"==typeof t&&(t=wi(t)),o=Sc(i,t,e);else{let u;u=null==e?Nn:wi(e),o=Sc(i,t,u)}return o.startAfterSet_=!0,o}(t._queryParams,this._value,this._key);if(Ff(e),Fa(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Un(t._repo,t._path,e,t._orderByCalled)}}class h_ extends to{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Un(t._repo,t._path,function Mc(i,t){const e=i.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class f0 extends to{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Un(t._repo,t._path,function sf(i,t){const e=i.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class h0 extends to{constructor(t){super(),this._path=t}_apply(t){Of(t,"orderByChild");const e=new St(this._path);if(gt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const o=new Lo(e),u=hu(t._queryParams,o);return Fa(u),new Un(t._repo,t._path,u,!0)}}class g0 extends to{_apply(t){Of(t,"orderByKey");const e=hu(t._queryParams,kr);return Fa(e),new Un(t._repo,t._path,e,!0)}}class _0 extends to{_apply(t){Of(t,"orderByPriority");const e=hu(t._queryParams,Ut);return Fa(e),new Un(t._repo,t._path,e,!0)}}class Uf extends to{_apply(t){Of(t,"orderByValue");const e=hu(t._queryParams,Dc);return Fa(e),new Un(t._repo,t._path,e,!0)}}class v0 extends to{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Xs("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Ji(this._value,this._key)._apply(new Vp(this._value,this._key)._apply(t))}}function Ds(i,...t){let e=(0,R.m9)(i);for(const o of t)e=o._apply(e);return e}(function lp(i){(0,R.hu)(!yu,"__referenceConstructor has already been defined"),yu=i})(Qi),function FE(i){(0,R.hu)(!vu,"__referenceConstructor has already been defined"),vu=i}(Qi);const nd={};function ur(i,t,e,o,u){let p=o||i.options.databaseURL;void 0===p&&(i.options.projectId||Wi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),nn("Using default host for project ",i.options.projectId),p=`${i.options.projectId}-default-rtdb.firebaseio.com`);let T,x,_=Np(p,u),I=_.repoInfo;"undefined"!=typeof process&&(x=process.env.FIREBASE_DATABASE_EMULATOR_HOST),x?(T=!0,p=`http://${x}?ns=${I.namespace}`,_=Np(p,u),I=_.repoInfo):T=!_.repoInfo.secure;const Z=u&&T?new Cr(Cr.OWNER):new pa(i.name,i.options,t);Wm("Invalid Firebase Database URL",_),gt(_.path)||Wi("Database URL must point to the root of a Firebase Database (not including a child path).");const U=function Hf(i,t,e,o){let u=nd[t.name];u||(u={},nd[t.name]=u);let p=u[i.toURLString()];return p&&Wi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),p=new e0(i,false,e,o),u[i.toURLString()]=p,p}(I,i,Z,new Pn(i.name,e));return new Hp(U,i)}class Hp{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function bp(i,t,e){if(i.stats_=ya(i.repoInfo_),i.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)i.server_=new d(i.repoInfo_,(o,u,p,_)=>{Kc(i,o,u,p,_)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>kf(i,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,R.Pz)(e)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}i.persistentConnection_=new ys(i.repoInfo_,t,(o,u,p,_)=>{Kc(i,o,u,p,_)},o=>{kf(i,o)},o=>{!function t0(i,t){rn(t,(e,o)=>{Yc(i,e,o)})}(i,o)},i.authTokenProvider_,i.appCheckProvider_,e),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(o=>{i.server_.refreshAuthToken(o)}),i.appCheckProvider_.addTokenChangeListener(o=>{i.server_.refreshAppCheckToken(o.token)}),i.statsReporter_=function ru(i,t){const e=i.toString();return ul[e]||(ul[e]=t()),ul[e]}(i.repoInfo_,()=>new Qt(i.stats_,i.server_)),i.infoData_=new h,i.infoSyncTree_=new Yv({startListening:(o,u,p,_)=>{let I=[];const T=i.infoData_.getNode(o._path);return T.isEmpty()||(I=Ef(i.infoSyncTree_,o._path,T),setTimeout(()=>{_("ok")},0)),I},stopListening:()=>{}}),Yc(i,"connected",!1),i.serverSyncTree_=new Yv({startListening:(o,u,p,_)=>(i.server_.listen(o,p,u,(I,T)=>{const x=_(I,T);Yi(i.eventQueue_,o._path,x)}),[]),stopListening:(o,u)=>{i.server_.unlisten(o,u)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Qi(this._repo,Dt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function wl(i,t){const e=nd[t];(!e||e[i.key]!==i)&&Wi(`Database ${t}(${i.repoInfo_}) has already been deleted.`),Mp(i),delete e[i.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Wi("Cannot call "+t+" on a deleted database.")}}function ku(i,t){al(i,t)}const Ru={".sv":"timestamp"};class p_{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}ys.prototype.simpleListen=function(i,t){this.sendRequest("q",{p:i},t)},ys.prototype.echo=function(i,t){this.sendRequest("echo",{d:i},t)},function Nu(i){ol(Zr.SDK_VERSION),(0,Zr._registerComponent)(new Tr.wA("database",(t,{instanceIdentifier:e})=>ur(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Zr.registerVersion)(il,"0.12.5",i),(0,Zr.registerVersion)(il,"0.12.5","esm2017")}();const y_=new Zs.Yd("@firebase/database-compat"),jp=function(i){y_.warn("FIREBASE WARNING: "+i)};class C_{constructor(t){this._delegate=t}cancel(t){(0,R.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,R.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),o=>t(o)),e}remove(t){(0,R.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,R.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),o=>t(o)),e}set(t,e){(0,R.Dv)("OnDisconnect.set",1,2,arguments.length),(0,R.Wj)("OnDisconnect.set","onComplete",e,!0);const o=this._delegate.set(t);return e&&o.then(()=>e(null),u=>e(u)),o}setWithPriority(t,e,o){(0,R.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,R.Wj)("OnDisconnect.setWithPriority","onComplete",o,!0);const u=this._delegate.setWithPriority(t,e);return o&&u.then(()=>o(null),p=>o(p)),u}update(t,e){if((0,R.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const u={};for(let p=0;p<t.length;++p)u[""+p]=t[p];t=u,jp("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,R.Wj)("OnDisconnect.update","onComplete",e,!0);const o=this._delegate.update(t);return e&&o.then(()=>e(null),u=>e(u)),o}}class D0{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,R.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class zo{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,R.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,R.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,R.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,R.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,R.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),zc("DataSnapshot.child","path",t,!1),new zo(this._database,this._delegate.child(t))}hasChild(t){return(0,R.Dv)("DataSnapshot.hasChild",1,1,arguments.length),zc("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,R.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,R.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,R.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new zo(this._database,e)))}hasChildren(){return(0,R.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,R.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,R.Dv)("DataSnapshot.ref",0,0,arguments.length),new bi(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Qn{constructor(t,e){this.database=t,this._delegate=e}on(t,e,o,u){var p;(0,R.Dv)("Query.on",2,4,arguments.length),(0,R.Wj)("Query.on","callback",e,!1);const _=Qn.getCancelAndContextArgs_("Query.on",o,u),I=(x,Z)=>{e.call(_.context,new zo(this.database,x),Z)};I.userCallback=e,I.context=_.context;const T=null===(p=_.cancel)||void 0===p?void 0:p.bind(_.context);switch(t){case"value":return u_(this._delegate,I,T),e;case"child_added":return c0(this._delegate,I,T),e;case"child_removed":return Fp(this._delegate,I,T),e;case"child_changed":return Bf(this._delegate,I,T),e;case"child_moved":return c_(this._delegate,I,T),e;default:throw new Error((0,R.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,o){if((0,R.Dv)("Query.off",0,3,arguments.length),function(i,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,R.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,R.Wj)("Query.off","callback",e,!0),(0,R.lb)("Query.off","context",o,!0),e){const u=()=>{};u.userCallback=e,u.context=o,Lp(this._delegate,t,u)}else Lp(this._delegate,t)}get(){return $E(this._delegate).then(t=>new zo(this.database,t))}once(t,e,o,u){(0,R.Dv)("Query.once",1,4,arguments.length),(0,R.Wj)("Query.once","callback",e,!0);const p=Qn.getCancelAndContextArgs_("Query.once",o,u),_=new R.BH,I=(x,Z)=>{const U=new zo(this.database,x);e&&e.call(p.context,U,Z),_.resolve(U)};I.userCallback=e,I.context=p.context;const T=x=>{p.cancel&&p.cancel.call(p.context,x),_.reject(x)};switch(t){case"value":u_(this._delegate,I,T,{onlyOnce:!0});break;case"child_added":c0(this._delegate,I,T,{onlyOnce:!0});break;case"child_removed":Fp(this._delegate,I,T,{onlyOnce:!0});break;case"child_changed":Bf(this._delegate,I,T,{onlyOnce:!0});break;case"child_moved":c_(this._delegate,I,T,{onlyOnce:!0});break;default:throw new Error((0,R.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return _.promise}limitToFirst(t){return(0,R.Dv)("Query.limitToFirst",1,1,arguments.length),new Qn(this.database,Ds(this._delegate,function Bp(i){if("number"!=typeof i||Math.floor(i)!==i||i<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new h_(i)}(t)))}limitToLast(t){return(0,R.Dv)("Query.limitToLast",1,1,arguments.length),new Qn(this.database,Ds(this._delegate,function Up(i){if("number"!=typeof i||Math.floor(i)!==i||i<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new f0(i)}(t)))}orderByChild(t){return(0,R.Dv)("Query.orderByChild",1,1,arguments.length),new Qn(this.database,Ds(this._delegate,function p0(i){if("$key"===i)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===i)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===i)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return zc("orderByChild","path",i,!1),new h0(i)}(t)))}orderByKey(){return(0,R.Dv)("Query.orderByKey",0,0,arguments.length),new Qn(this.database,Ds(this._delegate,function m0(){return new g0}()))}orderByPriority(){return(0,R.Dv)("Query.orderByPriority",0,0,arguments.length),new Qn(this.database,Ds(this._delegate,function y0(){return new _0}()))}orderByValue(){return(0,R.Dv)("Query.orderByValue",0,0,arguments.length),new Qn(this.database,Ds(this._delegate,function Au(){return new Uf}()))}startAt(t=null,e){return(0,R.Dv)("Query.startAt",0,2,arguments.length),new Qn(this.database,Ds(this._delegate,function f_(i=null,t){return Wc("startAt","key",t,!0),new Vp(i,t)}(t,e)))}startAfter(t=null,e){return(0,R.Dv)("Query.startAfter",0,2,arguments.length),new Qn(this.database,Ds(this._delegate,function qE(i,t){return Wc("startAfter","key",t,!0),new d0(i,t)}(t,e)))}endAt(t=null,e){return(0,R.Dv)("Query.endAt",0,2,arguments.length),new Qn(this.database,Ds(this._delegate,function WE(i,t){return Wc("endAt","key",t,!0),new Ji(i,t)}(t,e)))}endBefore(t=null,e){return(0,R.Dv)("Query.endBefore",0,2,arguments.length),new Qn(this.database,Ds(this._delegate,function d_(i,t){return Wc("endBefore","key",t,!0),new zE(i,t)}(t,e)))}equalTo(t,e){return(0,R.Dv)("Query.equalTo",1,2,arguments.length),new Qn(this.database,Ds(this._delegate,function td(i,t){return Wc("equalTo","key",t,!0),new v0(i,t)}(t,e)))}toString(){return(0,R.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,R.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,R.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Qn))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,o){const u={cancel:void 0,context:void 0};if(e&&o)u.cancel=e,(0,R.Wj)(t,"cancel",u.cancel,!0),u.context=o,(0,R.lb)(t,"context",u.context,!0);else if(e)if("object"==typeof e&&null!==e)u.context=e;else{if("function"!=typeof e)throw new Error((0,R.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");u.cancel=e}return u}get ref(){return new bi(this.database,new Qi(this._delegate._repo,this._delegate._path))}}class bi extends Qn{constructor(t,e){super(t,new Un(e._repo,e._path,new Qr,!1)),this.database=t,this._delegate=e}getKey(){return(0,R.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,R.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new bi(this.database,La(this._delegate,t))}getParent(){(0,R.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new bi(this.database,t):null}getRoot(){return(0,R.Dv)("Reference.root",0,0,arguments.length),new bi(this.database,this._delegate.root)}set(t,e){(0,R.Dv)("Reference.set",1,2,arguments.length),(0,R.Wj)("Reference.set","onComplete",e,!0);const o=Op(this._delegate,t);return e&&o.then(()=>e(null),u=>e(u)),o}update(t,e){if((0,R.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const u={};for(let p=0;p<t.length;++p)u[""+p]=t[p];t=u,jp("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Di("Reference.update",this._delegate._path),(0,R.Wj)("Reference.update","onComplete",e,!0);const o=l_(this._delegate,t);return e&&o.then(()=>e(null),u=>e(u)),o}setWithPriority(t,e,o){(0,R.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,R.Wj)("Reference.setWithPriority","onComplete",o,!0);const u=function u0(i,t,e){if(Di("setWithPriority",i._path),Xs("setWithPriority",t,i._path,!1),xf("setWithPriority",e,!1),".length"===i.key||".keys"===i.key)throw"setWithPriority failed: "+i.key+" is a read-only object.";const o=new R.BH;return Tp(i._repo,i._path,t,e,o.wrapCallback(()=>{})),o.promise}(this._delegate,t,e);return o&&u.then(()=>o(null),p=>o(p)),u}remove(t){(0,R.Dv)("Reference.remove",0,1,arguments.length),(0,R.Wj)("Reference.remove","onComplete",t,!0);const e=function a0(i){return Di("remove",i._path),Op(i,null)}(this._delegate);return t&&e.then(()=>t(null),o=>t(o)),e}transaction(t,e,o){(0,R.Dv)("Reference.transaction",1,3,arguments.length),(0,R.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,R.Wj)("Reference.transaction","onComplete",e,!0),function(i,t,e,o){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,R.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,o);const u=function g_(i,t,e){var o;if(i=(0,R.m9)(i),Di("Reference.transaction",i._path),".length"===i.key||".keys"===i.key)throw"Reference.transaction failed: "+i.key+" is a read-only object.";const u=null===(o=null==e?void 0:e.applyLocally)||void 0===o||o,p=new R.BH,I=u_(i,()=>{});return function r0(i,t,e,o,u,p){Wo(i,"transaction on "+t);const _={path:t,update:e,onComplete:o,status:null,order:hi(),applyLocally:p,retryCount:0,unwatcher:u,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},I=t_(i,t,void 0);_.currentInputSnapshot=I;const T=_.update(I.val());if(void 0===T)_.unwatcher(),_.currentOutputSnapshotRaw=null,_.currentOutputSnapshotResolved=null,_.onComplete&&_.onComplete(null,!1,_.currentInputSnapshot);else{$c("transaction failed: Data returned ",T,_.path),_.status=0;const x=wp(i.transactionQueueTree_,t),Z=Ra(x)||[];let U;Z.push(_),Tf(x,Z),"object"==typeof T&&null!==T&&(0,R.r3)(T,".priority")?(U=(0,R.DV)(T,".priority"),(0,R.hu)(Gc(U),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):U=(Uc(i.serverSyncTree_,t)||it.EMPTY_NODE).getPriority().val();const oe=qc(i),be=Ct(T,U),Re=Iu(be,I,oe);_.currentOutputSnapshotRaw=be,_.currentOutputSnapshotResolved=Re,_.currentWriteId=bu(i);const ht=Rm(i.serverSyncTree_,t,Re,_.currentWriteId,_.applyLocally);Yi(i.eventQueue_,t,ht),Tu(i,i.transactionQueueTree_)}}(i._repo,i._path,t,(T,x,Z)=>{let U=null;T?p.reject(T):(U=new Yn(Z,new Qi(i._repo,i._path),Ut),p.resolve(new p_(x,U)))},I,u),p.promise}(this._delegate,t,{applyLocally:o}).then(p=>new D0(p.committed,new zo(this.database,p.snapshot)));return e&&u.then(p=>e(null,p.committed,p.snapshot),p=>e(p,!1,null)),u}setPriority(t,e){(0,R.Dv)("Reference.setPriority",1,2,arguments.length),(0,R.Wj)("Reference.setPriority","onComplete",e,!0);const o=function l0(i,t){i=(0,R.m9)(i),Di("setPriority",i._path),xf("setPriority",t,!1);const e=new R.BH;return Tp(i._repo,Yt(i._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&o.then(()=>e(null),u=>e(u)),o}push(t,e){(0,R.Dv)("Reference.push",0,2,arguments.length),(0,R.Wj)("Reference.push","onComplete",e,!0);const o=function a_(i,t){i=(0,R.m9)(i),Di("push",i._path),Xs("push",t,i._path,!0);const e=Km(i._repo),o=$h(e),u=La(i,o),p=La(i,o);let _;return _=null!=t?Op(p,t).then(()=>p):Promise.resolve(p),u.then=_.then.bind(_),u.catch=_.then.bind(_,void 0),u}(this._delegate,t),u=o.then(_=>new bi(this.database,_));e&&u.then(()=>e(null),_=>e(_));const p=new bi(this.database,o);return p.then=u.then.bind(u),p.catch=u.catch.bind(u,void 0),p}onDisconnect(){return Di("Reference.onDisconnect",this._delegate._path),new C_(new o_(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class sd{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(t,e,o={}){!function Mu(i,t,e,o={}){(i=(0,R.m9)(i))._checkNotDeleted("useEmulator"),i._instanceStarted&&Wi("Cannot call useEmulator() after instance has already been initialized.");const u=i._repoInternal;let p;if(u.repoInfo_.nodeAdmin)o.mockUserToken&&Wi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),p=new Cr(Cr.OWNER);else if(o.mockUserToken){const _="string"==typeof o.mockUserToken?o.mockUserToken:(0,R.Sg)(o.mockUserToken,i.app.options.projectId);p=new Cr(_)}!function rd(i,t,e,o){i.repoInfo_=new vi(`${t}:${e}`,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams),o&&(i.authTokenProvider_=o)}(u,t,e,p)}(this._delegate,t,e,o)}ref(t){if((0,R.Dv)("database.ref",0,1,arguments.length),t instanceof bi){const e=Pp(this._delegate,t.toString());return new bi(this,e)}{const e=Lf(this._delegate,t);return new bi(this,e)}}refFromURL(t){(0,R.Dv)("database.refFromURL",1,1,arguments.length);const o=Pp(this._delegate,t);return new bi(this,o)}goOffline(){return(0,R.Dv)("database.goOffline",0,0,arguments.length),function Su(i){(i=(0,R.m9)(i))._checkNotDeleted("goOffline"),Mp(i._repo)}(this._delegate)}goOnline(){return(0,R.Dv)("database.goOnline",0,0,arguments.length),function xu(i){(i=(0,R.m9)(i))._checkNotDeleted("goOnline"),function $o(i){i.persistentConnection_&&i.persistentConnection_.resume(qm)}(i._repo)}(this._delegate)}}sd.ServerValue={TIMESTAMP:function Pu(){return Ru}(),increment:i=>function Ou(i){return{".sv":{increment:i}}}(i)};var b0=Object.freeze({__proto__:null,initStandalone:function E_({app:i,url:t,version:e,customAuthImpl:o,namespace:u,nodeAdmin:p=!1}){ol(e);const _=new Tr.zt("auth-internal",new Tr.H0("database-standalone"));return _.setComponent(new Tr.wA("auth-internal",()=>o,"PRIVATE")),{instance:new sd(ur(i,_,void 0,t,p),i),namespace:u}}});const w_=sd.ServerValue;!function T0(i){i.INTERNAL.registerComponent(new Tr.wA("database-compat",(t,{instanceIdentifier:e})=>{const o=t.getProvider("app-compat").getImmediate(),u=t.getProvider("database").getImmediate({identifier:e});return new sd(u,o)},"PUBLIC").setServiceProps({Reference:bi,Query:Qn,Database:sd,DataSnapshot:zo,enableLogging:ku,INTERNAL:b0,ServerValue:w_}).setMultipleInstances(!0)),i.registerVersion("@firebase/database-compat","0.1.5")}(js.Z);var I_=O(7579),Zp=O(5363),A0=O(6063);class Gp extends I_.x{constructor(t=1/0,e=1/0,o=A0.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:o,_infiniteTimeWindow:u,_timestampProvider:p,_windowTime:_}=this;e||(o.push(t),!u&&o.push(p.now()+_)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:o,_buffer:u}=this,p=u.slice();for(let _=0;_<p.length&&!t.closed;_+=o?1:2)t.next(p[_]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:o,_infiniteTimeWindow:u}=this,p=(u?1:2)*t;if(t<1/0&&p<o.length&&o.splice(0,o.length-p),!u){const _=e.now();let I=0;for(let T=1;T<o.length&&o[T]<=_;T+=2)I=T;I&&o.splice(0,I+1)}}}function jf(i,t,e){var o,u;let p,_=!1;return i&&"object"==typeof i?(p=null!==(o=i.bufferSize)&&void 0!==o?o:1/0,t=null!==(u=i.windowTime)&&void 0!==u?u:1/0,_=!!i.refCount,e=i.scheduler):p=null!=i?i:1/0,(0,aa.B)({connector:()=>new Gp(p,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:_})}const S0=(0,O(3888).d)(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"});function x0(i,t){return(0,yr.e)((e,o)=>{let u=0;e.subscribe(new Dn.Q(o,p=>i.call(t,p,u++)&&o.next(p)))})}var KE=O(5698);function k0(i){return(0,yr.e)((t,e)=>{let o=!1;t.subscribe(new Dn.Q(e,u=>{o=!0,e.next(u)},()=>{o||e.next(i),e.complete()}))})}function D_(i=YE){return(0,yr.e)((t,e)=>{let o=!1;t.subscribe(new Dn.Q(e,u=>{o=!0,e.next(u)},()=>o?e.complete():e.error(i())))})}function YE(){return new S0}var Fu=O(576);function b_(i,t){return(0,Fu.m)(t)?jr(()=>i,t):jr(()=>i)}var Zf=O(9468);O(5867);const V0=new Map,ad={activated:!1,tokenObservers:[]},B0={initialized:!1,enabled:!1};function Ln(i){return V0.get(i)||ad}function Ti(i,t){V0.set(i,t)}function $f(){return B0}class qp{constructor(t,e,o,u,p){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=o,this.lowerBound=u,this.upperBound=p,this.pending=null,this.nextErrorWaitInterval=u,u>p)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Ar.Z)(function*(){e.stop();try{e.pending=new R.BH,yield function U0(i){return new Promise(t=>{setTimeout(t,i)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new R.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(o){e.retryPolicy(o)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const cr=new R.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Kp(i){if(!Ln(i).activated)throw cr.create("use-before-activation",{appName:i.name})}function qf(i,t){return Kf.apply(this,arguments)}function Kf(){return(Kf=(0,Ar.Z)(function*({url:i,body:t},e){const o={"Content-Type":"application/json"},u=e.getImmediate({optional:!0});u&&(o["X-Firebase-Client"]=u.getPlatformInfoString());const p={method:"POST",body:JSON.stringify(t),headers:o};let _,I;try{_=yield fetch(i,p)}catch(U){throw cr.create("fetch-network-error",{originalErrorMessage:U.message})}if(200!==_.status)throw cr.create("fetch-status-error",{httpStatus:_.status});try{I=yield _.json()}catch(U){throw cr.create("fetch-parse-error",{originalErrorMessage:U.message})}const T=I.ttl.match(/^([\d.]+)(s)$/);if(!T||!T[2]||isNaN(Number(T[1])))throw cr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${I.ttl}`});const x=1e3*Number(T[1]),Z=Date.now();return{token:I.attestationToken,expireTimeMillis:Z+x,issuedAtTimeMillis:Z}})).apply(this,arguments)}function H0(i,t){const{projectId:e,appId:o,apiKey:u}=i.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${o}:exchangeDebugToken?key=${u}`,body:{debug_token:t}}}const Il="firebase-app-check-store";let dd=null;function Jp(){return dd||(dd=new Promise((i,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=o=>{i(o.target.result)},e.onerror=o=>{var u;t(cr.create("storage-open",{originalErrorMessage:null===(u=o.target.error)||void 0===u?void 0:u.message}))},e.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(Il,{keyPath:"compositeKey"})}}catch(e){t(cr.create("storage-open",{originalErrorMessage:e.message}))}}),dd)}function Yf(){return(Yf=(0,Ar.Z)(function*(i,t){const o=(yield Jp()).transaction(Il,"readwrite"),p=o.objectStore(Il).put({compositeKey:i,value:t});return new Promise((_,I)=>{p.onsuccess=T=>{_()},o.onerror=T=>{var x;I(cr.create("storage-set",{originalErrorMessage:null===(x=T.target.error)||void 0===x?void 0:x.message}))}})})).apply(this,arguments)}const Lu=new Zs.Yd("@firebase/app-check");function tg(i,t){return(0,R.hl)()?function L_(i,t){return function Xp(i,t){return Yf.apply(this,arguments)}(function U_(i){return`${i.options.appId}-${i.name}`}(i),t)}(i,t).catch(e=>{Lu.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function rg(){return $f().enabled}function H_(){return Qf.apply(this,arguments)}function Qf(){return(Qf=(0,Ar.Z)(function*(){const i=$f();if(i.enabled&&i.token)return i.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Vu={error:"UNKNOWN_ERROR"};function $0(i){return R.US.encodeString(JSON.stringify(i),!1)}function Jf(i){return Xf.apply(this,arguments)}function Xf(){return(Xf=(0,Ar.Z)(function*(i,t=!1){const e=i.app;Kp(e);const o=Ln(e);let p,u=o.token;if(!u){const T=yield o.cachedTokenPromise;T&&Ai(T)&&(u=T)}if(!t&&u&&Ai(u))return{token:u.token};let I,_=!1;if(rg()){o.exchangeTokenPromise||(o.exchangeTokenPromise=qf(H0(e,yield H_()),i.platformLoggerProvider).then(x=>(o.exchangeTokenPromise=void 0,x)),_=!0);const T=yield o.exchangeTokenPromise;return yield tg(e,T),Ti(e,Object.assign(Object.assign({},o),{token:T})),{token:T.token}}try{o.exchangeTokenPromise||(o.exchangeTokenPromise=o.provider.getToken().then(T=>(o.exchangeTokenPromise=void 0,T)),_=!0),u=yield o.exchangeTokenPromise}catch(T){"appCheck/throttled"===T.code?Lu.warn(T.message):Lu.error(T),p=T}return u?(I={token:u.token},Ti(e,Object.assign(Object.assign({},o),{token:u})),yield tg(e,u)):I=z0(p),_&&th(e,I),I})).apply(this,arguments)}function eh(i,t){const e=Ln(i),o=e.tokenObservers.filter(u=>u.next!==t);0===o.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Ti(i,Object.assign(Object.assign({},e),{tokenObservers:o}))}function W0(i){const{app:t}=i,e=Ln(t);let o=e.tokenRefresher;o||(o=function Z_(i){const{app:t}=i;return new qp((0,Ar.Z)(function*(){let o;if(o=Ln(t).token?yield Jf(i,!0):yield Jf(i),o.error)throw o.error}),()=>!0,()=>{const e=Ln(t);if(e.token){let o=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return o=Math.min(o,e.token.expireTimeMillis-3e5),Math.max(0,o-Date.now())}return 0},3e4,96e4)}(i),Ti(t,Object.assign(Object.assign({},e),{tokenRefresher:o}))),!o.isRunning()&&e.isTokenAutoRefreshEnabled&&o.start()}function th(i,t){const e=Ln(i).tokenObservers;for(const o of e)try{"EXTERNAL"===o.type&&null!=t.error?o.error(t.error):o.next(t)}catch(u){}}function Ai(i){return i.expireTimeMillis-Date.now()>0}function z0(i){return{token:$0(Vu),error:i}}class q0{constructor(t,e){this.app=t,this.platformLoggerProvider=e}_delete(){const{tokenObservers:t}=Ln(this.app);for(const e of t)eh(this.app,e.next);return Promise.resolve()}}const ug="app-check-internal";!function Q_(){(0,Zr._registerComponent)(new Tr.wA("app-check",i=>function no(i,t){return new q0(i,t)}(i.getProvider("app").getImmediate(),i.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((i,t,e)=>{i.getProvider(ug).initialize()})),(0,Zr._registerComponent)(new Tr.wA(ug,i=>function Ts(i){return{getToken:t=>Jf(i,t),addTokenListener:t=>function ig(i,t,e,o){const{app:u}=i,p=Ln(u),_={next:e,error:o,type:t};if(Ti(u,Object.assign(Object.assign({},p),{tokenObservers:[...p.tokenObservers,_]})),p.token&&Ai(p.token)){const I=p.token;Promise.resolve().then(()=>{e({token:I.token}),W0(i)}).catch(()=>{})}p.cachedTokenPromise.then(()=>W0(i))}(i,"INTERNAL",t),removeTokenListener:t=>eh(i.app,t)}}(i.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Zr.registerVersion)("@firebase/app-check","0.5.3")}();class fg{constructor(){return(0,Ft.vb)("app-check")}}"undefined"!=typeof window&&window;var J_=O(127);const pg=new a.OlP("angularfire2.auth.use-emulator"),gg=new a.OlP("angularfire2.auth.settings"),mg=new a.OlP("angularfire2.auth.tenant-id"),_g=new a.OlP("angularfire2.auth.langugage-code"),yg=new a.OlP("angularfire2.auth.use-device-language"),vg=new a.OlP("angularfire.auth.persistence"),Cg=(i,t,e,o,u,p,_,I)=>(0,or.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const T=t.runOutsideAngular(()=>i.auth());if(e&&T.useEmulator(...e),o&&(T.tenantId=o),T.languageCode=u,p&&T.useDeviceLanguage(),_)for(const[x,Z]of Object.entries(_))T.settings[x]=Z;return I&&T.setPersistence(I),T},[e,o,u,p,_,I]);let hd=(()=>{class i{constructor(e,o,u,p,_,I,T,x,Z,U,oe,be){const Re=new I_.x,ht=br(void 0).pipe((0,Zp.Q)(_.outsideAngular),jr(()=>p.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,389)))),(0,_t.U)(()=>(0,or.on)(e,p,o)),(0,_t.U)(Rt=>Cg(Rt,p,I,x,Z,U,T,oe)),jf({bufferSize:1,refCount:!1}));if(function $n(i){return"server"===i}(u))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=br(null);else{ht.pipe(function N0(i,t){const e=arguments.length>=2;return o=>o.pipe(i?x0((u,p)=>i(u,p,o)):rl.y,(0,KE.q)(1),e?k0(t):D_(()=>new S0))}()).subscribe();const dr=ht.pipe(jr(on=>on.getRedirectResult().then(Mi=>Mi,()=>null)),Ft.iC,jf({bufferSize:1,refCount:!1})),An=ht.pipe(jr(on=>new _r.y(Mi=>({unsubscribe:p.runOutsideAngular(()=>on.onAuthStateChanged(kl=>Mi.next(kl),kl=>Mi.error(kl),()=>Mi.complete()))})))),es=ht.pipe(jr(on=>new _r.y(Mi=>({unsubscribe:p.runOutsideAngular(()=>on.onIdTokenChanged(kl=>Mi.next(kl),kl=>Mi.error(kl),()=>Mi.complete()))}))));this.authState=dr.pipe(b_(An),(0,Zf.R)(_.outsideAngular),(0,Zp.Q)(_.insideAngular)),this.user=dr.pipe(b_(es),(0,Zf.R)(_.outsideAngular),(0,Zp.Q)(_.insideAngular)),this.idToken=this.user.pipe(jr(on=>on?(0,ds.D)(on.getIdToken()):br(null))),this.idTokenResult=this.user.pipe(jr(on=>on?(0,ds.D)(on.getIdTokenResult()):br(null))),this.credential=(0,oa.T)(dr,Re,this.authState.pipe(x0(on=>!on))).pipe((0,_t.U)(on=>(null==on?void 0:on.user)?on:null),(0,Zf.R)(_.outsideAngular),(0,Zp.Q)(_.insideAngular))}return(0,or.pX)(this,ht,p,{spy:{apply:(Rt,dr,An)=>{(Rt.startsWith("signIn")||Rt.startsWith("createUser"))&&An.then(es=>Re.next(es))}}})}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(or.Dh),a.LFG(or.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Ft.HU),a.LFG(pg,8),a.LFG(gg,8),a.LFG(mg,8),a.LFG(_g,8),a.LFG(yg,8),a.LFG(vg,8),a.LFG(fg,8))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),ey=(()=>{class i{constructor(){J_.Z.registerVersion("angularfire",Ft.q4.full,"auth-compat")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:[hd]}),i})();function ny(i){return null==i}function ry(i){return"function"==typeof i.set}function bl(i,t){return ry(t)?t:i.ref(t)}function oC(i,t){if(function ty(i){return"string"==typeof i}(i))return t.stringCase();if(ry(i))return t.firebaseCase();if(function Dl(i){return"function"==typeof i.exportVal}(i))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof i)}function Tl(i,t,e="on",o=Bn.z){return new _r.y(u=>{let p=null;return p=i[e](t,(_,I)=>{o.schedule(()=>{u.next({snapshot:_,prevKey:I})}),"once"===e&&o.schedule(()=>u.complete())},_=>{o.schedule(()=>u.error(_))}),"on"===e?{unsubscribe(){null!=p&&i.off(t,p)}}:{unsubscribe(){}}}).pipe((0,_t.U)(u=>{const{snapshot:p,prevKey:_}=u;let I=null;return p.exists()&&(I=p.key),{type:t,payload:p,prevKey:_,key:I}}),(0,aa.B)())}function Eg(i,t){const e=i.length;for(let o=0;o<e;o++)if(i[o].payload.key===t)return o;return-1}function pw(i,t){const{payload:e,prevKey:o,key:u}=t,p=Eg(i,u),_=function iy(i,t){if(ny(t))return 0;{const e=Eg(i,t);return-1===e?i.length:e+1}}(i,o);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let I=null;t.payload.forEach(T=>{const x={payload:T,type:"value",prevKey:I,key:T.key};return I=T.key,i=[...i,x],!1})}return i;case"child_added":if(p>-1){const I=i[p-1];(I&&I.key||null)!==o&&(i=i.filter(T=>T.payload.key!==e.key)).splice(_,0,t)}else{if(null==o)return[t,...i];(i=i.slice()).splice(_,0,t)}return i;case"child_removed":return i.filter(I=>I.payload.key!==e.key);case"child_changed":return i.map(I=>I.payload.key===u?t:I);case"child_moved":if(p>-1){const I=i.splice(p,1)[0];return(i=i.slice()).splice(_,0,I),i}return i;default:return i}}function Xe(i){return(ny(i)||0===i.length)&&(i=["child_added","child_removed","child_changed","child_moved"]),i}function sy(i,t,e){return function hw(i,t,e){return Tl(i,"value","once",e).pipe(jr(o=>{const u=[br(o)];return t.forEach(p=>u.push(Tl(i,p,"on",e))),(0,oa.T)(...u).pipe(la(pw,[]))}),function ua(i,t=rl.y){return i=null!=i?i:Ui,(0,yr.e)((e,o)=>{let u,p=!0;e.subscribe(new Dn.Q(o,_=>{const I=t(_);(p||!i(u,I))&&(p=!1,u=I,o.next(_))}))})}())}(i,t=Xe(t),e)}function oy(i,t,e){const o=(t=Xe(t)).map(u=>Tl(i,u,"on",e));return(0,oa.T)(...o)}function pd(i,t){return function(o,u){return oC(o,{stringCase:()=>i.child(o)[t](u),firebaseCase:()=>o[t](u),snapshotCase:()=>o.ref[t](u)})}}function ah(i){return function(e){return e?oC(e,{stringCase:()=>i.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):i.remove()}}function uC(i,t){return function(){return Tl(i,"value","on",t)}}const cC=new a.OlP("angularfire2.realtimeDatabaseURL"),dC=new a.OlP("angularfire2.database.use-emulator");let Va=(()=>{class i{constructor(e,o,u,p,_,I,T,x,Z,U,oe,be,Re,ht,Rt){this.schedulers=I;const dr=T,An=(0,or.on)(e,_,o);x&&Cg(An,_,Z,oe,be,Re,U,ht),this.database=(0,or.cc)(`${An.name}.database.${u}`,"AngularFireDatabase",An.name,()=>{const es=_.runOutsideAngular(()=>An.database(u||void 0));return dr&&es.useEmulator(...dr),es},[dr])}list(e,o){const u=this.schedulers.ngZone.runOutsideAngular(()=>bl(this.database,e));let p=u;return o&&(p=o(u)),function vn(i,t){const e=t.schedulers.outsideAngular,o=t.schedulers.ngZone.run(()=>i.ref);return{query:i,update:pd(o,"update"),set:pd(o,"set"),push:u=>o.push(u),remove:ah(o),snapshotChanges:u=>sy(i,u,e).pipe(Ft.iC),stateChanges:u=>oy(i,u,e).pipe(Ft.iC),auditTrail:u=>function aC(i,t,e){return function lC(i,t,e){return function oh(i,t){return Tl(i,"value","on",t).pipe((0,_t.U)(e=>{let o;return e.payload.forEach(u=>(o=u.key,!1)),{data:e,lastKeyToLoad:o}}))}(i,e).pipe(function Hi(...i){const t=(0,To.jO)(i);return(0,yr.e)((e,o)=>{const u=i.length,p=new Array(u);let _=i.map(()=>!1),I=!1;for(let T=0;T<u;T++)(0,Hr.Xf)(i[T]).subscribe(new Dn.Q(o,x=>{p[T]=x,!I&&!_[T]&&(_[T]=!0,(I=_.every(rl.y))&&(_=null))},fs.Z));e.subscribe(new Dn.Q(o,T=>{if(I){const x=[T,...p];o.next(t?t(...x):x)}}))})}(t),(0,_t.U)(([u,p])=>{const _=u.lastKeyToLoad,I=p.map(T=>T.key);return{actions:p,lastKeyToLoad:_,loadedKeys:I}}),function ca(i){return(0,yr.e)((t,e)=>{let o=!1,u=0;t.subscribe(new Dn.Q(e,p=>(o||(o=!i(p,u++)))&&e.next(p)))})}(u=>-1===u.loadedKeys.indexOf(u.lastKeyToLoad)),(0,_t.U)(u=>u.actions))}(i,oy(i,t).pipe(la((u,p)=>[...u,p],[])),e)}(i,u,e).pipe(Ft.iC),valueChanges:(u,p)=>sy(i,u,e).pipe((0,_t.U)(I=>I.map(T=>p&&p.idField?Object.assign(Object.assign({},T.payload.val()),{[p.idField]:T.key}):T.payload.val())),Ft.iC)}}(p,this)}object(e){return function ay(i,t){return{query:i,snapshotChanges:()=>uC(i,t.schedulers.outsideAngular)().pipe(Ft.iC),update:e=>i.ref.update(e),set:e=>i.ref.set(e),remove:()=>i.ref.remove(),valueChanges:()=>uC(i,t.schedulers.outsideAngular)().pipe(Ft.iC,(0,_t.U)(o=>o.payload.exists()?o.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>bl(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(or.Dh),a.LFG(or.xv,8),a.LFG(cC,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Ft.HU),a.LFG(dC,8),a.LFG(hd,8),a.LFG(pg,8),a.LFG(gg,8),a.LFG(mg,8),a.LFG(_g,8),a.LFG(yg,8),a.LFG(vg,8),a.LFG(fg,8))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),ly=(()=>{class i{constructor(){J_.Z.registerVersion("angularfire",Ft.q4.full,"rtdb-compat")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:[Va]}),i})(),uy=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[[si],si]}),i})();var cy=O(655);let Uu=(()=>{class i{constructor(e){this.auth=e,this.userPhotoURL=""}signInToggleWithGoogle(){return(0,cy.mG)(this,void 0,void 0,function*(){if(this._userInfo)return yield this.auth.signOut(),void(this._userInfo=null);const e=yield this.auth.signInWithPopup(new js.Z.auth.GoogleAuthProvider);this._userInfo=e.additionalUserInfo.profile,this.userPhotoURL=this._userInfo.picture})}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(hd))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})();const fC=["smallMenu"];function hC(i,t){1&i&&a._UZ(0,"img",26)}function gd(i,t){1&i&&a._UZ(0,"img",27)}function pC(i,t){if(1&i&&(a.TgZ(0,"div",28),a._UZ(1,"img",29),a.TgZ(2,"label",30),a._uU(3),a.qZA(),a.qZA()),2&i){const e=a.oxw();a.xp6(1),a.s9C("src",e.globalService.userPhotoURL,a.LSH),a.xp6(2),a.Oqu(e.globalService._userInfo.displayName)}}function gC(i,t){1&i&&(a.TgZ(0,"div",28),a.TgZ(1,"label",31),a._uU(2,"\xc7\u0131k\u0131\u015f"),a.qZA(),a.qZA())}let mC=(()=>{class i{constructor(e){this.globalService=e}signInToggleWithGoogle(){this.globalService.signInToggleWithGoogle()}openSmallMenu(){this.smallMenu.nativeElement.style.setProperty("display","block"==this.smallMenu.nativeElement.style.display?"none":"block","important")}closeSmallMenu(){this.smallMenu.nativeElement.style.setProperty("display","none","important")}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(Uu))},i.\u0275cmp=a.Xpm({type:i,selectors:[["nav-menu"]],viewQuery:function(e,o){if(1&e&&a.Gf(fC,5),2&e){let u;a.iGM(u=a.CRH())&&(o.smallMenu=u.first)}},decls:44,vars:4,consts:[["id","myNavbar",1,"w3-bar","w3-black",2,"display","flex","align-content","stretch","opacity","0.8","flex-wrap","wrap","justify-content","center"],[1,"w3-bar-item","w3-button","w3-wide",2,"margin-right","auto",3,"click"],["class","logoImg w3-hide-medium w3-hide-small","src","./assets/images/logo.png",4,"ngIf"],["class","logoImgSmall w3-hide-large","src","./assets/images/logo.png",4,"ngIf"],["style","display: flex;width: 250px",4,"ngIf"],["href","#hakkimizda",1,"w3-button","w3-hide-small","w3-hide-medium"],["href","#haftalikmenu",1,"w3-button","w3-hide-small","w3-hide-medium"],[1,"fa","fa-table"],["href","#alakart",1,"w3-button","w3-hide-small","w3-hide-medium"],[1,"fa","fa-cutlery"],["href","#ekipmanlar",1,"w3-button","w3-hide-small","w3-hide-medium"],[1,"fa","fa-suitcase"],["href","#gorseller",1,"w3-button","w3-hide-small","w3-hide-medium"],[1,"fa","fa-picture-o"],["href","#iletisim",1,"w3-button","w3-hide-small","w3-hide-medium"],[1,"fa","fa-envelope"],["href","javascript:void(0)",1,"w3-button","w3-right","w3-hide-large",2,"cursor","pointer",3,"click"],[1,"fa","fa-bars","w3-padding-right","w3-padding-left"],["id","navDemo",1,"w3-bar-block","w3-black","w3-hide","w3-hide-large","w3-top",2,"margin-top","46px","text-align","left!important"],["smallMenu",""],["href","#hakkimizda",1,"w3-button","w3-black","w3-mobil",3,"click"],["href","#haftalikmenu",1,"w3-button","w3-black","w3-mobil",3,"click"],["href","#alakart",1,"w3-button","w3-black","w3-mobil",3,"click"],["href","#ekipmanlar",1,"w3-button","w3-black","w3-mobil",3,"click"],["href","#gorseller",1,"w3-button","w3-black","w3-mobil",3,"click"],["href","#iletisim",1,"w3-button","w3-black","w3-mobil",3,"click"],["src","./assets/images/logo.png",1,"logoImg","w3-hide-medium","w3-hide-small"],["src","./assets/images/logo.png",1,"logoImgSmall","w3-hide-large"],[2,"display","flex","width","250px"],[2,"width","50px","height","50px",3,"src"],[2,"width","50px","padding-left","10px"],[2,"width","50px"]],template:function(e,o){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"span",1),a.NdJ("click",function(){return o.signInToggleWithGoogle()}),a.YNc(2,hC,1,0,"img",2),a.YNc(3,gd,1,0,"img",3),a.YNc(4,pC,4,2,"div",4),a.YNc(5,gC,3,0,"div",4),a.qZA(),a.TgZ(6,"a",5),a._uU(7,"HAKKIMIZDA"),a.qZA(),a.TgZ(8,"a",6),a._UZ(9,"i",7),a._uU(10,"\xa0 HAFTALIK MENU"),a.qZA(),a.TgZ(11,"a",8),a._UZ(12,"i",9),a._uU(13,"\xa0 ALAKART"),a.qZA(),a.TgZ(14,"a",10),a._UZ(15,"i",11),a._uU(16,"\xa0 EK\u0130PMANLAR"),a.qZA(),a.TgZ(17,"a",12),a._UZ(18,"i",13),a._uU(19,"\xa0 G\xd6RSELLER"),a.qZA(),a.TgZ(20,"a",14),a._UZ(21,"i",15),a._uU(22,"\xa0 \u0130LET\u0130\u015e\u0130M"),a.qZA(),a.TgZ(23,"a",16),a.NdJ("click",function(){return o.openSmallMenu()}),a._UZ(24,"i",17),a.qZA(),a.qZA(),a.TgZ(25,"div",18,19),a.TgZ(27,"a",20),a.NdJ("click",function(){return o.closeSmallMenu()}),a._uU(28,"HAKKIMIZDA"),a.qZA(),a.TgZ(29,"a",21),a.NdJ("click",function(){return o.closeSmallMenu()}),a._UZ(30,"i",7),a._uU(31,"\xa0 HAFTALIK MENU"),a.qZA(),a.TgZ(32,"a",22),a.NdJ("click",function(){return o.closeSmallMenu()}),a._UZ(33,"i",9),a._uU(34,"\xa0 ALAKART"),a.qZA(),a.TgZ(35,"a",23),a.NdJ("click",function(){return o.closeSmallMenu()}),a._UZ(36,"i",11),a._uU(37,"\xa0 EK\u0130PMANLAR"),a.qZA(),a.TgZ(38,"a",24),a.NdJ("click",function(){return o.closeSmallMenu()}),a._UZ(39,"i",13),a._uU(40,"\xa0 G\xd6RSELLER"),a.qZA(),a.TgZ(41,"a",25),a.NdJ("click",function(){return o.closeSmallMenu()}),a._UZ(42,"i",15),a._uU(43,"\xa0 \u0130LET\u0130\u015e\u0130M"),a.qZA(),a.qZA()),2&e&&(a.xp6(2),a.Q6J("ngIf",!o.globalService._userInfo),a.xp6(1),a.Q6J("ngIf",!o.globalService._userInfo),a.xp6(1),a.Q6J("ngIf",o.globalService._userInfo),a.xp6(1),a.Q6J("ngIf",o.globalService._userInfo))},directives:[an],styles:["a[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}#navDemo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{justify-content:left!important;padding-left:10%;line-height:30px}.logoImg[_ngcontent-%COMP%]{width:110px;display:block;height:auto;padding:0}.logoImgSmall[_ngcontent-%COMP%]{width:75px;display:block;height:auto;padding:0}"]}),i})();const lh=["dataContainer"],dy=["dotContainer"];function fy(i,t){if(1&i){const e=a.EpF();a.TgZ(0,"div",5),a.TgZ(1,"span",6),a.NdJ("click",function(){return a.CHM(e),a.oxw().plusDivs(-1)}),a._UZ(2,"i",7),a.qZA(),a.TgZ(3,"span",8),a.NdJ("click",function(){return a.CHM(e),a.oxw().plusDivs(1)}),a._UZ(4,"i",9),a.qZA(),a.qZA()}}const hy=[[["","body",""]]],_C=["[body]"];let Hu=(()=>{class i{constructor(){this.displayItems=[],this.indexItem=0,this.dotItems=[]}ngOnInit(){}ngAfterViewInit(){this.displayItems=this.dataContainer.nativeElement.querySelectorAll("ul>li"),this.dotItems=this.dotContainer.nativeElement.querySelectorAll(".carousel-dots span"),this.displayItems[0].classList.add("current"),setInterval(()=>{this.carousel(this.indexItem+=1)},this.saniye)}plusDivs(e){this.carousel(this.indexItem+=e)}carousel(e){this.indexItem>this.displayItems.length-1&&(this.indexItem=0),this.indexItem<0&&(this.indexItem=this.displayItems.length-1);for(let o of this.displayItems)o.classList.remove("current");for(let o of this.dotItems);this.displayItems[this.indexItem].classList.add("current")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=a.Xpm({type:i,selectors:[["my-w3carousel"]],viewQuery:function(e,o){if(1&e&&(a.Gf(lh,5),a.Gf(dy,5)),2&e){let u;a.iGM(u=a.CRH())&&(o.dataContainer=u.first),a.iGM(u=a.CRH())&&(o.dotContainer=u.first)}},inputs:{saniye:"saniye",buttons:"buttons"},ngContentSelectors:_C,decls:6,vars:1,consts:[[1,"inner"],["dataContainer",""],["class","buttons",4,"ngIf"],[1,"carousel-dots"],["dotContainer",""],[1,"buttons"],[1,"prev","w3-display-left",3,"click"],[1,"fa","fa-chevron-left","fa-2x"],[1,"next","w3-display-right",3,"click"],[1,"fa","fa-chevron-right","fa-2x"]],template:function(e,o){1&e&&(a.F$t(hy),a.TgZ(0,"div",0,1),a.Hsn(2),a.qZA(),a.YNc(3,fy,5,0,"div",2),a._UZ(4,"div",3,4)),2&e&&(a.xp6(3),a.Q6J("ngIf","evet"==o.buttons))},directives:[an],styles:["[_nghost-%COMP%]{display:block;position:relative;max-height:100vh;overflow:hidden;width:100%;height:100%}[_nghost-%COMP%]  ul{min-height:50px;width:100%;margin:0;padding:0}[_nghost-%COMP%]  li{list-style-type:none;transition:1s;width:100%;height:0px;display:none}[_nghost-%COMP%]  .current{display:block!important;color:red;height:100%!important;-webkit-animation:slide-down .3s ease-out}[_nghost-%COMP%]  li>img{width:100%;display:block;height:auto}[_nghost-%COMP%]  .prev, [_nghost-%COMP%]  .next{cursor:pointer;display:inline-block;opacity:.4;transition:opacity .4s;z-index:6000;width:50px;height:50px;color:#ff0}[_nghost-%COMP%]  .prev:hover, .next[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}[_nghost-%COMP%]  .carousel-dots{position:absolute;width:100%;bottom:30px;z-index:200;text-align:center}[_nghost-%COMP%]  .carousel-dots>span{height:8px;width:30px;border:1px solid white;margin:0 5px;display:inline-block;cursor:pointer;transition:opacity .4 ease-in;transition:background-color .6s ease}[_nghost-%COMP%]  .carousel-dots>span:hover{background-color:#ff0}[_nghost-%COMP%]  .carousel-dots>span.current{background-color:#fff}[_nghost-%COMP%]  .prev, [_nghost-%COMP%]  .next{visibility:hidden}[_nghost-%COMP%]:hover  .prev, [_nghost-%COMP%]:hover  .next{visibility:visible}"]}),i})();function md(i,t){if(1&i&&(a.TgZ(0,"li"),a._UZ(1,"img",7),a.qZA()),2&i){const e=t.$implicit;a.xp6(1),a.Q6J("src",e.src,a.LSH)}}let yC=(()=>{class i{constructor(){this.slideItems=[],this.baslik="",this.baslik="tan\u0131t\u0131m carousel"}ngOnInit(){this.slideItems.push({src:"./assets/images/a_guncel/1.jpeg",sitil:"block",caption:"Ankarada Butik"}),this.slideItems.push({src:"./assets/images/a_guncel/2.jpeg",sitil:"none",caption:"ev yemekler"}),this.slideItems.push({src:"./assets/images/a_guncel/3.jpeg",sitil:"none",caption:"herkese"})}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=a.Xpm({type:i,selectors:[["main-slide"]],decls:17,vars:1,consts:[["id","anasayfa",1,"w3-row","w3-display-container"],["id","c1","saniye","9000","buttons","evet"],["body","",1,"inner"],[4,"ngFor","ngForOf"],[1,"w3-display-middle"],["id","bilgimetin",1,"w3-container","w3-animate-zoom","w3-round","w3-hide-small","w3-hide-medium"],["id","bilgimetin",1,"w3-container","w3-animate-zoom","w3-round","w3-hide-large"],[1,"w3-animate-fading",3,"src"]],template:function(e,o){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"my-w3carousel",1),a.TgZ(2,"div",2),a.TgZ(3,"ul"),a.YNc(4,md,2,1,"li",3),a.qZA(),a.qZA(),a.qZA(),a.TgZ(5,"div",4),a.TgZ(6,"h2",5),a._uU(7,' "A\xe7\u0131k Mutfak" konsepti ile sunulan ev yemekleri.... '),a._UZ(8,"br"),a._UZ(9,"br"),a._uU(10,' Her \xe7ar\u015famba "D\xfcnya Mutfa\u011f\u0131" ve '),a._UZ(11,"br"),a._uU(12,' her per\u015fembe "Vegan Mutfa\u011f\u0131" '),a._UZ(13,"br"),a._uU(14," \xf6rnekleri sunulmaktad\u0131r... "),a.qZA(),a._UZ(15,"h5",6),a._UZ(16,"div"),a.qZA(),a.qZA()),2&e&&(a.xp6(4),a.Q6J("ngForOf",o.slideItems))},directives:[Hu,jt],styles:["@keyframes anim{0%{text-shadow:1px 1px 1px black,0 0 1em pink,0 0 .1em darkmagenta}50%{text-shadow:1px 1px 2px black,0 0 1em pink,0 0 .2em lightpink}to{text-shadow:1px 1px 2px black,0 0 1em pink,0 0 .2em blue}}#bilgimetin[_ngcontent-%COMP%]{color:#fff!important;text-align:center;letter-spacing:3px;text-shadow:1px 1px 1px black,0 0 1em pink,0 0 .1em darkmagenta;animation:anim 3s ease-in 2s infinite alternate}"]}),i})(),vC=(()=>{class i{constructor(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=a.Xpm({type:i,selectors:[["hakkimizda"]],decls:12,vars:0,consts:[["id","hakkimizda",1,"w3-content","w3-container","w3-padding-32","w3-center"],[1,"w3-center","w3-wide"],[1,"w3-border-bottom","w3-border-light-grey","w3-padding-12",2,"font-weight","bold"],[1,"w3-row-padding","w3-center"],[2,"padding","10px 15%","text-align","center"],[2,"display","flex","height","160px","justify-content","center","align-items","center","margin-top","40px"],["src","./assets/images/ihakki.jpg",1,"img-circle",2,"width","160px","vertical-align","middle"],[1,"w3-large",2,"display","inline-block","word-wrap","break-word"]],template:function(e,o){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"h3",2),a._uU(3,"HAKKIMIZDA"),a.qZA(),a.qZA(),a.TgZ(4,"div",3),a.TgZ(5,"p",4),a.TgZ(6,"span"),a._uU(7," 27 senelik bankac\u0131l\u0131k hayat\u0131mdan sonra, uzun y\u0131llar hobi olarak u\u011fra\u015ft\u0131\u011f\u0131m gastronomi alan\u0131nda bir \u015feyler yapmaya karar verdim.Haftan\u0131n d\xf6rt g\xfcn\xfc T\xfcrk mutfa\u011f\u0131 haricinde, \xf6zellikle Asya mutfa\u011f\u0131na olan ilgim nedeniyle, Japon, \xc7in, Hint, Pakistan ve Thai mutfaklar\u0131 ba\u015fta olmak \xfczere pop\xfcler d\xfcnya \xfclkelerinin mutfaklar\u0131n\u0131 her \xc7ar\u015famba \xf6\u011flenleri butik tabldot \u015feklinde sunmaktay\u0131m. "),a.qZA(),a.qZA(),a.TgZ(8,"div",5),a._UZ(9,"img",6),a.TgZ(10,"strong",7),a._uU(11,"\u0130smail Hakk\u0131 Yi\u011fit"),a.qZA(),a.qZA(),a.qZA(),a.qZA())},styles:[".img-circle[_ngcontent-%COMP%]{border-radius:50%}"]}),i})(),py=(()=>{class i{constructor(e){this.afDb=e}haftaVerileriniGetir(e,o,u,p){return this.afDb.list(`/${e}/${o}/${u}/${p}`)}haftaVeriKaydet(e,o,u,p,_){var I=`/${e}/${o}/${u}/${p}`;return delete _.$key,delete _.$exists,this.afDb.object(I).set(_)}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(Va))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})();class gy{constructor(t,e,o,u,p,_,I,T,x,Z,U){this.Tarih=t,this.GunAd=e,this.FiyatlarGorunsunMu=o,this.ToplamFiyatGorunsunMu=u,this.ToplamFiyat=p,this.YemekMenuItems=_,this.GunBaslik=I,this.image=T,this.Aciklama=x,this.SalataMenuItems=Z,this.ToplamFiyatSalata=U}}class uh{constructor(t,e){this.Fiyat=t,this.YemekAdi=e}}class my{constructor(t,e){this.id=t,this.value=e}}const{isArray:CC}=Array,{getPrototypeOf:_y,prototype:EC,keys:wC}=Object;const{isArray:_w}=Array;function ch(i,t){return i.reduce((e,o,u)=>(e[o]=t[u],e),{})}let vy=(()=>{class i{constructor(e,o){this._renderer=e,this._elementRef=o,this.onChange=u=>{},this.onTouched=()=>{}}setProperty(e,o){this._renderer.setProperty(this._elementRef.nativeElement,e,o)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.Qsj),a.Y36(a.SBq))},i.\u0275dir=a.lG2({type:i}),i})(),Ba=(()=>{class i extends vy{}return i.\u0275fac=function(){let t;return function(o){return(t||(t=a.n5z(i)))(o||i)}}(),i.\u0275dir=a.lG2({type:i,features:[a.qOj]}),i})();const Jr=new a.OlP("NgValueAccessor"),DC={provide:Jr,useExisting:(0,a.Gpc)(()=>wg),multi:!0};let wg=(()=>{class i extends Ba{writeValue(e){this.setProperty("checked",e)}}return i.\u0275fac=function(){let t;return function(o){return(t||(t=a.n5z(i)))(o||i)}}(),i.\u0275dir=a.lG2({type:i,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,o){1&e&&a.NdJ("change",function(p){return o.onChange(p.target.checked)})("blur",function(){return o.onTouched()})},features:[a._Bn([DC]),a.qOj]}),i})();const bC={provide:Jr,useExisting:(0,a.Gpc)(()=>Al),multi:!0},AC=new a.OlP("CompositionEventMode");let Al=(()=>{class i extends vy{constructor(e,o,u){super(e,o),this._compositionMode=u,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function TC(){const i=N()?N().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(AC,8))},i.\u0275dir=a.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,o){1&e&&a.NdJ("input",function(p){return o._handleInput(p.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(p){return o._compositionEnd(p.target.value)})},features:[a._Bn([bC]),a.qOj]}),i})();const Tn=new a.OlP("NgValidators"),Ha=new a.OlP("NgAsyncValidators");function Dg(i){return function Ua(i){return null==i||0===i.length}(i.value)?{required:!0}:null}function _d(i){return null}function by(i){return null!=i}function Ty(i){const t=(0,a.QGY)(i)?(0,ds.D)(i):i;return(0,a.CqO)(t),t}function fh(i){let t={};return i.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function Ay(i,t){return t.map(e=>e(i))}function Sy(i){return i.map(t=>function My(i){return!i.validate}(t)?t:e=>t.validate(e))}function Ag(i){return null!=i?function xy(i){if(!i)return null;const t=i.filter(by);return 0==t.length?null:function(e){return fh(Ay(e,t))}}(Sy(i)):null}function ky(i){if(!i)return null;const t=i.filter(by);return 0==t.length?null:function(e){return function IC(...i){const t=(0,To.jO)(i),{args:e,keys:o}=function gw(i){if(1===i.length){const t=i[0];if(CC(t))return{args:t,keys:null};if(function mw(i){return i&&"object"==typeof i&&_y(i)===EC}(t)){const e=wC(t);return{args:e.map(o=>t[o]),keys:e}}}return{args:i,keys:null}}(i),u=new _r.y(p=>{const{length:_}=e;if(!_)return void p.complete();const I=new Array(_);let T=_,x=_;for(let Z=0;Z<_;Z++){let U=!1;(0,Hr.Xf)(e[Z]).subscribe(new Dn.Q(p,oe=>{U||(U=!0,x--),I[Z]=oe},()=>T--,void 0,()=>{(!T||!U)&&(x||p.next(o?ch(o,I):I),p.complete())}))}});return t?u.pipe(function yy(i){return(0,_t.U)(t=>function yw(i,t){return _w(t)?i(...t):i(t)}(i,t))}(t)):u}(Ay(e,t).map(Ty)).pipe((0,_t.U)(fh))}}function Mg(i){return null!=i?ky(Sy(i)):null}function Ny(i,t){return null===i?[t]:Array.isArray(i)?[...i,t]:[i,t]}function hh(i){return i?Array.isArray(i)?i:[i]:[]}function yd(i,t){return Array.isArray(i)?i.includes(t):i===t}function Oy(i,t){const e=hh(t);return hh(i).forEach(u=>{yd(e,u)||e.push(u)}),e}function Fy(i,t){return hh(t).filter(e=>!yd(i,e))}class Sg{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ag(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Mg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class ja extends Sg{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Rr extends Sg{get formDirective(){return null}get path(){return null}}class Ly{constructor(t){this._cd=t}is(t){var e,o,u;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(u=null===(o=this._cd)||void 0===o?void 0:o.control)||void 0===u?void 0:u[t])}}let vd=(()=>{class i extends Ly{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(ja,2))},i.\u0275dir=a.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,o){2&e&&a.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))},features:[a.qOj]}),i})(),ph=(()=>{class i extends Ly{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(Rr,10))},i.\u0275dir=a.lG2({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,o){2&e&&a.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))("ng-submitted",o.is("submitted"))},features:[a.qOj]}),i})();function Zu(i,t){Pg(i,t),t.valueAccessor.writeValue(i.value),function jy(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&Id(i,t)})}(i,t),function Dd(i,t){const e=(o,u)=>{t.valueAccessor.writeValue(o),u&&t.viewToModelUpdate(o)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}(i,t),function Og(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&Id(i,t),"submit"!==i.updateOn&&i.markAsTouched()})}(i,t),function kC(i,t){if(t.valueAccessor.setDisabledState){const e=o=>{t.valueAccessor.setDisabledState(o)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}(i,t)}function _h(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Pg(i,t){const e=function Ry(i){return i._rawValidators}(i);null!==t.validator?i.setValidators(Ny(e,t.validator)):"function"==typeof e&&i.setValidators([e]);const o=function Py(i){return i._rawAsyncValidators}(i);null!==t.asyncValidator?i.setAsyncValidators(Ny(o,t.asyncValidator)):"function"==typeof o&&i.setAsyncValidators([o]);const u=()=>i.updateValueAndValidity();_h(t._rawValidators,u),_h(t._rawAsyncValidators,u)}function Id(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function Vg(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}const ro="VALID",vh="INVALID",Ms="PENDING",Ch="DISABLED";function Ug(i){return(bd(i)?i.validators:i)||null}function OC(i){return Array.isArray(i)?Ag(i):i||null}function Eh(i,t){return(bd(t)?t.asyncValidators:i)||null}function FC(i){return Array.isArray(i)?Mg(i):i||null}function bd(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}const Hg=i=>i instanceof Zg;function Wy(i){return(i=>i instanceof Ky)(i)?i.value:i.getRawValue()}function zy(i,t){const e=Hg(i),o=i.controls;if(!(e?Object.keys(o):o).length)throw new a.vHH(1e3,"");if(!o[t])throw new a.vHH(1001,"")}function qy(i,t){Hg(i),i._forEachChild((o,u)=>{if(void 0===t[u])throw new a.vHH(1002,"")})}class jg{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=OC(this._rawValidators),this._composedAsyncValidatorFn=FC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===ro}get invalid(){return this.status===vh}get pending(){return this.status==Ms}get disabled(){return this.status===Ch}get enabled(){return this.status!==Ch}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=OC(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=FC(t)}addValidators(t){this.setValidators(Oy(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Oy(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Fy(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Fy(t,this._rawAsyncValidators))}hasValidator(t){return yd(this._rawValidators,t)}hasAsyncValidator(t){return yd(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Ms,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ch,this.errors=null,this._forEachChild(o=>{o.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ro,this._forEachChild(o=>{o.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ro||this.status===Ms)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ch:ro}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Ms,this._hasOwnPendingAsyncValidator=!0;const e=Ty(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function $y(i,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let o=i;return t.forEach(u=>{o=Hg(o)?o.controls.hasOwnProperty(u)?o.controls[u]:null:(i=>i instanceof VC)(o)&&o.at(u)||null}),o}(this,t,".")}getError(t,e){const o=e?this.get(e):this;return o&&o.errors?o.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?Ch:this.errors?vh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ms)?Ms:this._anyControlsHaveStatus(vh)?vh:ro}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){bd(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ky extends jg{constructor(t=null,e,o){super(Ug(e),Eh(o,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),bd(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Vg(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Vg(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Zg extends jg{constructor(t,e,o){super(Ug(e),Eh(o,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,o={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,o={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){qy(this,t),Object.keys(t).forEach(o=>{zy(this,o),this.controls[o].setValue(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(o=>{this.controls[o]&&this.controls[o].patchValue(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((o,u)=>{o.reset(t[u],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,o)=>(t[o]=Wy(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,o)=>!!o._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const o=this.controls[e];o&&t(o,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const o=this.controls[e];if(this.contains(e)&&t(o))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,o)=>((e.enabled||this.disabled)&&(t[o]=e.value),t))}_reduceChildren(t,e){let o=t;return this._forEachChild((u,p)=>{o=e(o,u,p)}),o}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class VC extends jg{constructor(t,e,o){super(Ug(e),Eh(o,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,o={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,o={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){qy(this,t),t.forEach((o,u)=>{zy(this,u),this.at(u).setValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((o,u)=>{this.at(u)&&this.at(u).patchValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((o,u)=>{o.reset(t[u],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>Wy(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,o)=>!!o._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,o)=>{t(e,o)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const BC={provide:Rr,useExisting:(0,a.Gpc)(()=>Td)},qo=(()=>Promise.resolve(null))();let Td=(()=>{class i extends Rr{constructor(e,o){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new a.vpe,this.form=new Zg({},Ag(e),Mg(o))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){qo.then(()=>{const o=this._findContainer(e.path);e.control=o.registerControl(e.name,e.control),Zu(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){qo.then(()=>{const o=this._findContainer(e.path);o&&o.removeControl(e.name),Vg(this._directives,e)})}addFormGroup(e){qo.then(()=>{const o=this._findContainer(e.path),u=new Zg({});(function Zy(i,t){Pg(i,t)})(u,e),o.registerControl(e.name,u),u.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){qo.then(()=>{const o=this._findContainer(e.path);o&&o.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,o){qo.then(()=>{this.form.get(e.path).setValue(o)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function yh(i,t){i._syncPendingControls(),t.forEach(e=>{const o=e.control;"submit"===o.updateOn&&o._pendingChange&&(e.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(Tn,10),a.Y36(Ha,10))},i.\u0275dir=a.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,o){1&e&&a.NdJ("submit",function(p){return o.onSubmit(p)})("reset",function(){return o.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([BC]),a.qOj]}),i})();const GC={provide:ja,useExisting:(0,a.Gpc)(()=>Ad)},Qy=(()=>Promise.resolve(null))();let Ad=(()=>{class i extends ja{constructor(e,o,u,p,_){super(),this._changeDetectorRef=_,this.control=new Ky,this._registered=!1,this.update=new a.vpe,this._parent=e,this._setValidators(o),this._setAsyncValidators(u),this.valueAccessor=function Lg(i,t){if(!t)return null;let e,o,u;return Array.isArray(t),t.forEach(p=>{p.constructor===Al?e=p:function PC(i){return Object.getPrototypeOf(i.constructor)===Ba}(p)?o=p:u=p}),u||o||e||null}(0,p)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function Fg(i,t){if(!i.hasOwnProperty("model"))return!1;const e=i.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function Rg(i,t){return[...t.path,i]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Zu(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Qy.then(()=>{var o;this.control.setValue(e,{emitViewToModelChange:!1}),null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()})}_updateDisabled(e){const o=e.isDisabled.currentValue,u=""===o||o&&"false"!==o;Qy.then(()=>{var p;u&&!this.control.disabled?this.control.disable():!u&&this.control.disabled&&this.control.enable(),null===(p=this._changeDetectorRef)||void 0===p||p.markForCheck()})}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(Rr,9),a.Y36(Tn,10),a.Y36(Ha,10),a.Y36(Jr,10),a.Y36(a.sBO,8))},i.\u0275dir=a.lG2({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([GC]),a.qOj,a.TTD]}),i})(),Jy=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=a.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),i})();const Md={provide:Jr,useExisting:(0,a.Gpc)(()=>$g),multi:!0};let $g=(()=>{class i extends Ba{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=o=>{e(""==o?null:parseFloat(o))}}}return i.\u0275fac=function(){let t;return function(o){return(t||(t=a.n5z(i)))(o||i)}}(),i.\u0275dir=a.lG2({type:i,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,o){1&e&&a.NdJ("input",function(p){return o.onChange(p.target.value)})("blur",function(){return o.onTouched()})},features:[a._Bn([Md]),a.qOj]}),i})(),Xy=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({}),i})();const Yg={provide:Jr,useExisting:(0,a.Gpc)(()=>$u),multi:!0};function Th(i,t){return null==i?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${i}: ${t}`.slice(0,50))}let $u=(()=>{class i extends Ba{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const u=Th(this._getOptionId(e),e);this.setProperty("value",u)}registerOnChange(e){this.onChange=o=>{this.value=this._getOptionValue(o),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o),e))return o;return null}_getOptionValue(e){const o=function iv(i){return i.split(":")[0]}(e);return this._optionMap.has(o)?this._optionMap.get(o):e}}return i.\u0275fac=function(){let t;return function(o){return(t||(t=a.n5z(i)))(o||i)}}(),i.\u0275dir=a.lG2({type:i,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,o){1&e&&a.NdJ("change",function(p){return o.onChange(p.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[a._Bn([Yg]),a.qOj]}),i})(),Ah=(()=>{class i{constructor(e,o,u){this._element=e,this._renderer=o,this._select=u,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(Th(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36($u,9))},i.\u0275dir=a.lG2({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),i})();const KC={provide:Jr,useExisting:(0,a.Gpc)(()=>Mh),multi:!0};function sv(i,t){return null==i?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${i}: ${t}`.slice(0,50))}let Mh=(()=>{class i extends Ba{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let o;if(this.value=e,Array.isArray(e)){const u=e.map(p=>this._getOptionId(p));o=(p,_)=>{p._setSelected(u.indexOf(_.toString())>-1)}}else o=(u,p)=>{u._setSelected(!1)};this._optionMap.forEach(o)}registerOnChange(e){this.onChange=o=>{const u=[],p=o.selectedOptions;if(void 0!==p){const _=p;for(let I=0;I<_.length;I++){const x=this._getOptionValue(_[I].value);u.push(x)}}else{const _=o.options;for(let I=0;I<_.length;I++){const T=_[I];if(T.selected){const x=this._getOptionValue(T.value);u.push(x)}}}this.value=u,e(u)}}_registerOption(e){const o=(this._idCounter++).toString();return this._optionMap.set(o,e),o}_getOptionId(e){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o)._value,e))return o;return null}_getOptionValue(e){const o=function YC(i){return i.split(":")[0]}(e);return this._optionMap.has(o)?this._optionMap.get(o)._value:e}}return i.\u0275fac=function(){let t;return function(o){return(t||(t=a.n5z(i)))(o||i)}}(),i.\u0275dir=a.lG2({type:i,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,o){1&e&&a.NdJ("change",function(p){return o.onChange(p.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[a._Bn([KC]),a.qOj]}),i})(),Sh=(()=>{class i{constructor(e,o,u){this._element=e,this._renderer=o,this._select=u,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(sv(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(sv(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(Mh,9))},i.\u0275dir=a.lG2({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),i})(),Ml=(()=>{class i{constructor(){this._validator=_d}ngOnChanges(e){if(this.inputName in e){const o=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(o),this._validator=this._enabled?this.createValidator(o):_d,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=a.lG2({type:i,features:[a.TTD]}),i})();const cv={provide:Tn,useExisting:(0,a.Gpc)(()=>Jn),multi:!0};let Jn=(()=>{class i extends Ml{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=e=>function ov(i){return null!=i&&!1!==i&&"false"!=`${i}`}(e),this.createValidator=e=>Dg}enabled(e){return e}}return i.\u0275fac=function(){let t;return function(o){return(t||(t=a.n5z(i)))(o||i)}}(),i.\u0275dir=a.lG2({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,o){2&e&&a.uIk("required",o._enabled?"":null)},inputs:{required:"required"},features:[a._Bn([cv]),a.qOj]}),i})(),pv=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[[Xy]]}),i})(),gv=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[pv]}),i})();const nE=["modal02"];function _v(i,t){1&i&&(a.TgZ(0,"p"),a._uU(1," Bu hafta i\xe7in herhangi bir men\xfc tan\u0131m\u0131 yap\u0131lmad\u0131. "),a.qZA())}function kh(i,t){if(1&i){const e=a.EpF();a.TgZ(0,"div",12),a.TgZ(1,"button",13),a.NdJ("click",function(){return a.CHM(e),a.oxw().duzenle()}),a._uU(2,"D\xfczenle"),a.qZA(),a.TgZ(3,"button",13),a.NdJ("click",function(){return a.CHM(e),a.oxw().kaydet()}),a._uU(4,"Kaydet"),a.qZA(),a.qZA()}}function yv(i,t){if(1&i&&(a.TgZ(0,"div",29),a._uU(1),a.qZA()),2&i){const e=a.oxw().index,o=a.oxw(2).$implicit;a.xp6(1),a.Oqu(o.YemekMenuItems[e].Fiyat)}}function rE(i,t){if(1&i&&(a.TgZ(0,"li"),a.TgZ(1,"div",26),a.TgZ(2,"div",27),a._uU(3),a.qZA(),a.YNc(4,yv,2,1,"div",28),a.qZA(),a.qZA()),2&i){const e=t.index,o=a.oxw(2).$implicit;a.xp6(2),a.ekj("w3-center",!o.FiyatlarGorunsunMu),a.xp6(1),a.Oqu(o.YemekMenuItems[e].YemekAdi),a.xp6(1),a.Q6J("ngIf",o.FiyatlarGorunsunMu)}}function tm(i,t){if(1&i&&(a.TgZ(0,"div",30),a._uU(1," Toplam : "),a.TgZ(2,"strong",31),a._uU(3),a.qZA(),a.qZA()),2&i){const e=a.oxw(2).$implicit;a.xp6(3),a.Oqu(e.ToplamFiyat)}}function nm(i,t){if(1&i&&(a.TgZ(0,"li"),a.TgZ(1,"div",26),a.TgZ(2,"div",33),a._uU(3),a.qZA(),a.qZA(),a.qZA()),2&i){const e=t.index,o=a.oxw(3).$implicit;a.xp6(3),a.hij(" ",o.SalataMenuItems[e].YemekAdi,"")}}function Sw(i,t){if(1&i&&(a.TgZ(0,"ul",32),a.TgZ(1,"div",23),a._uU(2," ZEYT\u0130NYA\u011eLILAR"),a.qZA(),a.YNc(3,nm,4,1,"li",15),a.TgZ(4,"div",30),a._uU(5," 4.\xc7e\u015fit : "),a.TgZ(6,"strong",31),a._uU(7),a.qZA(),a.qZA(),a.qZA()),2&i){const e=a.oxw(2).$implicit;a.xp6(3),a.Q6J("ngForOf",e.SalataMenuItems),a.xp6(4),a.Oqu(e.ToplamFiyatSalata)}}function iE(i,t){if(1&i){const e=a.EpF();a.TgZ(0,"fieldset",17),a.TgZ(1,"div"),a.TgZ(2,"h4",18),a._uU(3),a.qZA(),a.TgZ(4,"h5"),a._uU(5),a.qZA(),a.TgZ(6,"h4"),a._uU(7),a.qZA(),a.TgZ(8,"div",19),a.TgZ(9,"img",20),a.NdJ("click",function(){a.CHM(e);const u=a.oxw().$implicit;return a.oxw(2).resmiBuyut(u)}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(10,"div",21),a.TgZ(11,"ul",22),a.TgZ(12,"div",23),a._uU(13," MEN\xdc"),a.qZA(),a.YNc(14,rE,5,4,"li",15),a.YNc(15,tm,4,1,"div",24),a.qZA(),a.YNc(16,Sw,8,2,"ul",25),a.qZA(),a.qZA()}if(2&i){const e=a.oxw().$implicit,o=a.oxw(2);a.Q6J("ngClass",o.sutunSitilSinifGetir()),a.xp6(3),a.Oqu(e.GunAd),a.xp6(2),a.Oqu(e.Tarih),a.xp6(2),a.Oqu(e.GunBaslik),a.xp6(2),a.s9C("src",e.image,a.LSH),a.xp6(5),a.Q6J("ngForOf",e.YemekMenuItems),a.xp6(1),a.Q6J("ngIf",e.ToplamFiyatGorunsunMu),a.xp6(1),a.Q6J("ngIf",e.SalataMenuItems)}}function sE(i,t){if(1&i&&(a.ynx(0),a.YNc(1,iE,17,8,"fieldset",16),a.BQk()),2&i){const e=t.$implicit;a.xp6(1),a.Q6J("ngIf",0!=e.ToplamFiyat)}}function vv(i,t){if(1&i&&(a.TgZ(0,"section",14),a._UZ(1,"div"),a.YNc(2,sE,2,1,"ng-container",15),a.qZA()),2&i){const e=a.oxw();a.xp6(2),a.Q6J("ngForOf",e.YemekMenuGunListe)}}function Cv(i,t){if(1&i&&(a.TgZ(0,"option",42),a._uU(1),a.qZA()),2&i){const e=t.$implicit;a.Q6J("ngValue",e.id),a.xp6(1),a.Oqu(e.value)}}function oE(i,t){if(1&i&&(a.TgZ(0,"option",42),a._uU(1),a.qZA()),2&i){const e=t.$implicit;a.Q6J("ngValue",e.id),a.xp6(1),a.Oqu(e.value)}}function Ev(i,t){if(1&i){const e=a.EpF();a.TgZ(0,"input",57),a.NdJ("ngModelChange",function(u){a.CHM(e);const p=a.oxw().index;return a.oxw().$implicit.YemekMenuItems[p].Fiyat=u}),a.qZA()}if(2&i){const e=a.oxw().index,o=a.oxw().$implicit;a.Q6J("ngModel",o.YemekMenuItems[e].Fiyat)}}function wv(i,t){if(1&i){const e=a.EpF();a.TgZ(0,"span",58),a.NdJ("click",function(){a.CHM(e);const u=a.oxw().$implicit,p=a.oxw().$implicit;return a.oxw(2).satirSil(p,u)}),a._UZ(1,"i",59),a.qZA()}}function aE(i,t){if(1&i){const e=a.EpF();a.TgZ(0,"li",52),a.NdJ("mouseleave",function(){return a.CHM(e).$implicit.hovering=null})("mouseenter",function(){const u=a.CHM(e);return u.$implicit.hovering=u.index}),a.TgZ(1,"div",53),a.TgZ(2,"input",54),a.NdJ("ngModelChange",function(u){const _=a.CHM(e).index;return a.oxw().$implicit.YemekMenuItems[_].YemekAdi=u}),a.qZA(),a.YNc(3,Ev,1,1,"input",55),a.YNc(4,wv,2,0,"span",56),a.qZA(),a.qZA()}if(2&i){const e=t.$implicit,o=t.index,u=a.oxw().$implicit;a.xp6(2),a.Q6J("ngModel",u.YemekMenuItems[o].YemekAdi),a.xp6(1),a.Q6J("ngIf",u.FiyatlarGorunsunMu),a.xp6(1),a.Q6J("ngIf",e.hovering==o)}}function lE(i,t){if(1&i){const e=a.EpF();a.TgZ(0,"div"),a._uU(1," Toplam : "),a.TgZ(2,"input",51),a.NdJ("ngModelChange",function(u){return a.CHM(e),a.oxw().$implicit.ToplamFiyat=u}),a.qZA(),a.qZA()}if(2&i){const e=a.oxw().$implicit;a.xp6(2),a.Q6J("ngModel",e.ToplamFiyat)}}function Iv(i,t){if(1&i){const e=a.EpF();a.TgZ(0,"span",58),a.NdJ("click",function(){a.CHM(e);const u=a.oxw().$implicit,p=a.oxw().$implicit;return a.oxw(2).satirSilSalata(p,u)}),a._UZ(1,"i",59),a.qZA()}}function uE(i,t){if(1&i){const e=a.EpF();a.TgZ(0,"li",52),a.NdJ("mouseleave",function(){return a.CHM(e).$implicit.hovering=null})("mouseenter",function(){const u=a.CHM(e);return u.$implicit.hovering=u.index}),a.TgZ(1,"div",53),a.TgZ(2,"input",54),a.NdJ("ngModelChange",function(u){const _=a.CHM(e).index;return a.oxw().$implicit.SalataMenuItems[_].YemekAdi=u}),a.qZA(),a.YNc(3,Iv,2,0,"span",56),a.qZA(),a.qZA()}if(2&i){const e=t.$implicit,o=t.index,u=a.oxw().$implicit;a.xp6(2),a.Q6J("ngModel",u.SalataMenuItems[o].YemekAdi),a.xp6(1),a.Q6J("ngIf",e.hovering==o)}}function Dv(i,t){if(1&i){const e=a.EpF();a.ynx(0),a.TgZ(1,"fieldset",43),a.TgZ(2,"div"),a.TgZ(3,"h4",18),a._uU(4),a.qZA(),a.TgZ(5,"h5"),a._uU(6),a.qZA(),a.TgZ(7,"input",44),a.NdJ("ngModelChange",function(u){return a.CHM(e).$implicit.GunBaslik=u}),a.qZA(),a.TgZ(8,"textarea",45),a.NdJ("ngModelChange",function(u){return a.CHM(e).$implicit.Aciklama=u}),a.qZA(),a.TgZ(9,"div",19),a.TgZ(10,"img",20),a.NdJ("click",function(){const p=a.CHM(e).$implicit;return a.oxw(2).resmiBuyut(p)}),a.qZA(),a.qZA(),a.TgZ(11,"div",46),a.TgZ(12,"div"),a.TgZ(13,"input",47),a.NdJ("change",function(u){const _=a.CHM(e).$implicit;return a.oxw(2).changeListener(u,_)}),a.qZA(),a.qZA(),a.TgZ(14,"div"),a.TgZ(15,"label"),a.TgZ(16,"input",48),a.NdJ("ngModelChange",function(u){return a.CHM(e).$implicit.FiyatlarGorunsunMu=u}),a.qZA(),a._uU(17,"Fiyatlar G\xf6r\xfcns\xfcn M\xfc?"),a.qZA(),a.qZA(),a.TgZ(18,"div"),a.TgZ(19,"label"),a.TgZ(20,"input",48),a.NdJ("ngModelChange",function(u){return a.CHM(e).$implicit.ToplamFiyatGorunsunMu=u}),a.qZA(),a._uU(21,"Toplam Fiyat G\xf6r\xfcns\xfcn M\xfc?"),a.qZA(),a.qZA(),a.TgZ(22,"div"),a.TgZ(23,"span",49),a.NdJ("click",function(){const p=a.CHM(e).$implicit;return a.oxw(2).yeniSatirEkle(p)}),a._uU(24," + Sat\u0131r Ekle "),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(25,"ul",22),a.YNc(26,aE,5,3,"li",50),a.qZA(),a.YNc(27,lE,3,1,"div",8),a.TgZ(28,"ul",22),a.TgZ(29,"div"),a.TgZ(30,"div"),a._uU(31,"Zeytinya\u011fl\u0131lar"),a.qZA(),a.TgZ(32,"span",49),a.NdJ("click",function(){const p=a.CHM(e).$implicit;return a.oxw(2).yeniSatirEkleSalata(p)}),a._uU(33," + Sat\u0131r Ekle "),a.qZA(),a.qZA(),a.YNc(34,uE,4,2,"li",50),a.TgZ(35,"div"),a._uU(36," 4 \xc7e\u015fit Toplam : "),a.TgZ(37,"input",51),a.NdJ("ngModelChange",function(u){return a.CHM(e).$implicit.ToplamFiyatSalata=u}),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.BQk()}if(2&i){const e=t.$implicit;a.xp6(4),a.Oqu(e.GunAd),a.xp6(2),a.Oqu(e.Tarih),a.xp6(1),a.Q6J("ngModel",e.GunBaslik),a.xp6(1),a.Q6J("ngModel",e.Aciklama),a.xp6(2),a.s9C("src",e.image,a.LSH),a.xp6(6),a.Q6J("ngModel",e.FiyatlarGorunsunMu),a.xp6(4),a.Q6J("ngModel",e.ToplamFiyatGorunsunMu),a.xp6(6),a.Q6J("ngForOf",e.YemekMenuItems),a.xp6(1),a.Q6J("ngIf",e.ToplamFiyatGorunsunMu),a.xp6(7),a.Q6J("ngForOf",e.SalataMenuItems),a.xp6(3),a.Q6J("ngModel",e.ToplamFiyatSalata)}}function bv(i,t){if(1&i){const e=a.EpF();a.TgZ(0,"section",34),a.TgZ(1,"div",35),a.TgZ(2,"div",36),a.TgZ(3,"input",37),a.NdJ("ngModelChange",function(u){return a.CHM(e),a.oxw().yil=u})("change",function(){return a.CHM(e),a.oxw().tarihDegisti()}),a.qZA(),a.TgZ(4,"select",38),a.NdJ("ngModelChange",function(u){return a.CHM(e),a.oxw().ay_onikili=u})("change",function(){return a.CHM(e),a.oxw().tarihDegisti()}),a.YNc(5,Cv,2,2,"option",39),a.qZA(),a.TgZ(6,"select",38),a.NdJ("ngModelChange",function(u){return a.CHM(e),a.oxw().pazartesiKey=u})("change",function(){return a.CHM(e),a.oxw().gunDegisti()}),a.TgZ(7,"option",40),a._uU(8,"Se\xe7iniz (Gun)"),a.qZA(),a.YNc(9,oE,2,2,"option",39),a.qZA(),a.qZA(),a.qZA(),a.TgZ(10,"div",41),a.YNc(11,Dv,38,11,"ng-container",15),a.qZA(),a.qZA()}if(2&i){const e=a.oxw();a.xp6(3),a.Q6J("ngModel",e.yil),a.xp6(1),a.Q6J("ngModel",e.ay_onikili),a.xp6(1),a.Q6J("ngForOf",e.aylar),a.xp6(1),a.Q6J("ngModel",e.pazartesiKey),a.xp6(3),a.Q6J("ngForOf",e.ay_pazartesiler),a.xp6(2),a.Q6J("ngForOf",e.YemekMenuGunListe)}}let Tv=(()=>{class i{constructor(e,o){this.haftalikMenuService=e,this.globalService=o,this.aktifResimYol="",this.aktifResimAciklama="",this.MAX_YEMEKGUN_SAYISI=7,this.gunler=["Pazartesi","Sal\u0131","\xc7ar\u015famba","Per\u015fembe","Cuma","Cumartesi","Pazar"],this.aylar=[{id:0,value:"Ay Se\xe7iniz"},{id:1,value:"Ocak"},{id:2,value:"\u015eubat"},{id:3,value:"Mart"},{id:4,value:"Nisan"},{id:5,value:"May\u0131s"},{id:6,value:"Haziran"},{id:7,value:"Temmuz"},{id:8,value:"A\u011fustos"},{id:9,value:"Eyl\xfcl"},{id:10,value:"Ekim"},{id:11,value:"Kas\u0131m"},{id:12,value:"Aral\u0131k"}],this.YemekMenuGunListe=[],this.ay_pazartesiler=[],this._isEditMode=!1}ngOnInit(){this.varsayilanTarihAyarla(new Date),this.haftalikMenuleriYukle()}varsayilanTarihAyarla(e){if(this.yil=e.getFullYear(),this.ay_onikili=e.getMonth()+1,this.ay_pazartesiler=this.getAyPazartesiler(this.yil,this.ay_onikili),e.getDate()<Number(this.ay_pazartesiler[0].value)){let u=this.ay_onikili-1;0==u&&(u=12),this.ay_onikili=u,this.ay_onikili<u&&(this.yil=this.yil-1);var o=this.getAyPazartesiler(this.yil,u);this.pazartesiKey=Number(o[o.length-1].value)}else this.pazartesiKey=this.getirPazartesiKeyGunden(e)}tarihDegisti(){this.ay_pazartesiler=this.getAyPazartesiler(this.yil,this.ay_onikili),this.pazartesiKey=-1,this.haftalikMenuleriYukle()}gunDegisti(){this.haftalikMenuleriYukle()}haftalikMenuleriYukle(){console.error("Haftal\u0131k men\xfc y\xfckleniyor"),this.YemekMenuGunListe=[],-1!=this.pazartesiKey&&this.haftalikMenuService.haftaVerileriniGetir(this.MenuAd,this.yil,this.ay_onikili,this.pazartesiKey).valueChanges().subscribe(o=>{0!=o.length?(console.log(o),this.YemekMenuGunListe=o,this.aktifHaftaVerisiVarmi=this.YemekMenuGunListe.filter(u=>0!=u.ToplamFiyat).length>0):this.setBosYemekMenuItems()},o=>{console.error("Veri y\xfckleme s\u0131ras\u0131nda bir hata olu\u015ftu: ",o)})}getirPazartesiKeyGunden(e){var o=e.getDay(),u=e.getDate()-o+(0==o?-6:1);return new Date(e.setDate(u)).getDate()}setBosYemekMenuItems(){this.YemekMenuGunListe=[];for(let e=0;e<5;e++){let o=new Date;o.setFullYear(this.yil,this.ay_onikili-1,this.pazartesiKey+e);let u=new gy(o.toLocaleDateString("tr-TR"),this.gunler[o.getDay()-1],!1,!0,0,[],"","","",[],20);for(let p=0;p<5;p++)u.YemekMenuItems.push(new uh("0",""));this.YemekMenuGunListe.push(u)}}getAyPazartesiler(e,o){let u=o-1,p=[],_=new Date(e,u+1,0).getDate();if(-1==u)return p;for(let T=1;T<=_;T++)1==new Date(e,u,T).getDay()&&p.push(new my(T,T.toString()));return p}yeniSatirEkle(e){let o=new uh("0","");e.YemekMenuItems.push(o)}yeniSatirEkleSalata(e){let o=new uh("0","");null==e.SalataMenuItems&&(e.SalataMenuItems=[]),e.SalataMenuItems.push(o)}satirSil(e,o){1==confirm("Kay\u0131t siliniyor")&&this.removeFromArray(e,o)}satirSilSalata(e,o){1==confirm("Kay\u0131t siliniyor")&&this.removeFromArraySalata(e,o)}removeFromArray(e,o){var u=e.YemekMenuItems.indexOf(o);return-1!==u&&e.YemekMenuItems.splice(u,1),e.YemekMenuItems}removeFromArraySalata(e,o){var u=e.SalataMenuItems.indexOf(o);return-1!==u&&e.SalataMenuItems.splice(u,1),e.SalataMenuItems}changeListener(e,o){this.readThis(e.target,o)}readThis(e,o){}duzenle(){this._isEditMode=!this._isEditMode}kaydet(){this.haftalikMenuService.haftaVeriKaydet(this.MenuAd,this.yil,this.ay_onikili,this.pazartesiKey,this.YemekMenuGunListe),this._isEditMode=!1}resmiBuyut(e){this.aktifResimYol=e.image,this.aktifResimAciklama=e.Aciklama,this.modalForm.nativeElement.style.display="block"}closeModal(){this.modalForm.nativeElement.style.display="none"}sutunSitilSinifGetir(){var e=[],o=this.YemekMenuGunListe.filter(u=>0!=u.ToplamFiyat).length;return(1==o||2==o)&&e.push("l6"),3==o&&e.push("l4"),4==o&&e.push("l6"),5==o&&e.push("l4"),e}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(py),a.Y36(Uu))},i.\u0275cmp=a.Xpm({type:i,selectors:[["haftalik-menu"]],viewQuery:function(e,o){if(1&e&&a.Gf(nE,5),2&e){let u;a.iGM(u=a.CRH())&&(o.modalForm=u.first)}},inputs:{MenuAd:"MenuAd",AnaBaslik:"AnaBaslik"},features:[a._Bn([py])],decls:16,vars:7,consts:[["id","haftalikmenu",1,"w3-content","w3-container","w3-padding-32","w3-center"],["id","modal02",1,"w3-modal","w3-black",2,"z-index","99999999",3,"click"],["modal02",""],["title","Resmi Kapat",1,"w3-closebtn","w3-text-white","w3-opacity","w3-hover-opacity-off","w3-xxlarge","w3-container","w3-display-topright",3,"click"],[1,"w3-modal-content","w3-animate-zoom","w3-center","w3-transparent","w3-padding-64",2,"height","100%"],[1,"w3-image",2,"max-height","100%","cursor","pointer",3,"src"],[1,"w3-container","w3-padding-32","w3-center","w3-wide"],[1,"w3-border-bottom","w3-border-light-grey","w3-padding-12",2,"font-weight","bold"],[4,"ngIf"],["style","text-align: center",4,"ngIf"],["id","DisplayHaftalikMenu","style","display: flex; flex-wrap: wrap;justify-content:space-around;align-items:stretch",4,"ngIf"],["name","EditHaftalikMenu",4,"ngIf"],[2,"text-align","center"],[1,"w3-btn","w3-teal",3,"click"],["id","DisplayHaftalikMenu",2,"display","flex","flex-wrap","wrap","justify-content","space-around","align-items","stretch"],[4,"ngFor","ngForOf"],["class","w3-display-container w3-col s12  w3-card-2 w3-round  w3-center",3,"ngClass",4,"ngIf"],[1,"w3-display-container","w3-col","s12","w3-card-2","w3-round","w3-center",3,"ngClass"],[1,"w3-black",2,"margin","0 -10px"],[2,"max-height","120px","width","100%"],["alt","",2,"max-width","100%","max-height","120px","cursor","pointer",3,"src","click"],[2,"display","flex","flex-grow","wrap","justify-content","space-around","align-items","stretch"],[1,"gunSutun"],[2,"display","inline-block","width","100%","text-align","center","font-weight","bold"],["class","fiyat","style","padding-bottom:10px;padding-top:20px;",4,"ngIf"],["class","gunSutun","style","margin-left: 15px",4,"ngIf"],[1,"yemekMenuItem",2,"display","flex"],[2,"display","inline-block","width","100%","text-align","left"],["class","yemekfiyat","style","display: inline-block;width: 60px",4,"ngIf"],[1,"yemekfiyat",2,"display","inline-block","width","60px"],[1,"fiyat",2,"padding-bottom","10px","padding-top","20px"],[2,"font-size","1.1rem"],[1,"gunSutun",2,"margin-left","15px"],[2,"display","inline-block","width","100%","text-align","center"],["name","EditHaftalikMenu"],["id","sorguPanel"],[2,"display","flex","justify-content","space-around"],["type","number",1,"w3-input","w3-border",3,"ngModel","ngModelChange","change"],[1,"w3-input","w3-border",3,"ngModel","ngModelChange","change"],[3,"ngValue",4,"ngFor","ngForOf"],["value","-1"],[2,"display","flex","flex-wrap","wrap","justify-content","space-around","align-items","stretch"],[3,"ngValue"],[1,"w3-display-container","w3-col","l2","m5","s12","w3-card-2","w3-round","w3-center"],["type","text","placeholder","Men\xfc Ba\u015fl\u0131\u011f\u0131",2,"width","100%",3,"ngModel","ngModelChange"],["rows","3","placeholder","Yemek Resim A\xe7\u0131klama",2,"width","100%","font-size","10px",3,"ngModel","ngModelChange"],[1,"secenekler"],["placeholder","Resim Se\xe7iniz","type","file","accept","image/*",2,"max-width","100%","margin-top","5px","width","100%","overflow","hidden",3,"change"],["type","checkbox","name","checkbox","value","value",3,"ngModel","ngModelChange"],[1,"w3-btn","w3-teal",2,"font-size","12px",3,"click"],[3,"mouseleave","mouseenter",4,"ngFor","ngForOf"],["type","text",3,"ngModel","ngModelChange"],[3,"mouseleave","mouseenter"],[2,"display","flex","position","relative"],["type","text",2,"display","inline-block","width","100%",3,"ngModel","ngModelChange"],["style","display: inline-block;width: 60px","type","text",3,"ngModel","ngModelChange",4,"ngIf"],["title","Sil","class","delSpan",3,"click",4,"ngIf"],["type","text",2,"display","inline-block","width","60px",3,"ngModel","ngModelChange"],["title","Sil",1,"delSpan",3,"click"],[1,"fa","fa-times"]],template:function(e,o){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1,2),a.NdJ("click",function(){return o.closeModal()}),a.TgZ(3,"span",3),a.NdJ("click",function(){return o.closeModal()}),a._uU(4,"\xd7"),a.qZA(),a.TgZ(5,"div",4),a._UZ(6,"img",5),a.TgZ(7,"p"),a._uU(8),a.qZA(),a.qZA(),a.qZA(),a.TgZ(9,"header",6),a.TgZ(10,"h3",7),a._uU(11),a.qZA(),a.qZA(),a.YNc(12,_v,2,0,"p",8),a.YNc(13,kh,5,0,"div",9),a.YNc(14,vv,3,1,"section",10),a.YNc(15,bv,12,6,"section",11),a.qZA()),2&e&&(a.xp6(6),a.Q6J("src",o.aktifResimYol,a.LSH),a.xp6(2),a.Oqu(o.aktifResimAciklama),a.xp6(3),a.hij(" ",o.AnaBaslik,""),a.xp6(1),a.Q6J("ngIf",!o.aktifHaftaVerisiVarmi),a.xp6(1),a.Q6J("ngIf",o.globalService._userInfo),a.xp6(1),a.Q6J("ngIf",!o._isEditMode),a.xp6(1),a.Q6J("ngIf",o._isEditMode))},directives:[an,jt,rs,$g,Al,vd,Ad,$u,Ah,Sh,wg],styles:['@font-face{font-family:tlfont;src:url(font_tl.11081519fd86ae5f.woff)}article[_ngcontent-%COMP%]{min-width:19%!important}fieldset[_ngcontent-%COMP%]{padding-bottom:35px;padding-left:15px;padding-right:15px;margin:0}fieldset[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-bottom:solid thin lightgray;list-style-type:none;padding:0;margin:0}.yemekfiyat[_ngcontent-%COMP%]:after, .fiyat[_ngcontent-%COMP%]:after{content:"t";font-family:tlfont!important;font-weight:700}.secenekler[_ngcontent-%COMP%]{font-size:11px;text-align:left}.delSpan[_ngcontent-%COMP%]{cursor:pointer;width:30px;text-align:center;position:absolute;right:-30px;color:red}.hover-delete[_ngcontent-%COMP%]{color:red;transform:scale(1.3)}.hover-edit[_ngcontent-%COMP%]{color:green;transform:scale(1.3)}']}),i})(),rm=(()=>{class i{constructor(e){this.afDb=e}alakartVerileriniGetir(){return this.afDb.list("/AlakartMenu")}alakartVeriKaydet(e){return delete e.$key,delete e.$exists,this.afDb.object("/AlakartMenu").set(e)}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(Va))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})();class zu{constructor(t,e,o,u){this.Tarih=t,this.MenuAd=e,this.ToplamFiyat=o,this.AlakartMenuItems=u}}class xl{constructor(t,e,o,u){this.Fiyat=t,this.YemekAdi=e,this.Aciklama1=o,this.Aciklama2=u}}function xw(i,t){if(1&i){const e=a.EpF();a.TgZ(0,"button",3),a.NdJ("click",function(){a.CHM(e);const u=a.oxw();return u.satirEkle(u._alakartMenu)}),a._uU(1,"+Satir Ekle"),a.qZA()}}function Av(i,t){1&i&&a._UZ(0,"div",8)}function kw(i,t){if(1&i){const e=a.EpF();a.TgZ(0,"span",14),a.NdJ("click",function(){a.CHM(e);const u=a.oxw(2).$implicit,p=a.oxw();return p.satirSil(p._alakartMenu.AlakartMenuItems,u)}),a._UZ(1,"i",15),a.qZA()}}function Nw(i,t){if(1&i){const e=a.EpF();a.TgZ(0,"div",9),a.TgZ(1,"input",10),a.NdJ("ngModelChange",function(u){return a.CHM(e),a.oxw().$implicit.YemekAdi=u}),a.qZA(),a.TgZ(2,"input",11),a.NdJ("ngModelChange",function(u){return a.CHM(e),a.oxw().$implicit.Fiyat=u}),a.qZA(),a.TgZ(3,"textarea",12),a.NdJ("ngModelChange",function(u){return a.CHM(e),a.oxw().$implicit.Aciklama1=u}),a.qZA(),a.YNc(4,kw,2,0,"span",13),a.qZA()}if(2&i){const e=a.oxw(),o=e.$implicit,u=e.index;a.xp6(1),a.Q6J("ngModel",o.YemekAdi),a.xp6(1),a.Q6J("ngModel",o.Fiyat),a.xp6(1),a.Q6J("ngModel",o.Aciklama1),a.xp6(1),a.Q6J("ngIf",o.hovering==u)}}function Rw(i,t){if(1&i&&(a.TgZ(0,"section",20),a._uU(1),a.qZA()),2&i){const e=a.oxw(2).$implicit;a.xp6(1),a.hij("",e.Aciklama1," ")}}function Pw(i,t){if(1&i&&(a.TgZ(0,"div"),a.TgZ(1,"section",16),a.TgZ(2,"strong",17),a._uU(3),a.qZA(),a.TgZ(4,"strong",18),a._uU(5),a.qZA(),a.qZA(),a.YNc(6,Rw,2,1,"section",19),a.qZA()),2&i){const e=a.oxw().$implicit;a.xp6(3),a.Oqu(e.YemekAdi),a.xp6(2),a.Oqu(e.Fiyat),a.xp6(1),a.Q6J("ngIf",e.Aciklama1)}}function Ow(i,t){if(1&i){const e=a.EpF();a.TgZ(0,"li",4),a.NdJ("mouseleave",function(){return a.CHM(e).$implicit.hovering=null})("mouseenter",function(){const u=a.CHM(e);return u.$implicit.hovering=u.index}),a.YNc(1,Av,1,0,"div",5),a.YNc(2,Nw,5,4,"ng-template",null,6,a.W1O),a.YNc(4,Pw,7,3,"ng-template",null,7,a.W1O),a.qZA()}if(2&i){const e=a.MAs(3),o=a.MAs(5),u=a.oxw();a.xp6(1),a.Q6J("ngIf",u._isEdit)("ngIfThen",e)("ngIfElse",o)}}const Fw=[[["","resim_bolumu",""]]],Lw=["[resim_bolumu]"];let cE=(()=>{class i{constructor(){this._silEventHandler=new a.vpe}ngOnInit(){}sil(e){this._silEventHandler.emit(this._alakartMenu)}satirEkle(e){let o=new xl("0","","","");e.AlakartMenuItems.push(o)}satirSil(e,o){this.removeFromArray(e,o)}removeFromArray(e,o){var u=e.indexOf(o);-1!==u&&e.splice(u,1)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=a.Xpm({type:i,selectors:[["alakart-menu"]],inputs:{_alakartMenu:"_alakartMenu",_isEdit:"_isEdit"},outputs:{_silEventHandler:"_silEventHandler"},features:[a._Bn([])],ngContentSelectors:Lw,decls:9,vars:3,consts:[[2,"color","red"],["class","w3-button",3,"click",4,"ngIf"],[3,"mouseleave","mouseenter",4,"ngFor","ngForOf"],[1,"w3-button",3,"click"],[3,"mouseleave","mouseenter"],["class","testsinif",4,"ngIf","ngIfThen","ngIfElse"],["editMenu",""],["displayMenu",""],[1,"testsinif"],[2,"display","flex","flex-wrap","wrap","position","relative","padding-bottom","5px"],["placeholder","Ad","type","text",2,"display","inline-block","width","80%","font-weight","bold",3,"ngModel","ngModelChange"],["placeholder","Fiyat","type","text",2,"display","inline-block","width","20%","text-align","right","padding-left","20px",3,"ngModel","ngModelChange"],["placeholder","A\xe7\u0131klama","rows","2",2,"display","inline-block","width","80%",3,"ngModel","ngModelChange"],["title","Sil","class","delSpan",3,"click",4,"ngIf"],["title","Sil",1,"delSpan",3,"click"],[1,"fa","fa-times"],[2,"display","flex"],[2,"display","inline-block","width","100%","text-align","left"],[1,"fiyat",2,"display","inline-block","width","40px","text-align","right","font-size","1.2rem"],["placeholder","A\xe7\u0131klama","class","wordwrap","style","padding-left: 20px;padding-right: 40px;text-align: left;font-style: italic;",4,"ngIf"],["placeholder","A\xe7\u0131klama",1,"wordwrap",2,"padding-left","20px","padding-right","40px","text-align","left","font-style","italic"]],template:function(e,o){1&e&&(a.F$t(Fw),a.TgZ(0,"h3"),a._uU(1),a.qZA(),a._UZ(2,"hr"),a.TgZ(3,"div",0),a.Hsn(4),a.qZA(),a.TgZ(5,"div"),a.YNc(6,xw,2,0,"button",1),a.TgZ(7,"ul"),a.YNc(8,Ow,6,3,"li",2),a.qZA(),a.qZA()),2&e&&(a.xp6(1),a.hij(" ",o._alakartMenu.MenuAd," "),a.xp6(5),a.Q6J("ngIf",o._isEdit),a.xp6(2),a.Q6J("ngForOf",o._alakartMenu.AlakartMenuItems))},directives:[an,jt,Al,vd,Ad],styles:['@font-face{font-family:tlfont;src:url(font_tl.11081519fd86ae5f.woff)}ul[_ngcontent-%COMP%]{padding-right:20px;padding-left:20px}h3[_ngcontent-%COMP%], hr[_ngcontent-%COMP%]{margin:0}li[_ngcontent-%COMP%]{border-bottom:solid thin lightgray;list-style-type:none;padding:0;margin:0}.delSpan[_ngcontent-%COMP%]{cursor:pointer;width:30px;text-align:center;position:absolute;right:-30px;color:red}.hover-delete[_ngcontent-%COMP%]{color:red;transform:scale(1.3)}.hover-edit[_ngcontent-%COMP%]{color:green;transform:scale(1.3)}.wordwrap[_ngcontent-%COMP%]{word-wrap:break-word;padding-bottom:8px}.fiyat[_ngcontent-%COMP%]:after{content:"t";font-family:tlfont!important;font-size:12px}']}),i})();function Nh(i,t){if(1&i){const e=a.EpF();a.TgZ(0,"div",9),a.TgZ(1,"button",10),a.NdJ("click",function(){return a.CHM(e),a.oxw().duzenle()}),a._uU(2,"D\xfczenle"),a.qZA(),a.TgZ(3,"button",10),a.NdJ("click",function(){return a.CHM(e),a.oxw().kaydet()}),a._uU(4,"Kaydet"),a.qZA(),a.qZA()}}function Vw(i,t){if(1&i){const e=a.EpF();a.TgZ(0,"article",11),a.TgZ(1,"fieldset",12),a.TgZ(2,"alakart-menu",13,14),a.NdJ("_silEventHandler",function(){const p=a.CHM(e).$implicit;return a.oxw().menuSilindi(p)}),a.TgZ(4,"div",15),a._UZ(5,"img",16),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&i){const e=t.$implicit,o=t.index,u=a.oxw();a.xp6(2),a.Q6J("_alakartMenu",e)("_isEdit",u._isEditMode),a.xp6(3),a.MGl("src","./assets/images/alakart/",o+1,".png",a.LSH)}}let im=(()=>{class i{constructor(e,o){this.alakartService=e,this.globalService=o,this._isEditMode=!1,this.alakartMenus=[],this.setBosAlakartMenus()}silust(e){1==confirm("Kay\u0131t siliniyor")&&(this.altMenuComponent.AlakartMenuItems=null)}menuSilindi(e){var o=this.alakartMenus.indexOf(e);this.alakartMenus.splice(o,1)}ngOnInit(){this.alakartService.alakartVerileriniGetir().valueChanges().subscribe(e=>{0==e.length?this.setBosAlakartMenus():this.alakartMenus=e})}setBosAlakartMenus(){this.alakartMenus=[];let e=[];e.push(new xl("0","","",""));let o=[];o.push(new xl("0","","",""));let u=[];u.push(new xl("0","","",""));let p=[];p.push(new xl("0","","",""));let _=[];_.push(new xl("0","","",""));let I=[];I.push(new xl("0","","",""));let T=new zu("12.10.2017","Kahvalt\u0131l\u0131klar",200,e),x=new zu("12.10.2017","Sandvi\xe7ler",200,o),Z=new zu("12.10.2017","Salatalar",200,u),U=new zu("12.10.2017","Yemekler",200,p),oe=new zu("12.10.2017","Tatl\u0131lar",200,_),be=new zu("12.10.2017","\u0130\xe7ecekler",200,I);this.alakartMenus.push(T),this.alakartMenus.push(x),this.alakartMenus.push(Z),this.alakartMenus.push(U),this.alakartMenus.push(oe),this.alakartMenus.push(be)}duzenle(){this._isEditMode=!0}kaydet(){this.alakartService.alakartVeriKaydet(this.alakartMenus),this._isEditMode=!1}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(rm),a.Y36(Uu))},i.\u0275cmp=a.Xpm({type:i,selectors:[["alakart"]],viewQuery:function(e,o){if(1&e&&a.Gf(cE,5),2&e){let u;a.iGM(u=a.CRH())&&(o.altMenuComponent=u.first)}},features:[a._Bn([rm])],decls:12,vars:2,consts:[["id","alakart",1,"w3-content","w3-container","w3-padding-32","w3-center"],[1,"w3-container","w3-padding-32","w3-center","w3-wide"],[1,"w3-border-bottom","w3-border-light-grey","w3-padding-12",2,"font-weight","bold"],["style","text-align: center",4,"ngIf"],[2,"display","flex","flex-wrap","wrap","align-items","stretch","margin-top","16px"],["class","w3-col l6 m6 s12",4,"ngFor","ngForOf"],[1,"w3-panel","w3-pale-green","w3-leftbar","w3-border-green","w3-hover-border-green"],[1,"w3-large","firstCapitalize"],[1,"firstCapitalize"],[2,"text-align","center"],[1,"w3-btn","w3-teal",3,"click"],[1,"w3-col","l6","m6","s12"],[1,"w3-card-2","w3-center","w3-hover-shadow","w3-border","w3-round-large"],[3,"_alakartMenu","_isEdit","_silEventHandler"],["alakart",""],["resim_bolumu",""],["alt","",2,"width","100%","height","auto",3,"src"]],template:function(e,o){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"h3",2),a._uU(3,"ALAKART"),a.qZA(),a.YNc(4,Nh,5,0,"div",3),a.qZA(),a.TgZ(5,"section",4),a.YNc(6,Vw,6,3,"article",5),a.qZA(),a.TgZ(7,"div",6),a.TgZ(8,"p",7),a._uU(9,"B\xdcT\xdcN SANDV\u0130\xc7LER 25 cm BAGET EKME\u011e\u0130NE HAZIRLANMAKTADIR. 330 cl ME\u015eRUBAT VEYA L\u0130MONATA SE\xc7ENE\u011e\u0130 MEN\xdcYE DAH\u0130LD\u0130R."),a.qZA(),a.TgZ(10,"div",8),a._uU(11,"S\u0130PAR\u0130\u015eLER\u0130N\u0130Z\u0130 SAAT 10:00 'a KADAR VERMEN\u0130Z\u0130 R\u0130CA EDER\u0130Z."),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.xp6(4),a.Q6J("ngIf",o.globalService._userInfo),a.xp6(2),a.Q6J("ngForOf",o.alakartMenus))},directives:[an,jt,cE],styles:["article[_ngcontent-%COMP%]{padding-bottom:20px!important}fieldset[_ngcontent-%COMP%]{padding:15px;height:100%}"]}),i})(),qu=(()=>{class i{constructor(e){this.afDb=e}haftaVerileriniGetir(e,o,u){return this.afDb.object(`/HaftalikMenu/${e}/${o}/${u}`)}haftaVeriKaydet(e,o,u,p){var _=`/HaftalikMenu/${e}/${o}/${u}`;return console.log(p),this.afDb.object(_).set(p)}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(Va))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})();function Mv(i,t){if(1&i&&(a.TgZ(0,"li"),a._UZ(1,"img",11),a.qZA()),2&i){const e=t.$implicit;a.xp6(1),a.Q6J("src",e.src,a.LSH)}}function dE(i,t){if(1&i&&(a.TgZ(0,"li"),a._UZ(1,"img",11),a.qZA()),2&i){const e=t.$implicit;a.xp6(1),a.Q6J("src",e.src,a.LSH)}}let fE=(()=>{class i{constructor(){this.slideItemsKisiyeOzel=[],this.slideItemsFirmayaOzel=[],this.baslik="",this.baslik="tan\u0131t\u0131m carousel"}ngOnInit(){this.slideItemsKisiyeOzel.push({src:"./assets/images/ekipmanlar/kisiyeozel/1.jpg",sitil:"none",caption:""}),this.slideItemsKisiyeOzel.push({src:"./assets/images/ekipmanlar/kisiyeozel/2.jpg",sitil:"none",caption:""}),this.slideItemsKisiyeOzel.push({src:"./assets/images/ekipmanlar/kisiyeozel/3.jpg",sitil:"none",caption:""}),this.slideItemsKisiyeOzel.push({src:"./assets/images/ekipmanlar/kisiyeozel/4.jpg",sitil:"none",caption:""}),this.slideItemsKisiyeOzel.push({src:"./assets/images/ekipmanlar/kisiyeozel/5.jpg",sitil:"none",caption:""}),this.slideItemsKisiyeOzel.push({src:"./assets/images/ekipmanlar/kisiyeozel/6.jpg",sitil:"none",caption:""}),this.slideItemsKisiyeOzel.push({src:"./assets/images/ekipmanlar/kisiyeozel/7.jpg",sitil:"none",caption:""}),this.slideItemsFirmayaOzel.push({src:"./assets/images/ekipmanlar/firmayaozel/1.jpg",sitil:"none",caption:""}),this.slideItemsFirmayaOzel.push({src:"./assets/images/ekipmanlar/firmayaozel/2.jpg",sitil:"none",caption:""}),this.slideItemsFirmayaOzel.push({src:"./assets/images/ekipmanlar/firmayaozel/3.jpg",sitil:"none",caption:""}),this.slideItemsFirmayaOzel.push({src:"./assets/images/ekipmanlar/firmayaozel/4.jpg",sitil:"none",caption:""}),this.slideItemsFirmayaOzel.push({src:"./assets/images/ekipmanlar/firmayaozel/5.jpg",sitil:"none",caption:""}),this.slideItemsFirmayaOzel.push({src:"./assets/images/ekipmanlar/firmayaozel/6.jpg",sitil:"none",caption:""})}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=a.Xpm({type:i,selectors:[["ekipman"]],features:[a._Bn([qu])],decls:25,vars:2,consts:[["id","ekipmanlar",1,"w3-content","w3-container","w3-padding-32","w3-center"],[1,"w3-center","w3-padding-12"],[1,"w3-border-bottom","w3-border-light-grey","w3-wide",2,"font-weight","bold"],[2,"display","flex","flex-wrap","wrap","justify-content","space-between","align-items","stretch"],[1,"w3-col","l6","m6","s12"],[1,"w3-card-2","w3-center","w3-hover-shadow","w3-border","w3-round-large"],["id","c01","saniye","5000","buttons","evet"],["body","",1,"inner"],[4,"ngFor","ngForOf"],[1,"w3-panel","w3-pale-green","w3-leftbar","w3-border-red","w3-hover-border-red"],[1,"w3-large","firstCapitalize"],[3,"src"]],template:function(e,o){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"h3",2),a._uU(3,"EK\u0130PMANLAR"),a.qZA(),a.qZA(),a.TgZ(4,"div",3),a.TgZ(5,"article",4),a.TgZ(6,"fieldset",5),a.TgZ(7,"my-w3carousel",6),a.TgZ(8,"div",7),a.TgZ(9,"h3"),a._uU(10,"Ki\u015fiye \xd6zel"),a.qZA(),a.TgZ(11,"ul"),a.YNc(12,Mv,2,1,"li",8),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(13,"article",4),a.TgZ(14,"fieldset",5),a.TgZ(15,"my-w3carousel",6),a.TgZ(16,"div",7),a.TgZ(17,"h3"),a._uU(18,"Firmaya \xd6zel"),a.qZA(),a.TgZ(19,"ul"),a.YNc(20,dE,2,1,"li",8),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(21,"div",9),a.TgZ(22,"p",10),a._uU(23," THERMOBOX'LAR A\xc7ILMADI\u011eI TAKD\u0130RDE, YEMEKLER 3 SAAT S\xdcREYLE ISISINI KORUR."),a.qZA(),a.qZA(),a._UZ(24,"div"),a.qZA()),2&e&&(a.xp6(12),a.Q6J("ngForOf",o.slideItemsKisiyeOzel),a.xp6(8),a.Q6J("ngForOf",o.slideItemsFirmayaOzel))},directives:[Hu,jt],styles:["my-w3carousel[_ngcontent-%COMP%]   .prev[_ngcontent-%COMP%], my-w3carousel[_ngcontent-%COMP%]   .next[_ngcontent-%COMP%]{visibility:visible!important}img[_ngcontent-%COMP%]{width:100%!important;height:100%!important;max-height:100%!important;max-width:100%!important;display:block}.w3-col[_ngcontent-%COMP%]{padding-bottom:10px}fieldset[_ngcontent-%COMP%]{height:100%}"]}),i})(),Rh=(()=>{class i{constructor(e){this.afDb=e}istatistikGetir(e){return this.afDb.object(e)}kaydet(e,o){return this.afDb.object(e).set(o)}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(Va))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})(),Sv=(()=>{class i{constructor(e){this.istatistikBarService=e,this.istatistik={},this.yukle()}ngOnInit(){}yukle(){this.istatistikBarService.istatistikGetir("/Istatistik").valueChanges().subscribe(e=>{this.istatistik.MenuCesitSayisi=e.MenuCesitSayisi,this.istatistik.MusteriSayisi=e.MusteriSayisi,this.istatistik.UlkeMutfakSayisi=e.UlkeMutfakSayisi})}kaydet(){this.istatistikBarService.kaydet("/Istatistik",this.istatistik)}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(Rh))},i.\u0275cmp=a.Xpm({type:i,selectors:[["istatistik-bar"]],features:[a._Bn([Rh])],decls:6,vars:1,consts:[[1,"w3-container","w3-row","w3-center","w3-dark-grey","w3-padding-64",2,"display","flex","flex-wrap","wrap","justify-content","space-around"],[1,"w3-col","s12"],[1,"w3-xxlarge"]],template:function(e,o){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"span",2),a._uU(3),a.qZA(),a._UZ(4,"br"),a._uU(5,"\xc7al\u0131\u015ft\u0131\u011f\u0131m\u0131z Firma Say\u0131s\u0131 "),a.qZA(),a.qZA()),2&e&&(a.xp6(3),a.hij("",o.istatistik.MusteriSayisi,"+"))},styles:["figure[_ngcontent-%COMP%]{width:200px;height:200px}figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;max-width:100%;max-height:100%}"]}),i})(),xv=(()=>{class i{constructor(e){this.afDb=e}resimleriGetir(e){return this.afDb.list(e)}kaydet(e,o){return this.afDb.object(e).set(o)}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(Va))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})();const Bw=["modal01"];function pE(i,t){if(1&i){const e=a.EpF();a.TgZ(0,"article",14),a.TgZ(1,"figure",15),a.TgZ(2,"figcaption"),a._uU(3),a.qZA(),a.TgZ(4,"img",16),a.NdJ("click",function(){const p=a.CHM(e).$implicit;return a.oxw().showModal(p)}),a.qZA(),a.TgZ(5,"div"),a._uU(6),a.qZA(),a.qZA(),a.qZA()}if(2&i){const e=t.$implicit;a.xp6(3),a.Oqu(e.Baslik),a.xp6(1),a.Q6J("src",e.ResimYol,a.LSH),a.xp6(2),a.Oqu(e.Icerik)}}let kv=(()=>{class i{constructor(e){this.resimGaleriService=e,this.FigureList=[],this.aktifResimYol="",this.AktifResimIcerik="",this.aktifResimBaslik="",this.aktiveImageIndex=0,this.yukle()}ngOnInit(){}yukle(){this.FigureList=[],this.resimGaleriService.resimleriGetir("/ResimGaleri/Genel").valueChanges().subscribe(e=>{this.FigureList=e,this.FigureList.map(o=>(o.ResimYol=o.ResimYol.replace("/gorseller/","/gorseller/thumb/").replace("assets","./assets"),o))})}kaydet(){this.resimGaleriService.kaydet("/ResimGaleri/Genel",this.FigureList)}showModal(e){this.modalForm.nativeElement.style.display="block",this.aktiveImageIndex=this.FigureList.indexOf(e),this.loadImagesFromIndex(this.aktiveImageIndex)}closeModal(){this.modalForm.nativeElement.style.display="none"}leftClick(e){e.stopPropagation(),0!=this.aktiveImageIndex&&(this.aktiveImageIndex--,this.loadImagesFromIndex(this.aktiveImageIndex))}rightClick(e){e.stopPropagation(),this.aktiveImageIndex!=this.FigureList.length-1&&(this.aktiveImageIndex++,this.loadImagesFromIndex(this.aktiveImageIndex))}loadImagesFromIndex(e){this.aktifResimYol=this.FigureList[e].ResimYol.replace("thumb","big").replace("assets","./assets")}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(xv))},i.\u0275cmp=a.Xpm({type:i,selectors:[["resim-galeri"]],viewQuery:function(e,o){if(1&e&&a.Gf(Bw,5),2&e){let u;a.iGM(u=a.CRH())&&(o.modalForm=u.first)}},features:[a._Bn([xv])],decls:17,vars:3,consts:[["id","gorseller",1,"w3-content","w3-padding-32","w3-center"],[1,"w3-border-bottom","w3-border-light-grey","w3-padding-12","w3-wide",2,"font-weight","bold"],[2,"cursor","pointer","display","flex","flex-wrap","wrap","justify-content","space-around"],["class","w3-col l3 m4 s6",4,"ngFor","ngForOf"],["id","modal01",1,"w3-modal","w3-black",2,"z-index","99999999",3,"click"],["modal01",""],["title","Resmi Kapat",1,"w3-closebtn","w3-text-white","w3-opacity","w3-hover-opacity-off","w3-xxlarge","w3-container","w3-display-topright",3,"click"],[1,"w3-modal-content","w3-animate-zoom","w3-center","w3-transparent","w3-padding-64",2,"height","100%"],[1,"w3-image",2,"max-height","100%","cursor","pointer",3,"src"],["id","caption",1,"w3-opacity","w3-large"],[1,"w3-display-left",3,"click"],[1,"fa","fa-chevron-left","fa-2x"],[1,"w3-display-right",3,"click"],[1,"fa","fa-chevron-right","fa-2x"],[1,"w3-col","l3","m4","s6"],[1,"w3-card-2","w3-round","w3-center"],[3,"src","click"]],template:function(e,o){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"h3",1),a._uU(2,"G\xd6RSELLER"),a.qZA(),a.TgZ(3,"div",2),a.YNc(4,pE,7,3,"article",3),a.qZA(),a.TgZ(5,"div",4,5),a.NdJ("click",function(p){return o.rightClick(p)}),a.TgZ(7,"span",6),a.NdJ("click",function(){return o.closeModal()}),a._uU(8,"\xd7"),a.qZA(),a.TgZ(9,"div",7),a._UZ(10,"img",8),a.TgZ(11,"p",9),a._uU(12),a.qZA(),a.TgZ(13,"span",10),a.NdJ("click",function(p){return o.leftClick(p)}),a._UZ(14,"i",11),a.qZA(),a.TgZ(15,"span",12),a.NdJ("click",function(p){return o.rightClick(p)}),a._UZ(16,"i",13),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.xp6(4),a.Q6J("ngForOf",o.FigureList),a.xp6(6),a.Q6J("src",o.aktifResimYol,a.LSH),a.xp6(2),a.Oqu(o.aktifResimBaslik))},directives:[jt],styles:["figure[_ngcontent-%COMP%]{max-width:100%;height:200px}figure[_ngcontent-%COMP%]{margin:15px 20px}figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;max-width:100%;max-height:95%;padding:5px}.w3-display-left[_ngcontent-%COMP%], .w3-display-right[_ngcontent-%COMP%]{cursor:pointer}"]}),i})(),gE=(()=>{class i{constructor(e){this.afDb=e}footerDataGetir(){return this.afDb.object("/Firma")}kaydet(e){return delete e.$key,delete e.$exists,this.afDb.object("/Firma").set(e)}mesajGonder(){alert("Mesaj\u0131n\u0131z iletildi")}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(Va))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})();class Uw{constructor(t,e,o,u,p,_,I){this.FirmaAd=t,this.Telefon=e,this.Email=o,this.Adres=u,this.GpsKonumEnlem=p,this.GpsKonumBoylam=_,this.GelenMesajlar=I}}function Hw(i,t){if(1&i){const e=a.EpF();a.TgZ(0,"div",11),a.TgZ(1,"button",12),a.NdJ("click",function(){return a.CHM(e),a.oxw().duzenle()}),a._uU(2,"D\xfczenle"),a.qZA(),a.TgZ(3,"button",12),a.NdJ("click",function(){return a.CHM(e),a.oxw().kaydet()}),a._uU(4,"Kaydet"),a.qZA(),a.qZA()}}function mE(i,t){if(1&i&&(a.TgZ(0,"section"),a.TgZ(1,"p"),a._UZ(2,"i",13),a._uU(3),a.qZA(),a.TgZ(4,"p"),a._UZ(5,"i",14),a._uU(6),a.qZA(),a.TgZ(7,"p"),a._UZ(8,"i",15),a._uU(9),a.qZA(),a.qZA()),2&i){const e=a.oxw();a.xp6(3),a.Oqu(e._firma.Adres),a.xp6(3),a.Oqu(e._firma.Telefon),a.xp6(3),a.Oqu(e._firma.Email)}}function Nv(i,t){if(1&i){const e=a.EpF();a.TgZ(0,"section"),a.TgZ(1,"p",16),a._UZ(2,"i",13),a.TgZ(3,"input",17),a.NdJ("ngModelChange",function(u){return a.CHM(e),a.oxw()._firma.FirmaAd=u}),a.qZA(),a.qZA(),a.TgZ(4,"p",16),a._UZ(5,"i",13),a.TgZ(6,"input",18),a.NdJ("ngModelChange",function(u){return a.CHM(e),a.oxw()._firma.Adres=u}),a.qZA(),a.qZA(),a.TgZ(7,"p",16),a._UZ(8,"i",14),a.TgZ(9,"input",19),a.NdJ("ngModelChange",function(u){return a.CHM(e),a.oxw()._firma.Telefon=u}),a.qZA(),a.qZA(),a.TgZ(10,"p",16),a._UZ(11,"i",15),a.TgZ(12,"input",20),a.NdJ("ngModelChange",function(u){return a.CHM(e),a.oxw()._firma.Email=u}),a.qZA(),a.qZA(),a.TgZ(13,"p",16),a.TgZ(14,"i"),a._uU(15,"X_Koor_"),a.qZA(),a.TgZ(16,"input",21),a.NdJ("ngModelChange",function(u){return a.CHM(e),a.oxw()._firma.GpsKonumEnlem=u}),a.qZA(),a.qZA(),a.TgZ(17,"p",16),a.TgZ(18,"i"),a._uU(19,"Y_Koor_"),a.qZA(),a.TgZ(20,"input",22),a.NdJ("ngModelChange",function(u){return a.CHM(e),a.oxw()._firma.GpsKonumBoylam=u}),a.qZA(),a.qZA(),a.qZA()}if(2&i){const e=a.oxw();a.xp6(3),a.Q6J("ngModel",e._firma.FirmaAd),a.xp6(3),a.Q6J("ngModel",e._firma.Adres),a.xp6(3),a.Q6J("ngModel",e._firma.Telefon),a.xp6(3),a.Q6J("ngModel",e._firma.Email),a.xp6(4),a.Q6J("ngModel",e._firma.GpsKonumEnlem),a.xp6(4),a.Q6J("ngModel",e._firma.GpsKonumBoylam)}}function _E(i,t){if(1&i){const e=a.EpF();a.TgZ(0,"form",23),a.TgZ(1,"p"),a._UZ(2,"input",24),a.qZA(),a.TgZ(3,"p"),a._UZ(4,"input",25),a.qZA(),a.TgZ(5,"p"),a._UZ(6,"input",26),a.qZA(),a.TgZ(7,"p"),a._UZ(8,"input",27),a.qZA(),a.TgZ(9,"p"),a.TgZ(10,"button",28),a.NdJ("click",function(){return a.CHM(e),a.oxw().mesajGonder()}),a._UZ(11,"i",29),a._uU(12," G\xd6NDER "),a.qZA(),a.qZA(),a.qZA()}}let jw=(()=>{class i{constructor(e,o){this.footerBarService=e,this.globalService=o,this._isEditMode=!1,this.setFirmaDefault(),e.footerDataGetir().valueChanges().subscribe(u=>{null!=u?(this._firma=u,this.loadMap()):this.setFirmaDefault()})}duzenle(){this._isEditMode=!0}kaydet(){this.footerBarService.kaydet(this._firma),this._isEditMode=!1}setFirmaDefault(){this._firma=new Uw("Derin Lezzet X","(532) 541 81 00","mail@saglik.gov.tr","Ankara,tr","X","Y",[]),this._firma.GelenMesajlar=[]}mesajGonder(){alert("Mesaj\u0131n\u0131z al\u0131nd\u0131 email veya telefon yoluyla size geri d\xf6n\xfc\u015f yap\u0131lacakt\u0131r.")}loadMap(){var e=document.getElementById("googleMap"),o=new google.maps.LatLng(this._firma.GpsKonumEnlem,this._firma.GpsKonumBoylam),u={center:o,zoom:18,mapTypeId:google.maps.MapTypeId.HYBRID},p=new google.maps.Map(e,u),_=new google.maps.Marker({position:o,animation:google.maps.Animation.BOUNCE});_.setMap(p),new google.maps.InfoWindow({content:`<p style='text-align:center'>${this._firma.FirmaAd} <br> ${this._firma.Telefon}</p>`}).open(p,_)}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(gE),a.Y36(Uu))},i.\u0275cmp=a.Xpm({type:i,selectors:[["footer-bar"]],features:[a._Bn([gE])],decls:16,vars:4,consts:[["id","iletisim",1,"w3-padding-64","w3-light-grey"],[1,"w3-center","w3-padding-12","w3-wide"],["style","text-align: center",4,"ngIf"],[1,"w3-row-padding",2,"margin-top","64px"],[1,"w3-half"],[4,"ngIf"],["action","/action_page.php","target","_blank",4,"ngIf"],["id","googleMap",1,"w3-greyscale-max",2,"width","100%","height","510px"],[1,"w3-center","w3-black","w3-padding-64"],["href","index.html#anasayfa",1,"w3-btn","w3-padding","w3-light-grey","w3-hover-grey"],[1,"fa","fa-arrow-up","w3-margin-right"],[2,"text-align","center"],[1,"w3-btn","w3-teal",3,"click"],[1,"fa","fa-map-marker","fa-fw","w3-xxlarge","w3-margin-right"],[1,"fa","fa-phone","fa-fw","w3-xxlarge","w3-margin-right"],[1,"fa","fa-envelope","fa-fw","w3-xxlarge","w3-margin-right"],[2,"display","flex"],["type","text","placeholder","Firma Ad","required","",1,"w3-input","w3-border",3,"ngModel","ngModelChange"],["type","text","placeholder","Adres","required","",1,"w3-input","w3-border",3,"ngModel","ngModelChange"],["type","text","placeholder","Telefon","required","",1,"w3-input","w3-border",3,"ngModel","ngModelChange"],["type","text","placeholder","Email","required","",1,"w3-input","w3-border",3,"ngModel","ngModelChange"],["type","text","placeholder","Enlem","required","",1,"w3-input","w3-border",3,"ngModel","ngModelChange"],["type","text","placeholder","Boylam","required","",1,"w3-input","w3-border",3,"ngModel","ngModelChange"],["action","/action_page.php","target","_blank"],["type","text","placeholder","AdSoyad","required","","name","Name",1,"w3-input","w3-border"],["type","text","placeholder","Email","required","","name","Email",1,"w3-input","w3-border"],["type","text","placeholder","Konu","required","","name","Subject",1,"w3-input","w3-border"],["type","text","placeholder","Mesaj","required","","name","Message",1,"w3-input","w3-border"],["type","submit",1,"w3-btn","w3-padding",3,"click"],[1,"fa","fa-paper-plane"]],template:function(e,o){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"h3",1),a._uU(2,"B\u0130ZE ULA\u015eIN"),a.qZA(),a.YNc(3,Hw,5,0,"div",2),a.TgZ(4,"div",3),a.TgZ(5,"div",4),a.YNc(6,mE,10,3,"section",5),a.YNc(7,Nv,21,6,"section",5),a._UZ(8,"br"),a.YNc(9,_E,13,0,"form",6),a.qZA(),a.TgZ(10,"div",4),a._UZ(11,"div",7),a.qZA(),a.qZA(),a.qZA(),a.TgZ(12,"footer",8),a.TgZ(13,"a",9),a._UZ(14,"i",10),a._uU(15,"Ana Sayfa"),a.qZA(),a.qZA()),2&e&&(a.xp6(3),a.Q6J("ngIf",o.globalService._userInfo),a.xp6(3),a.Q6J("ngIf",!o._isEditMode),a.xp6(1),a.Q6J("ngIf",o._isEditMode),a.xp6(2),a.Q6J("ngIf",!o._isEditMode))},directives:[an,Al,Jn,vd,Ad,Jy,ph,Td],styles:[""]}),i})(),yE=(()=>{class i{constructor(e){this.globalService=e}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(Uu))},i.\u0275cmp=a.Xpm({type:i,selectors:[["home"]],features:[a._Bn([])],decls:10,vars:4,consts:[[1,"w3-top"],[3,"MenuAd","AnaBaslik"]],template:function(e,o){1&e&&(a._UZ(0,"nav-menu",0),a._UZ(1,"main-slide"),a._UZ(2,"hakkimizda"),a._UZ(3,"haftalik-menu",1),a._UZ(4,"haftalik-menu",1),a._UZ(5,"alakart"),a._UZ(6,"ekipman"),a._UZ(7,"istatistik-bar"),a._UZ(8,"resim-galeri"),a._UZ(9,"footer-bar")),2&e&&(a.xp6(3),a.Q6J("MenuAd","HaftalikMenu")("AnaBaslik","HAFTALIK TABLDOT MEN\xdc"),a.xp6(1),a.Q6J("MenuAd","DunyaMutfaklari")("AnaBaslik","D\xdcNYA ve VEGAN MUTFA\u011eI"))},directives:[mC,yC,vC,Tv,im,fE,Sv,kv,jw],styles:["[_nghost-%COMP%]{display:block;overflow:hidden;margin-top:60px}"]}),i})(),om=(()=>{class i{constructor(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=a.Xpm({type:i,selectors:[["my-app"]],decls:1,vars:0,template:function(e,o){1&e&&a._UZ(0,"home")},directives:[yE],styles:["[_nghost-%COMP%] {\n        height: 100%;\n        display: block;\n    }"]}),i})(),vE=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i,bootstrap:[om]}),i.\u0275inj=a.cJS({providers:[Uu,{provide:a.soG,useValue:"tr-TR"}],imports:[[Ja,uy,gv,ly,ey,or.hO.initializeApp(jd_firebase)]]}),i})();(0,a.G48)(),Kl().bootstrapModule(vE)},5867:($e,we,O)=>{"use strict";O.d(we,{Mq:()=>a.getApp,C6:()=>a.getApps});var a=O(9681);(0,a.registerVersion)("firebase","9.6.6","app")},127:($e,we,O)=>{"use strict";O.d(we,{Z:()=>a.Z});var a=O(3942);a.Z.registerVersion("firebase","9.6.6","app-compat")},389:($e,we,O)=>{"use strict";O.r(we);var a=O(5861),K=O(3942),N=O(2090),ue=O(9681),ne=O(655),he=O(1877),le=O(4859);const Ae=function Le(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},xe=function Me(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},W=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ce=new he.Yd("@firebase/auth");function _e(g,...d){ce.logLevel<=he.in.ERROR&&ce.error(`Auth (${ue.SDK_VERSION}): ${g}`,...d)}function se(g,...d){throw Ve(g,...d)}function De(g,...d){return Ve(g,...d)}function ve(g,d,h){const y=Object.assign(Object.assign({},xe()),{[d]:h});return new N.LL("auth","Firebase",y).create(d,{appName:g.name})}function Be(g,d,h){if(!(d instanceof h))throw h.name!==d.constructor.name&&se(g,"argument-error"),ve(g,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ve(g,...d){if("string"!=typeof g){const h=d[0],y=[...d.slice(1)];return y[0]&&(y[0].appName=g.name),g._errorFactory.create(h,...y)}return W.create(g,...d)}function ae(g,d,...h){if(!g)throw Ve(d,...h)}function z(g){const d="INTERNAL ASSERTION FAILED: "+g;throw _e(d),new Error(d)}function ee(g,d){g||z(d)}const de=new Map;function X(g){ee(g instanceof Function,"Expected a class definition");let d=de.get(g);return d?(ee(d instanceof g,"Instance stored in cache mismatched with class"),d):(d=new g,de.set(g,d),d)}function rt(){var g;return"undefined"!=typeof self&&(null===(g=self.location)||void 0===g?void 0:g.href)||""}function wt(){return"http:"===Xt()||"https:"===Xt()}function Xt(){var g;return"undefined"!=typeof self&&(null===(g=self.location)||void 0===g?void 0:g.protocol)||null}class dn{constructor(d,h){this.shortDelay=d,this.longDelay=h,ee(h>d,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function Ge(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(wt()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xt(g,d){ee(g.emulator,"Emulator should always be set here");const{url:h}=g.emulator;return d?`${h}${d.startsWith("/")?d.slice(1):d}`:h}class Mn{static initialize(d,h,y){this.fetchImpl=d,h&&(this.headersImpl=h),y&&(this.responseImpl=y)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void z("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void z("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void z("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const bt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Pr=new dn(3e4,6e4);function Tt(g,d){return g.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:g.tenantId}):d}function mt(g,d,h,y){return Or.apply(this,arguments)}function Or(){return(Or=(0,a.Z)(function*(g,d,h,y,D={}){return Sn(g,D,(0,a.Z)(function*(){let S={},G={};y&&("GET"===d?G=y:S={body:JSON.stringify(y)});const ie=(0,N.xO)(Object.assign({key:g.config.apiKey},G)).slice(1),Ne=yield g._getAdditionalHeaders();return Ne["Content-Type"]="application/json",g.languageCode&&(Ne["X-Firebase-Locale"]=g.languageCode),Mn.fetch()(xi(g,g.config.apiHost,h,ie),Object.assign({method:d,headers:Ne,referrerPolicy:"no-referrer"},S))}))})).apply(this,arguments)}function Sn(g,d,h){return Si.apply(this,arguments)}function Si(){return(Si=(0,a.Z)(function*(g,d,h){g._canInitEmulator=!1;const y=Object.assign(Object.assign({},bt),d);try{const D=new Xn(g),S=yield Promise.race([h(),D.promise]);D.clearNetworkTimeout();const G=yield S.json();if("needConfirmation"in G)throw Lr(g,"account-exists-with-different-credential",G);if(S.ok&&!("errorMessage"in G))return G;{const ie=S.ok?G.errorMessage:G.error.message,[Ne,Ue]=ie.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ne)throw Lr(g,"credential-already-in-use",G);if("EMAIL_EXISTS"===Ne)throw Lr(g,"email-already-in-use",G);const nt=y[Ne]||Ne.toLowerCase().replace(/[_\s]+/g,"-");if(Ue)throw ve(g,nt,Ue);se(g,nt)}}catch(D){if(D instanceof N.ZR)throw D;se(g,"network-request-failed")}})).apply(this,arguments)}function Hn(g,d,h,y){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,a.Z)(function*(g,d,h,y,D={}){const S=yield mt(g,d,h,y,D);return"mfaPendingCredential"in S&&se(g,"multi-factor-auth-required",{_serverResponse:S}),S})).apply(this,arguments)}function xi(g,d,h,y){const D=`${d}${h}?${y}`;return g.config.emulator?xt(g.config,D):`${g.config.apiScheme}://${D}`}class Xn{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((h,y)=>{this.timer=setTimeout(()=>y(De(this.auth,"network-request-failed")),Pr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Lr(g,d,h){const y={appName:g.name};h.email&&(y.email=h.email),h.phoneNumber&&(y.phoneNumber=h.phoneNumber);const D=De(g,d,y);return D.customData._tokenResponse=h,D}function er(){return(er=(0,a.Z)(function*(g,d){return mt(g,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function fn(g,d){return en.apply(this,arguments)}function en(){return(en=(0,a.Z)(function*(g,d){return mt(g,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function ki(g,d){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,a.Z)(function*(g,d){return mt(g,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function He(g){if(g)try{const d=new Date(Number(g));if(!isNaN(d.getTime()))return d.toUTCString()}catch(d){}}function xn(){return(xn=(0,a.Z)(function*(g,d=!1){const h=(0,N.m9)(g),y=yield h.getIdToken(d),D=je(y);ae(D&&D.exp&&D.auth_time&&D.iat,h.auth,"internal-error");const S="object"==typeof D.firebase?D.firebase:void 0,G=null==S?void 0:S.sign_in_provider;return{claims:D,token:y,authTime:He(ct(D.auth_time)),issuedAtTime:He(ct(D.iat)),expirationTime:He(ct(D.exp)),signInProvider:G||null,signInSecondFactor:(null==S?void 0:S.sign_in_second_factor)||null}})).apply(this,arguments)}function ct(g){return 1e3*Number(g)}function je(g){const[d,h,y]=g.split(".");if(void 0===d||void 0===h||void 0===y)return _e("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,N.tV)(h);return D?JSON.parse(D):(_e("Failed to decode base64 JWT payload"),null)}catch(D){return _e("Caught error parsing JWT payload as JSON",D),null}}function wr(g,d){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,a.Z)(function*(g,d,h=!1){if(h)return d;try{return yield d}catch(y){throw y instanceof N.ZR&&vt(y)&&g.auth.currentUser===g&&(yield g.auth.signOut()),y}})).apply(this,arguments)}function vt({code:g}){return"auth/user-disabled"===g||"auth/user-token-expired"===g}class io{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var h;if(d){const y=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),y}{this.errorBackoff=3e4;const D=(null!==(h=this.user.stsTokenManager.expirationTime)&&void 0!==h?h:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(d=!1){var h=this;if(!this.isRunning)return;const y=this.getInterval(d);this.timerId=setTimeout((0,a.Z)(function*(){yield h.iteration()}),y)}iteration(){var d=this;return(0,a.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(h){return void("auth/network-request-failed"===h.code&&d.schedule(!0))}d.schedule()})()}}class tr{constructor(d,h){this.createdAt=d,this.lastLoginAt=h,this._initializeTime()}_initializeTime(){this.lastSignInTime=He(this.lastLoginAt),this.creationTime=He(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function fr(g){return F.apply(this,arguments)}function F(){return(F=(0,a.Z)(function*(g){var d;const h=g.auth,y=yield g.getIdToken(),D=yield wr(g,ki(h,{idToken:y}));ae(null==D?void 0:D.users.length,h,"internal-error");const S=D.users[0];g._notifyReloadListener(S);const G=(null===(d=S.providerUserInfo)||void 0===d?void 0:d.length)?Q(S.providerUserInfo):[],ie=me(g.providerData,G),nt=!!g.isAnonymous&&!(g.email&&S.passwordHash||(null==ie?void 0:ie.length)),We={uid:S.localId,displayName:S.displayName||null,photoURL:S.photoUrl||null,email:S.email||null,emailVerified:S.emailVerified||!1,phoneNumber:S.phoneNumber||null,tenantId:S.tenantId||null,providerData:ie,metadata:new tr(S.createdAt,S.lastLoginAt),isAnonymous:nt};Object.assign(g,We)})).apply(this,arguments)}function j(){return(j=(0,a.Z)(function*(g){const d=(0,N.m9)(g);yield fr(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function me(g,d){return[...g.filter(y=>!d.some(D=>D.providerId===y.providerId)),...d]}function Q(g){return g.map(d=>{var{providerId:h}=d,y=(0,ne._T)(d,["providerId"]);return{providerId:h,uid:y.rawId||"",displayName:y.displayName||null,email:y.email||null,phoneNumber:y.phoneNumber||null,photoURL:y.photoUrl||null}})}function Qe(){return(Qe=(0,a.Z)(function*(g,d){const h=yield Sn(g,{},(0,a.Z)(function*(){const y=(0,N.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:D,apiKey:S}=g.config,G=xi(g,D,"/v1/token",`key=${S}`),ie=yield g._getAdditionalHeaders();return ie["Content-Type"]="application/x-www-form-urlencoded",Mn.fetch()(G,{method:"POST",headers:ie,body:y})}));return{accessToken:h.access_token,expiresIn:h.expires_in,refreshToken:h.refresh_token}})).apply(this,arguments)}class kt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){ae(d.idToken,"internal-error"),ae(void 0!==d.idToken,"internal-error"),ae(void 0!==d.refreshToken,"internal-error");const h="expiresIn"in d&&void 0!==d.expiresIn?Number(d.expiresIn):function qe(g){const d=je(g);return ae(d,"internal-error"),ae(void 0!==d.exp,"internal-error"),ae(void 0!==d.iat,"internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,h)}getToken(d,h=!1){var y=this;return(0,a.Z)(function*(){return ae(!y.accessToken||y.refreshToken,d,"user-token-expired"),h||!y.accessToken||y.isExpired?y.refreshToken?(yield y.refresh(d,y.refreshToken),y.accessToken):null:y.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,h){var y=this;return(0,a.Z)(function*(){const{accessToken:D,refreshToken:S,expiresIn:G}=yield function Fe(g,d){return Qe.apply(this,arguments)}(d,h);y.updateTokensAndExpiration(D,S,Number(G))})()}updateTokensAndExpiration(d,h,y){this.refreshToken=h||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*y}static fromJSON(d,h){const{refreshToken:y,accessToken:D,expirationTime:S}=h,G=new kt;return y&&(ae("string"==typeof y,"internal-error",{appName:d}),G.refreshToken=y),D&&(ae("string"==typeof D,"internal-error",{appName:d}),G.accessToken=D),S&&(ae("number"==typeof S,"internal-error",{appName:d}),G.expirationTime=S),G}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new kt,this.toJSON())}_performRefresh(){return z("not implemented")}}function Vt(g,d){ae("string"==typeof g||void 0===g,"internal-error",{appName:d})}class Ht{constructor(d){var{uid:h,auth:y,stsTokenManager:D}=d,S=(0,ne._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new io(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=h,this.auth=y,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=S.displayName||null,this.email=S.email||null,this.emailVerified=S.emailVerified||!1,this.phoneNumber=S.phoneNumber||null,this.photoURL=S.photoURL||null,this.isAnonymous=S.isAnonymous||!1,this.tenantId=S.tenantId||null,this.providerData=S.providerData?[...S.providerData]:[],this.metadata=new tr(S.createdAt||void 0,S.lastLoginAt||void 0)}getIdToken(d){var h=this;return(0,a.Z)(function*(){const y=yield wr(h,h.stsTokenManager.getToken(h.auth,d));return ae(y,h.auth,"internal-error"),h.accessToken!==y&&(h.accessToken=y,yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)),y})()}getIdTokenResult(d){return function Lt(g){return xn.apply(this,arguments)}(this,d)}reload(){return function B(g){return j.apply(this,arguments)}(this)}_assign(d){this!==d&&(ae(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(h=>Object.assign({},h)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){return new Ht(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(d){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,h=!1){var y=this;return(0,a.Z)(function*(){let D=!1;d.idToken&&d.idToken!==y.stsTokenManager.accessToken&&(y.stsTokenManager.updateFromServerResponse(d),D=!0),h&&(yield fr(y)),yield y.auth._persistUserIfCurrent(y),D&&y.auth._notifyListenersIfCurrent(y)})()}delete(){var d=this;return(0,a.Z)(function*(){const h=yield d.getIdToken();return yield wr(d,function Je(g,d){return er.apply(this,arguments)}(d.auth,{idToken:h})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,h){var y,D,S,G,ie,Ne,Ue,nt;const We=null!==(y=h.displayName)&&void 0!==y?y:void 0,Qt=null!==(D=h.email)&&void 0!==D?D:void 0,Jt=null!==(S=h.phoneNumber)&&void 0!==S?S:void 0,Bo=null!==(G=h.photoURL)&&void 0!==G?G:void 0,Ta=null!==(ie=h.tenantId)&&void 0!==ie?ie:void 0,Uo=null!==(Ne=h._redirectEventId)&&void 0!==Ne?Ne:void 0,Aa=null!==(Ue=h.createdAt)&&void 0!==Ue?Ue:void 0,_l=null!==(nt=h.lastLoginAt)&&void 0!==nt?nt:void 0,{uid:Er,emailVerified:Cs,isAnonymous:qi,providerData:Nc,stsTokenManager:pu}=h;ae(Er&&pu,d,"internal-error");const yl=kt.fromJSON(this.name,pu);ae("string"==typeof Er,d,"internal-error"),Vt(We,d.name),Vt(Qt,d.name),ae("boolean"==typeof Cs,d,"internal-error"),ae("boolean"==typeof qi,d,"internal-error"),Vt(Jt,d.name),Vt(Bo,d.name),Vt(Ta,d.name),Vt(Uo,d.name),Vt(Aa,d.name),Vt(_l,d.name);const Rc=new Ht({uid:Er,auth:d,email:Qt,emailVerified:Cs,displayName:We,isAnonymous:qi,photoURL:Bo,phoneNumber:Jt,tenantId:Ta,stsTokenManager:yl,createdAt:Aa,lastLoginAt:_l});return Nc&&Array.isArray(Nc)&&(Rc.providerData=Nc.map(zh=>Object.assign({},zh))),Uo&&(Rc._redirectEventId=Uo),Rc}static _fromIdTokenResponse(d,h,y=!1){return(0,a.Z)(function*(){const D=new kt;D.updateFromServerResponse(h);const S=new Ht({uid:h.localId,auth:d,stsTokenManager:D,isAnonymous:y});return yield fr(S),S})()}}const dt=(()=>{class g{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(h,y){var D=this;return(0,a.Z)(function*(){D.storage[h]=y})()}_get(h){var y=this;return(0,a.Z)(function*(){const D=y.storage[h];return void 0===D?null:D})()}_remove(h){var y=this;return(0,a.Z)(function*(){delete y.storage[h]})()}_addListener(h,y){}_removeListener(h,y){}}return g.type="NONE",g})();function hn(g,d,h){return`firebase:${g}:${d}:${h}`}class jn{constructor(d,h,y){this.persistence=d,this.auth=h,this.userKey=y;const{config:D,name:S}=this.auth;this.fullUserKey=hn(this.userKey,D.apiKey,S),this.fullPersistenceKey=hn("persistence",D.apiKey,S),this.boundEventHandler=h._onStorageEvent.bind(h),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,a.Z)(function*(){const h=yield d.persistence._get(d.fullUserKey);return h?Ht._fromJSON(d.auth,h):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var h=this;return(0,a.Z)(function*(){if(h.persistence===d)return;const y=yield h.getCurrentUser();return yield h.removeCurrentUser(),h.persistence=d,y?h.setCurrentUser(y):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,h,y="authUser"){return(0,a.Z)(function*(){if(!h.length)return new jn(X(dt),d,y);const D=(yield Promise.all(h.map(function(){var Ue=(0,a.Z)(function*(nt){if(yield nt._isAvailable())return nt});return function(nt){return Ue.apply(this,arguments)}}()))).filter(Ue=>Ue);let S=D[0]||X(dt);const G=hn(y,d.config.apiKey,d.name);let ie=null;for(const Ue of h)try{const nt=yield Ue._get(G);if(nt){const We=Ht._fromJSON(d,nt);Ue!==S&&(ie=We),S=Ue;break}}catch(nt){}const Ne=D.filter(Ue=>Ue._shouldAllowMigration);return S._shouldAllowMigration&&Ne.length?(S=Ne[0],ie&&(yield S._set(G,ie.toJSON())),yield Promise.all(h.map(function(){var Ue=(0,a.Z)(function*(nt){if(nt!==S)try{yield nt._remove(G)}catch(We){}});return function(nt){return Ue.apply(this,arguments)}}())),new jn(S,d,y)):new jn(S,d,y)})()}}function Yo(g){const d=g.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(pn(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(so(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(ei(d))return"Blackberry";if(gn(d))return"Webos";if(Qo(d))return"Safari";if((d.includes("chrome/")||oo(d))&&!d.includes("edge/"))return"Chrome";if(Zn(d))return"Android";{const y=g.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==y?void 0:y.length))return y[1]}return"Other"}function so(g=(0,N.z$)()){return/firefox\//i.test(g)}function Qo(g=(0,N.z$)()){const d=g.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function oo(g=(0,N.z$)()){return/crios\//i.test(g)}function pn(g=(0,N.z$)()){return/iemobile/i.test(g)}function Zn(g=(0,N.z$)()){return/android/i.test(g)}function ei(g=(0,N.z$)()){return/blackberry/i.test(g)}function gn(g=(0,N.z$)()){return/webos/i.test(g)}function rr(g=(0,N.z$)()){return/iphone|ipad|ipod/i.test(g)}function Ni(g=(0,N.z$)()){return rr(g)||Zn(g)||gn(g)||ei(g)||/windows phone/i.test(g)||pn(g)}function xs(g,d=[]){let h;switch(g){case"Browser":h=Yo((0,N.z$)());break;case"Worker":h=`${Yo((0,N.z$)())}-${g}`;break;default:h=g}const y=d.length?d.join(","):"FirebaseCore-web";return`${h}/JsCore/${ue.SDK_VERSION}/${y}`}class ir{constructor(d,h){this.app=d,this.config=h,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new at(this),this.idTokenSubscription=new at(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=W,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=h.sdkClientVersion}_initializeWithPersistence(d,h){var y=this;return h&&(this._popupRedirectResolver=X(h)),this._initializationPromise=this.queue((0,a.Z)(function*(){var D,S;if(!y._deleted&&(y.persistenceManager=yield jn.create(y,d),!y._deleted)){if(null===(D=y._popupRedirectResolver)||void 0===D?void 0:D._shouldInitProactively)try{yield y._popupRedirectResolver._initialize(y)}catch(G){}yield y.initializeCurrentUser(h),y.lastNotifiedUid=(null===(S=y.currentUser)||void 0===S?void 0:S.uid)||null,!y._deleted&&(y._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,a.Z)(function*(){if(d._deleted)return;const h=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||h){if(d.currentUser&&h&&d.currentUser.uid===h.uid)return d._currentUser._assign(h),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(h)}})()}initializeCurrentUser(d){var h=this;return(0,a.Z)(function*(){var y;let D=yield h.assertedPersistence.getCurrentUser();if(d&&h.config.authDomain){yield h.getOrInitRedirectPersistenceManager();const S=null===(y=h.redirectUser)||void 0===y?void 0:y._redirectEventId,G=null==D?void 0:D._redirectEventId,ie=yield h.tryRedirectSignIn(d);(!S||S===G)&&(null==ie?void 0:ie.user)&&(D=ie.user)}return D?D._redirectEventId?(ae(h._popupRedirectResolver,h,"argument-error"),yield h.getOrInitRedirectPersistenceManager(),h.redirectUser&&h.redirectUser._redirectEventId===D._redirectEventId?h.directlySetCurrentUser(D):h.reloadAndSetCurrentUserOrClear(D)):h.reloadAndSetCurrentUserOrClear(D):h.directlySetCurrentUser(null)})()}tryRedirectSignIn(d){var h=this;return(0,a.Z)(function*(){let y=null;try{y=yield h._popupRedirectResolver._completeRedirectFn(h,d,!0)}catch(D){yield h._setRedirectUser(null)}return y})()}reloadAndSetCurrentUserOrClear(d){var h=this;return(0,a.Z)(function*(){try{yield fr(d)}catch(y){if("auth/network-request-failed"!==y.code)return h.directlySetCurrentUser(null)}return h.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function ze(){if("undefined"==typeof navigator)return null;const g=navigator;return g.languages&&g.languages[0]||g.language||null}()}_delete(){var d=this;return(0,a.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var h=this;return(0,a.Z)(function*(){const y=d?(0,N.m9)(d):null;return y&&ae(y.auth.config.apiKey===h.config.apiKey,h,"invalid-user-token"),h._updateCurrentUser(y&&y._clone(h))})()}_updateCurrentUser(d){var h=this;return(0,a.Z)(function*(){if(!h._deleted)return d&&ae(h.tenantId===d.tenantId,h,"tenant-id-mismatch"),h.queue((0,a.Z)(function*(){yield h.directlySetCurrentUser(d),h.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,a.Z)(function*(){return(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null)})()}setPersistence(d){var h=this;return this.queue((0,a.Z)(function*(){yield h.assertedPersistence.setPersistence(X(d))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new N.LL("auth","Firebase",d())}onAuthStateChanged(d,h,y){return this.registerStateListener(this.authStateSubscription,d,h,y)}onIdTokenChanged(d,h,y){return this.registerStateListener(this.idTokenSubscription,d,h,y)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,h){var y=this;return(0,a.Z)(function*(){const D=yield y.getOrInitRedirectPersistenceManager(h);return null===d?D.removeCurrentUser():D.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var h=this;return(0,a.Z)(function*(){if(!h.redirectPersistenceManager){const y=d&&X(d)||h._popupRedirectResolver;ae(y,h,"argument-error"),h.redirectPersistenceManager=yield jn.create(h,[X(y._redirectPersistence)],"redirectUser"),h.redirectUser=yield h.redirectPersistenceManager.getCurrentUser()}return h.redirectPersistenceManager})()}_redirectUserForId(d){var h=this;return(0,a.Z)(function*(){var y,D;return h._isInitialized&&(yield h.queue((0,a.Z)(function*(){}))),(null===(y=h._currentUser)||void 0===y?void 0:y._redirectEventId)===d?h._currentUser:(null===(D=h.redirectUser)||void 0===D?void 0:D._redirectEventId)===d?h.redirectUser:null})()}_persistUserIfCurrent(d){var h=this;return(0,a.Z)(function*(){if(d===h.currentUser)return h.queue((0,a.Z)(function*(){return h.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,h;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const y=null!==(h=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==h?h:null;this.lastNotifiedUid!==y&&(this.lastNotifiedUid=y,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,h,y,D){if(this._deleted)return()=>{};const S="function"==typeof h?h:h.next.bind(h),G=this._isInitialized?Promise.resolve():this._initializationPromise;return ae(G,this,"internal-error"),G.then(()=>S(this.currentUser)),"function"==typeof h?d.addObserver(h,y,D):d.addObserver(h)}directlySetCurrentUser(d){var h=this;return(0,a.Z)(function*(){h.currentUser&&h.currentUser!==d&&(h._currentUser._stopProactiveRefresh(),d&&h.isProactiveRefreshEnabled&&d._startProactiveRefresh()),h.currentUser=d,d?yield h.assertedPersistence.setCurrentUser(d):yield h.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=xs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,a.Z)(function*(){const h={"X-Client-Version":d.clientVersion};return d.app.options.appId&&(h["X-Firebase-gmpid"]=d.app.options.appId),h})()}}function Te(g){return(0,N.m9)(g)}class at{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,N.ne)(h=>this.observer=h)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Gn(g){const d=g.indexOf(":");return d<0?"":g.substr(0,d+1)}function tn(g){if(!g)return null;const d=Number(g);return isNaN(d)?null:d}class It{constructor(d,h){this.providerId=d,this.signInMethod=h}toJSON(){return z("not implemented")}_getIdTokenResponse(d){return z("not implemented")}_linkToIdToken(d,h){return z("not implemented")}_getReauthenticationResolver(d){return z("not implemented")}}function ns(g,d){return $t.apply(this,arguments)}function $t(){return($t=(0,a.Z)(function*(g,d){return mt(g,"POST","/v1/accounts:resetPassword",Tt(g,d))})).apply(this,arguments)}function ot(g,d){return ks.apply(this,arguments)}function ks(){return(ks=(0,a.Z)(function*(g,d){return mt(g,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function rs(g,d){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,a.Z)(function*(g,d){return mt(g,"POST","/v1/accounts:update",Tt(g,d))})).apply(this,arguments)}function jt(){return(jt=(0,a.Z)(function*(g,d){return Hn(g,"POST","/v1/accounts:signInWithPassword",Tt(g,d))})).apply(this,arguments)}function Ri(g,d){return is.apply(this,arguments)}function is(){return(is=(0,a.Z)(function*(g,d){return mt(g,"POST","/v1/accounts:sendOobCode",Tt(g,d))})).apply(this,arguments)}function an(g,d){return At.apply(this,arguments)}function At(){return(At=(0,a.Z)(function*(g,d){return Ri(g,d)})).apply(this,arguments)}function Rl(g,d){return ss.apply(this,arguments)}function ss(){return(ss=(0,a.Z)(function*(g,d){return Ri(g,d)})).apply(this,arguments)}function Ir(g,d){return hr.apply(this,arguments)}function hr(){return(hr=(0,a.Z)(function*(g,d){return Ri(g,d)})).apply(this,arguments)}function Pl(g,d){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,a.Z)(function*(g,d){return Ri(g,d)})).apply(this,arguments)}function pr(){return(pr=(0,a.Z)(function*(g,d){return Hn(g,"POST","/v1/accounts:signInWithEmailLink",Tt(g,d))})).apply(this,arguments)}function Ol(){return(Ol=(0,a.Z)(function*(g,d){return Hn(g,"POST","/v1/accounts:signInWithEmailLink",Tt(g,d))})).apply(this,arguments)}class Xo extends It{constructor(d,h,y,D=null){super("password",y),this._email=d,this._password=h,this._tenantId=D}static _fromEmailAndPassword(d,h){return new Xo(d,h,"password")}static _fromEmailAndCode(d,h,y=null){return new Xo(d,h,"emailLink",y)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d;if((null==h?void 0:h.email)&&(null==h?void 0:h.password)){if("password"===h.signInMethod)return this._fromEmailAndPassword(h.email,h.password);if("emailLink"===h.signInMethod)return this._fromEmailAndCode(h.email,h.password,h.tenantId)}return null}_getIdTokenResponse(d){var h=this;return(0,a.Z)(function*(){switch(h.signInMethod){case"password":return function Rs(g,d){return jt.apply(this,arguments)}(d,{returnSecureToken:!0,email:h._email,password:h._password});case"emailLink":return function Pi(g,d){return pr.apply(this,arguments)}(d,{email:h._email,oobCode:h._password});default:se(d,"internal-error")}})()}_linkToIdToken(d,h){var y=this;return(0,a.Z)(function*(){switch(y.signInMethod){case"password":return ot(d,{idToken:h,returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function Ku(g,d){return Ol.apply(this,arguments)}(d,{idToken:h,email:y._email,oobCode:y._password});default:se(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function ln(g,d){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,a.Z)(function*(g,d){return Hn(g,"POST","/v1/accounts:signInWithIdp",Tt(g,d))})).apply(this,arguments)}class ri extends It{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const h=new ri(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(h.idToken=d.idToken),d.accessToken&&(h.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(h.nonce=d.nonce),d.pendingToken&&(h.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(h.accessToken=d.oauthToken,h.secret=d.oauthTokenSecret):se("argument-error"),h}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d,{providerId:y,signInMethod:D}=h,S=(0,ne._T)(h,["providerId","signInMethod"]);if(!y||!D)return null;const G=new ri(y,D);return G.idToken=S.idToken||void 0,G.accessToken=S.accessToken||void 0,G.secret=S.secret,G.nonce=S.nonce,G.pendingToken=S.pendingToken||null,G}_getIdTokenResponse(d){return ln(d,this.buildRequest())}_linkToIdToken(d,h){const y=this.buildRequest();return y.idToken=h,ln(d,y)}_getReauthenticationResolver(d){const h=this.buildRequest();return h.autoCreate=!1,ln(d,h)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const h={};this.idToken&&(h.id_token=this.idToken),this.accessToken&&(h.access_token=this.accessToken),this.secret&&(h.oauth_token_secret=this.secret),h.providerId=this.providerId,this.nonce&&!this.pendingToken&&(h.nonce=this.nonce),d.postBody=(0,N.xO)(h)}return d}}function Rd(g,d){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,a.Z)(function*(g,d){return mt(g,"POST","/v1/accounts:sendVerificationCode",Tt(g,d))})).apply(this,arguments)}function lo(){return(lo=(0,a.Z)(function*(g,d){return Hn(g,"POST","/v1/accounts:signInWithPhoneNumber",Tt(g,d))})).apply(this,arguments)}function Vl(){return(Vl=(0,a.Z)(function*(g,d){const h=yield Hn(g,"POST","/v1/accounts:signInWithPhoneNumber",Tt(g,d));if(h.temporaryProof)throw Lr(g,"account-exists-with-different-credential",h);return h})).apply(this,arguments)}const Od={USER_NOT_FOUND:"user-not-found"};function Bl(){return(Bl=(0,a.Z)(function*(g,d){return Hn(g,"POST","/v1/accounts:signInWithPhoneNumber",Tt(g,Object.assign(Object.assign({},d),{operation:"REAUTH"})),Od)})).apply(this,arguments)}class Os extends It{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,h){return new Os({verificationId:d,verificationCode:h})}static _fromTokenResponse(d,h){return new Os({phoneNumber:d,temporaryProof:h})}_getIdTokenResponse(d){return function Pd(g,d){return lo.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,h){return function Ps(g,d){return Vl.apply(this,arguments)}(d,Object.assign({idToken:h},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function Fd(g,d){return Bl.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:h,verificationId:y,verificationCode:D}=this.params;return d&&h?{temporaryProof:d,phoneNumber:h}:{sessionInfo:y,code:D}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:h,verificationCode:y,phoneNumber:D,temporaryProof:S}=d;return y||h||D||S?new Os({verificationId:h,verificationCode:y,phoneNumber:D,temporaryProof:S}):null}}class ii{constructor(d){var h,y,D,S,G,ie;const Ne=(0,N.zd)((0,N.pd)(d)),Ue=null!==(h=Ne.apiKey)&&void 0!==h?h:null,nt=null!==(y=Ne.oobCode)&&void 0!==y?y:null,We=function Ld(g){switch(g){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=Ne.mode)&&void 0!==D?D:null);ae(Ue&&nt&&We,"argument-error"),this.apiKey=Ue,this.operation=We,this.code=nt,this.continueUrl=null!==(S=Ne.continueUrl)&&void 0!==S?S:null,this.languageCode=null!==(G=Ne.languageCode)&&void 0!==G?G:null,this.tenantId=null!==(ie=Ne.tenantId)&&void 0!==ie?ie:null}static parseLink(d){const h=function Yu(g){const d=(0,N.zd)((0,N.pd)(g)).link,h=d?(0,N.zd)((0,N.pd)(d)).deep_link_id:null,y=(0,N.zd)((0,N.pd)(g)).deep_link_id;return(y?(0,N.zd)((0,N.pd)(y)).link:null)||y||h||d||g}(d);try{return new ii(h)}catch(y){return null}}}let uo=(()=>{class g{constructor(){this.providerId=g.PROVIDER_ID}static credential(h,y){return Xo._fromEmailAndPassword(h,y)}static credentialWithLink(h,y){const D=ii.parseLink(y);return ae(D,"argument-error"),Xo._fromEmailAndCode(h,D.code,D.tenantId)}}return g.PROVIDER_ID="password",g.EMAIL_PASSWORD_SIGN_IN_METHOD="password",g.EMAIL_LINK_SIGN_IN_METHOD="emailLink",g})();class Oi{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class gr extends Oi{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class os extends gr{static credentialFromJSON(d){const h="string"==typeof d?JSON.parse(d):d;return ae("providerId"in h&&"signInMethod"in h,"argument-error"),ri._fromParams(h)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return ae(d.idToken||d.accessToken,"argument-error"),ri._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return os.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return os.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:h,oauthAccessToken:y,oauthTokenSecret:D,pendingToken:S,nonce:G,providerId:ie}=d;if(!y&&!D&&!h&&!S||!ie)return null;try{return new os(ie)._credential({idToken:h,accessToken:y,nonce:G,pendingToken:S})}catch(Ne){return null}}}let Fs=(()=>{class g extends gr{constructor(){super("facebook.com")}static credential(h){return ri._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.FACEBOOK_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return g.credentialFromTaggedObject(h)}static credentialFromError(h){return g.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return g.credential(h.oauthAccessToken)}catch(y){return null}}}return g.FACEBOOK_SIGN_IN_METHOD="facebook.com",g.PROVIDER_ID="facebook.com",g})(),Ls=(()=>{class g extends gr{constructor(){super("google.com"),this.addScope("profile")}static credential(h,y){return ri._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GOOGLE_SIGN_IN_METHOD,idToken:h,accessToken:y})}static credentialFromResult(h){return g.credentialFromTaggedObject(h)}static credentialFromError(h){return g.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:y,oauthAccessToken:D}=h;if(!y&&!D)return null;try{return g.credential(y,D)}catch(S){return null}}}return g.GOOGLE_SIGN_IN_METHOD="google.com",g.PROVIDER_ID="google.com",g})(),Ul=(()=>{class g extends gr{constructor(){super("github.com")}static credential(h){return ri._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GITHUB_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return g.credentialFromTaggedObject(h)}static credentialFromError(h){return g.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return g.credential(h.oauthAccessToken)}catch(y){return null}}}return g.GITHUB_SIGN_IN_METHOD="github.com",g.PROVIDER_ID="github.com",g})();class si extends It{constructor(d,h){super(d,d),this.pendingToken=h}_getIdTokenResponse(d){return ln(d,this.buildRequest())}_linkToIdToken(d,h){const y=this.buildRequest();return y.idToken=h,ln(d,y)}_getReauthenticationResolver(d){const h=this.buildRequest();return h.autoCreate=!1,ln(d,h)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d,{providerId:y,signInMethod:D,pendingToken:S}=h;return y&&D&&S&&y===D?new si(y,S):null}static _create(d,h){return new si(d,h)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class oi extends Oi{constructor(d){ae(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return oi.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return oi.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const h=si.fromJSON(d);return ae(h,"argument-error"),h}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:h,providerId:y}=d;if(!h||!y)return null;try{return si._create(y,h)}catch(D){return null}}}let mr=(()=>{class g extends gr{constructor(){super("twitter.com")}static credential(h,y){return ri._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.TWITTER_SIGN_IN_METHOD,oauthToken:h,oauthTokenSecret:y})}static credentialFromResult(h){return g.credentialFromTaggedObject(h)}static credentialFromError(h){return g.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthAccessToken:y,oauthTokenSecret:D}=h;if(!y||!D)return null;try{return g.credential(y,D)}catch(S){return null}}}return g.TWITTER_SIGN_IN_METHOD="twitter.com",g.PROVIDER_ID="twitter.com",g})();function jl(g,d){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,a.Z)(function*(g,d){return Hn(g,"POST","/v1/accounts:signUp",Tt(g,d))})).apply(this,arguments)}class $n{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,h,y,D=!1){return(0,a.Z)(function*(){const S=yield Ht._fromIdTokenResponse(d,y,D),G=Zl(y);return new $n({user:S,providerId:G,_tokenResponse:y,operationType:h})})()}static _forOperation(d,h,y){return(0,a.Z)(function*(){yield d._updateTokensIfNecessary(y,!0);const D=Zl(y);return new $n({user:d,providerId:D,_tokenResponse:y,operationType:h})})()}}function Zl(g){return g.providerId?g.providerId:"phoneNumber"in g?"phone":null}function ea(){return(ea=(0,a.Z)(function*(g){var d;const h=Te(g);if(yield h._initializationPromise,null===(d=h.currentUser)||void 0===d?void 0:d.isAnonymous)return new $n({user:h.currentUser,providerId:null,operationType:"signIn"});const y=yield jl(h,{returnSecureToken:!0}),D=yield $n._fromIdTokenResponse(h,"signIn",y,!0);return yield h._updateCurrentUser(D.user),D})).apply(this,arguments)}class Za extends N.ZR{constructor(d,h,y,D){var S;super(h.code,h.message),this.operationType=y,this.user=D,Object.setPrototypeOf(this,Za.prototype),this.customData={appName:d.name,tenantId:null!==(S=d.tenantId)&&void 0!==S?S:void 0,_serverResponse:h.customData._serverResponse,operationType:y}}static _fromErrorAndOperation(d,h,y,D){return new Za(d,h,y,D)}}function Ga(g,d,h,y){return("reauthenticate"===d?h._getReauthenticationResolver(g):h._getIdTokenResponse(g)).catch(S=>{throw"auth/multi-factor-auth-required"===S.code?Za._fromErrorAndOperation(g,S,d,y):S})}function $a(g){return new Set(g.map(({providerId:d})=>d).filter(d=>!!d))}function Wa(){return(Wa=(0,a.Z)(function*(g,d){const h=(0,N.m9)(g);yield Fi(!0,h,d);const{providerUserInfo:y}=yield fn(h.auth,{idToken:yield h.getIdToken(),deleteProvider:[d]}),D=$a(y||[]);return h.providerData=h.providerData.filter(S=>D.has(S.providerId)),D.has("phone")||(h.phoneNumber=null),yield h.auth._persistUserIfCurrent(h),h})).apply(this,arguments)}function Ot(g,d){return co.apply(this,arguments)}function co(){return(co=(0,a.Z)(function*(g,d,h=!1){const y=yield wr(g,d._linkToIdToken(g.auth,yield g.getIdToken()),h);return $n._forOperation(g,"link",y)})).apply(this,arguments)}function Fi(g,d,h){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,a.Z)(function*(g,d,h){yield fr(d);const D=!1===g?"provider-already-linked":"no-such-provider";ae($a(d.providerData).has(h)===g,d.auth,D)})).apply(this,arguments)}function ta(g,d){return fo.apply(this,arguments)}function fo(){return(fo=(0,a.Z)(function*(g,d,h=!1){const{auth:y}=g,D="reauthenticate";try{const S=yield wr(g,Ga(y,D,d,g),h);ae(S.idToken,y,"internal-error");const G=je(S.idToken);ae(G,y,"internal-error");const{sub:ie}=G;return ae(g.uid===ie,y,"user-mismatch"),$n._forOperation(g,D,S)}catch(S){throw"auth/user-not-found"===(null==S?void 0:S.code)&&se(y,"user-mismatch"),S}})).apply(this,arguments)}function as(g,d){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,a.Z)(function*(g,d,h=!1){const y="signIn",D=yield Ga(g,y,d),S=yield $n._fromIdTokenResponse(g,y,D);return h||(yield g._updateCurrentUser(S.user)),S})).apply(this,arguments)}function na(g,d){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,a.Z)(function*(g,d){return as(Te(g),d)})).apply(this,arguments)}function li(g,d){return En.apply(this,arguments)}function En(){return(En=(0,a.Z)(function*(g,d){const h=(0,N.m9)(g);return yield Fi(!1,h,d.providerId),Ot(h,d)})).apply(this,arguments)}function Vs(g,d){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,a.Z)(function*(g,d){return ta((0,N.m9)(g),d)})).apply(this,arguments)}function za(g,d){return sr.apply(this,arguments)}function sr(){return(sr=(0,a.Z)(function*(g,d){return Hn(g,"POST","/v1/accounts:signInWithCustomToken",Tt(g,d))})).apply(this,arguments)}function Vi(){return(Vi=(0,a.Z)(function*(g,d){const h=Te(g),y=yield za(h,{token:d,returnSecureToken:!0}),D=yield $n._fromIdTokenResponse(h,"signIn",y);return yield h._updateCurrentUser(D.user),D})).apply(this,arguments)}class Ke{constructor(d,h){this.factorId=d,this.uid=h.mfaEnrollmentId,this.enrollmentTime=new Date(h.enrolledAt).toUTCString(),this.displayName=h.displayName}static _fromServerResponse(d,h){return"phoneInfo"in h?ho._fromServerResponse(d,h):se(d,"internal-error")}}class ho extends Ke{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,h){return new ho(h)}}function po(g,d,h){var y;ae((null===(y=h.url)||void 0===y?void 0:y.length)>0,g,"invalid-continue-uri"),ae(void 0===h.dynamicLinkDomain||h.dynamicLinkDomain.length>0,g,"invalid-dynamic-link-domain"),d.continueUrl=h.url,d.dynamicLinkDomain=h.dynamicLinkDomain,d.canHandleCodeInApp=h.handleCodeInApp,h.iOS&&(ae(h.iOS.bundleId.length>0,g,"missing-ios-bundle-id"),d.iOSBundleId=h.iOS.bundleId),h.android&&(ae(h.android.packageName.length>0,g,"missing-android-pkg-name"),d.androidInstallApp=h.android.installApp,d.androidMinimumVersionCode=h.android.minimumVersion,d.androidPackageName=h.android.packageName)}function go(){return(go=(0,a.Z)(function*(g,d,h){const y=(0,N.m9)(g),D={requestType:"PASSWORD_RESET",email:d};h&&po(y,D,h),yield Rl(y,D)})).apply(this,arguments)}function mo(){return(mo=(0,a.Z)(function*(g,d,h){yield ns((0,N.m9)(g),{oobCode:d,newPassword:h})})).apply(this,arguments)}function ye(){return(ye=(0,a.Z)(function*(g,d){yield rs((0,N.m9)(g),{oobCode:d})})).apply(this,arguments)}function pt(g,d){return _o.apply(this,arguments)}function _o(){return(_o=(0,a.Z)(function*(g,d){const h=(0,N.m9)(g),y=yield ns(h,{oobCode:d}),D=y.requestType;switch(ae(D,h,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ae(y.newEmail,h,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ae(y.mfaInfo,h,"internal-error");default:ae(y.email,h,"internal-error")}let S=null;return y.mfaInfo&&(S=Ke._fromServerResponse(Te(h),y.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.newEmail:y.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.email:y.newEmail)||null,multiFactorInfo:S},operation:D}})).apply(this,arguments)}function Bi(){return(Bi=(0,a.Z)(function*(g,d){const{data:h}=yield pt((0,N.m9)(g),d);return h.email})).apply(this,arguments)}function Wn(){return(Wn=(0,a.Z)(function*(g,d,h){const y=Te(g),D=yield jl(y,{returnSecureToken:!0,email:d,password:h}),S=yield $n._fromIdTokenResponse(y,"signIn",D);return yield y._updateCurrentUser(S.user),S})).apply(this,arguments)}function Wl(){return(Wl=(0,a.Z)(function*(g,d,h){const y=(0,N.m9)(g),D={requestType:"EMAIL_SIGNIN",email:d};ae(h.handleCodeInApp,y,"argument-error"),h&&po(y,D,h),yield Ir(y,D)})).apply(this,arguments)}function Bs(){return(Bs=(0,a.Z)(function*(g,d,h){const y=(0,N.m9)(g),D=uo.credentialWithLink(d,h||rt());return ae(D._tenantId===(y.tenantId||null),y,"tenant-id-mismatch"),na(y,D)})).apply(this,arguments)}function mn(g,d){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,a.Z)(function*(g,d){return mt(g,"POST","/v1/accounts:createAuthUri",Tt(g,d))})).apply(this,arguments)}function Br(){return(Br=(0,a.Z)(function*(g,d){const y={identifier:d,continueUri:wt()?rt():"http://localhost"},{signinMethods:D}=yield mn((0,N.m9)(g),y);return D||[]})).apply(this,arguments)}function Co(){return(Co=(0,a.Z)(function*(g,d){const h=(0,N.m9)(g),D={requestType:"VERIFY_EMAIL",idToken:yield g.getIdToken()};d&&po(h.auth,D,d);const{email:S}=yield an(h.auth,D);S!==g.email&&(yield g.reload())})).apply(this,arguments)}function Eo(){return(Eo=(0,a.Z)(function*(g,d,h){const y=(0,N.m9)(g),S={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield g.getIdToken(),newEmail:d};h&&po(y.auth,S,h);const{email:G}=yield Pl(y.auth,S);G!==g.email&&(yield g.reload())})).apply(this,arguments)}function Kl(g,d){return ls.apply(this,arguments)}function ls(){return(ls=(0,a.Z)(function*(g,d){return mt(g,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function wo(){return(wo=(0,a.Z)(function*(g,{displayName:d,photoURL:h}){if(void 0===d&&void 0===h)return;const y=(0,N.m9)(g),S={idToken:yield y.getIdToken(),displayName:d,photoUrl:h,returnSecureToken:!0},G=yield wr(y,Kl(y.auth,S));y.displayName=G.displayName||null,y.photoURL=G.photoUrl||null;const ie=y.providerData.find(({providerId:Ne})=>"password"===Ne);ie&&(ie.displayName=y.displayName,ie.photoURL=y.photoURL),yield y._updateTokensIfNecessary(G)})).apply(this,arguments)}function ra(g,d,h){return us.apply(this,arguments)}function us(){return(us=(0,a.Z)(function*(g,d,h){const{auth:y}=g,S={idToken:yield g.getIdToken(),returnSecureToken:!0};d&&(S.email=d),h&&(S.password=h);const G=yield wr(g,ot(y,S));yield g._updateTokensIfNecessary(G,!0)})).apply(this,arguments)}class cs{constructor(d,h,y={}){this.isNewUser=d,this.providerId=h,this.profile=y}}class Yl extends cs{constructor(d,h,y,D){super(d,h,y),this.username=D}}class Ju extends cs{constructor(d,h){super(d,"facebook.com",h)}}class Us extends Yl{constructor(d,h){super(d,"github.com",h,"string"==typeof(null==h?void 0:h.login)?null==h?void 0:h.login:null)}}class Ur extends cs{constructor(d,h){super(d,"google.com",h)}}class Xu extends Yl{constructor(d,h,y){super(d,"twitter.com",h,y)}}function wn(g){const{user:d,_tokenResponse:h}=g;return d.isAnonymous&&!h?{providerId:null,isNewUser:!1,profile:null}:function el(g){var d,h;if(!g)return null;const{providerId:y}=g,D=g.rawUserInfo?JSON.parse(g.rawUserInfo):{},S=g.isNewUser||"identitytoolkit#SignupNewUserResponse"===g.kind;if(!y&&(null==g?void 0:g.idToken)){const G=null===(h=null===(d=je(g.idToken))||void 0===d?void 0:d.firebase)||void 0===h?void 0:h.sign_in_provider;if(G)return new cs(S,"anonymous"!==G&&"custom"!==G?G:null)}if(!y)return null;switch(y){case"facebook.com":return new Ju(S,D);case"github.com":return new Us(S,D);case"google.com":return new Ur(S,D);case"twitter.com":return new Xu(S,D,g.screenName||null);case"custom":case"anonymous":return new cs(S,null);default:return new cs(S,y,D)}}(h)}class di{constructor(d,h){this.type=d,this.credential=h}static _fromIdtoken(d){return new di("enroll",d)}static _fromMfaPendingCredential(d){return new di("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var h,y;if(null==d?void 0:d.multiFactorSession){if(null===(h=d.multiFactorSession)||void 0===h?void 0:h.pendingCredential)return di._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null===(y=d.multiFactorSession)||void 0===y?void 0:y.idToken)return di._fromIdtoken(d.multiFactorSession.idToken)}return null}}class Io{constructor(d,h,y){this.session=d,this.hints=h,this.signInResolver=y}static _fromError(d,h){const y=Te(d),D=h.customData._serverResponse,S=(D.mfaInfo||[]).map(ie=>Ke._fromServerResponse(y,ie));ae(D.mfaPendingCredential,y,"internal-error");const G=di._fromMfaPendingCredential(D.mfaPendingCredential);return new Io(G,S,function(){var ie=(0,a.Z)(function*(Ne){const Ue=yield Ne._process(y,G);delete D.mfaInfo,delete D.mfaPendingCredential;const nt=Object.assign(Object.assign({},D),{idToken:Ue.idToken,refreshToken:Ue.refreshToken});switch(h.operationType){case"signIn":const We=yield $n._fromIdTokenResponse(y,h.operationType,nt);return yield y._updateCurrentUser(We.user),We;case"reauthenticate":return ae(h.user,y,"internal-error"),$n._forOperation(h.user,h.operationType,nt);default:se(y,"internal-error")}});return function(Ne){return ie.apply(this,arguments)}}())}resolveSignIn(d){var h=this;return(0,a.Z)(function*(){return h.signInResolver(d)})()}}function ia(g,d){return mt(g,"POST","/v2/accounts/mfaEnrollment:start",Tt(g,d))}class fi{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(h=>{h.mfaInfo&&(this.enrolledFactors=h.mfaInfo.map(y=>Ke._fromServerResponse(d.auth,y)))})}static _fromUser(d){return new fi(d)}getSession(){var d=this;return(0,a.Z)(function*(){return di._fromIdtoken(yield d.user.getIdToken())})()}enroll(d,h){var y=this;return(0,a.Z)(function*(){const D=d,S=yield y.getSession(),G=yield wr(y.user,D._process(y.user.auth,S,h));return yield y.user._updateTokensIfNecessary(G),y.user.reload()})()}unenroll(d){var h=this;return(0,a.Z)(function*(){const y="string"==typeof d?d:d.uid,D=yield h.user.getIdToken(),S=yield wr(h.user,function tc(g,d){return mt(g,"POST","/v2/accounts/mfaEnrollment:withdraw",Tt(g,d))}(h.user.auth,{idToken:D,mfaEnrollmentId:y}));h.enrolledFactors=h.enrolledFactors.filter(({uid:G})=>G!==y),yield h.user._updateTokensIfNecessary(S);try{yield h.user.reload()}catch(G){if("auth/user-token-expired"!==G.code)throw G}})()}}const Hs=new WeakMap,Do="__sak";class bo{constructor(d,h){this.storageRetriever=d,this.type=h}_isAvailable(){try{return this.storage?(this.storage.setItem(Do,"1"),this.storage.removeItem(Do),Promise.resolve(!0)):Promise.resolve(!1)}catch(d){return Promise.resolve(!1)}}_set(d,h){return this.storage.setItem(d,JSON.stringify(h)),Promise.resolve()}_get(d){const h=this.storage.getItem(d);return Promise.resolve(h?JSON.parse(h):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const or=(()=>{class g extends bo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(h,y)=>this.onStorageEvent(h,y),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function sa(){const g=(0,N.z$)();return Qo(g)||rr(g)}()&&function kn(){try{return!(!window||window===window.top)}catch(g){return!1}}(),this.fallbackToPolling=Ni(),this._shouldAllowMigration=!0}forAllChangedKeys(h){for(const y of Object.keys(this.listeners)){const D=this.storage.getItem(y),S=this.localCache[y];D!==S&&h(y,S,D)}}onStorageEvent(h,y=!1){if(!h.key)return void this.forAllChangedKeys((ie,Ne,Ue)=>{this.notifyListeners(ie,Ue)});const D=h.key;if(y?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ie=this.storage.getItem(D);if(h.newValue!==ie)null!==h.newValue?this.storage.setItem(D,h.newValue):this.storage.removeItem(D);else if(this.localCache[D]===h.newValue&&!y)return}const S=()=>{const ie=this.storage.getItem(D);!y&&this.localCache[D]===ie||this.notifyListeners(D,ie)},G=this.storage.getItem(D);!function ao(){return(0,N.w1)()&&10===document.documentMode}()||G===h.newValue||h.newValue===h.oldValue?S():setTimeout(S,10)}notifyListeners(h,y){this.localCache[h]=y;const D=this.listeners[h];if(D)for(const S of Array.from(D))S(y&&JSON.parse(y))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((h,y,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:h,oldValue:y,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(h,y){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[h]||(this.listeners[h]=new Set,this.localCache[h]=this.storage.getItem(h)),this.listeners[h].add(y)}_removeListener(h,y){this.listeners[h]&&(this.listeners[h].delete(y),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(h,y){var D=()=>super._set,S=this;return(0,a.Z)(function*(){yield D().call(S,h,y),S.localCache[h]=JSON.stringify(y)})()}_get(h){var y=()=>super._get,D=this;return(0,a.Z)(function*(){const S=yield y().call(D,h);return D.localCache[h]=JSON.stringify(S),S})()}_remove(h){var y=()=>super._remove,D=this;return(0,a.Z)(function*(){yield y().call(D,h),delete D.localCache[h]})()}}return g.type="LOCAL",g})(),_r=(()=>{class g extends bo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(h,y){}_removeListener(h,y){}}return g.type="SESSION",g})();let ds=(()=>{class g{constructor(h){this.eventTarget=h,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(h){const y=this.receivers.find(S=>S.isListeningto(h));if(y)return y;const D=new g(h);return this.receivers.push(D),D}isListeningto(h){return this.eventTarget===h}handleEvent(h){var y=this;return(0,a.Z)(function*(){const D=h,{eventId:S,eventType:G,data:ie}=D.data,Ne=y.handlersMap[G];if(!(null==Ne?void 0:Ne.size))return;D.ports[0].postMessage({status:"ack",eventId:S,eventType:G});const Ue=Array.from(Ne).map(function(){var We=(0,a.Z)(function*(Qt){return Qt(D.origin,ie)});return function(Qt){return We.apply(this,arguments)}}()),nt=yield function To(g){return Promise.all(g.map(function(){var d=(0,a.Z)(function*(h){try{return{fulfilled:!0,value:yield h}}catch(y){return{fulfilled:!1,reason:y}}});return function(h){return d.apply(this,arguments)}}()))}(Ue);D.ports[0].postMessage({status:"done",eventId:S,eventType:G,response:nt})})()}_subscribe(h,y){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[h]||(this.handlersMap[h]=new Set),this.handlersMap[h].add(y)}_unsubscribe(h,y){this.handlersMap[h]&&y&&this.handlersMap[h].delete(y),(!y||0===this.handlersMap[h].size)&&delete this.handlersMap[h],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return g.receivers=[],g})();function br(g="",d=10){let h="";for(let y=0;y<d;y++)h+=Math.floor(10*Math.random());return g+h}class oa{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,h,y=50){var D=this;return(0,a.Z)(function*(){const S="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!S)throw new Error("connection_unavailable");let G,ie;return new Promise((Ne,Ue)=>{const nt=br("",20);S.port1.start();const We=setTimeout(()=>{Ue(new Error("unsupported_event"))},y);ie={messageChannel:S,onMessage(Qt){const Jt=Qt;if(Jt.data.eventId===nt)switch(Jt.data.status){case"ack":clearTimeout(We),G=setTimeout(()=>{Ue(new Error("timeout"))},3e3);break;case"done":clearTimeout(G),Ne(Jt.data.response);break;default:clearTimeout(We),clearTimeout(G),Ue(new Error("invalid_response"))}}},D.handlers.add(ie),S.port1.addEventListener("message",ie.onMessage),D.target.postMessage({eventType:d,eventId:nt,data:h},[S.port2])}).finally(()=>{ie&&D.removeMessageHandler(ie)})})()}}function _t(){return window}function Hr(){return void 0!==_t().WorkerGlobalScope&&"function"==typeof _t().importScripts}function Dn(){return(Dn=(0,a.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(g){return null}})).apply(this,arguments)}const la="firebaseLocalStorageDb",ua="firebaseLocalStorage",Ui="fbase_key";class fs{constructor(d){this.request=d}toPromise(){return new Promise((d,h)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{h(this.request.error)})})}}function Hi(g,d){return g.transaction([ua],d?"readwrite":"readonly").objectStore(ua)}function Ft(){const g=indexedDB.open(la,1);return new Promise((d,h)=>{g.addEventListener("error",()=>{h(g.error)}),g.addEventListener("upgradeneeded",()=>{const y=g.result;try{y.createObjectStore(ua,{keyPath:Ui})}catch(D){h(D)}}),g.addEventListener("success",(0,a.Z)(function*(){const y=g.result;y.objectStoreNames.contains(ua)?d(y):(y.close(),yield function ca(){const g=indexedDB.deleteDatabase(la);return new fs(g).toPromise()}(),d(yield Ft()))}))})}function Xl(g,d,h){return js.apply(this,arguments)}function js(){return(js=(0,a.Z)(function*(g,d,h){const y=Hi(g,!0).put({[Ui]:d,value:h});return new fs(y).toPromise()})).apply(this,arguments)}function Ar(){return(Ar=(0,a.Z)(function*(g,d){const h=Hi(g,!1).get(d),y=yield new fs(h).toPromise();return void 0===y?null:y.value})).apply(this,arguments)}function Zr(g,d){const h=Hi(g,!0).delete(d);return new fs(h).toPromise()}const Mr=(()=>{class g{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var h=this;return(0,a.Z)(function*(){return h.db||(h.db=yield Ft()),h.db})()}_withRetries(h){var y=this;return(0,a.Z)(function*(){let D=0;for(;;)try{const S=yield y._openDb();return yield h(S)}catch(S){if(D++>3)throw S;y.db&&(y.db.close(),y.db=void 0)}})()}initializeServiceWorkerMessaging(){var h=this;return(0,a.Z)(function*(){return Hr()?h.initializeReceiver():h.initializeSender()})()}initializeReceiver(){var h=this;return(0,a.Z)(function*(){h.receiver=ds._getInstance(function Jl(){return Hr()?self:null}()),h.receiver._subscribe("keyChanged",function(){var y=(0,a.Z)(function*(D,S){return{keyProcessed:(yield h._poll()).includes(S.key)}});return function(D,S){return y.apply(this,arguments)}}()),h.receiver._subscribe("ping",function(){var y=(0,a.Z)(function*(D,S){return["keyChanged"]});return function(D,S){return y.apply(this,arguments)}}())})()}initializeSender(){var h=this;return(0,a.Z)(function*(){var y,D;if(h.activeServiceWorker=yield function yr(){return Dn.apply(this,arguments)}(),!h.activeServiceWorker)return;h.sender=new oa(h.activeServiceWorker);const S=yield h.sender._send("ping",{},800);!S||(null===(y=S[0])||void 0===y?void 0:y.fulfilled)&&(null===(D=S[0])||void 0===D?void 0:D.value.includes("keyChanged"))&&(h.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(h){var y=this;return(0,a.Z)(function*(){if(y.sender&&y.activeServiceWorker&&function jr(){var g;return(null===(g=null==navigator?void 0:navigator.serviceWorker)||void 0===g?void 0:g.controller)||null}()===y.activeServiceWorker)try{yield y.sender._send("keyChanged",{key:h},y.serviceWorkerReceiverAvailable?800:50)}catch(D){}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const h=yield Ft();return yield Xl(h,Do,"1"),yield Zr(h,Do),!0}catch(h){}return!1})()}_withPendingWrite(h){var y=this;return(0,a.Z)(function*(){y.pendingWrites++;try{yield h()}finally{y.pendingWrites--}})()}_set(h,y){var D=this;return(0,a.Z)(function*(){return D._withPendingWrite((0,a.Z)(function*(){return yield D._withRetries(S=>Xl(S,h,y)),D.localCache[h]=y,D.notifyServiceWorker(h)}))})()}_get(h){var y=this;return(0,a.Z)(function*(){const D=yield y._withRetries(S=>function Tr(g,d){return Ar.apply(this,arguments)}(S,h));return y.localCache[h]=D,D})()}_remove(h){var y=this;return(0,a.Z)(function*(){return y._withPendingWrite((0,a.Z)(function*(){return yield y._withRetries(D=>Zr(D,h)),delete y.localCache[h],y.notifyServiceWorker(h)}))})()}_poll(){var h=this;return(0,a.Z)(function*(){const y=yield h._withRetries(G=>{const ie=Hi(G,!1).getAll();return new fs(ie).toPromise()});if(!y)return[];if(0!==h.pendingWrites)return[];const D=[],S=new Set;for(const{fbase_key:G,value:ie}of y)S.add(G),JSON.stringify(h.localCache[G])!==JSON.stringify(ie)&&(h.notifyListeners(G,ie),D.push(G));for(const G of Object.keys(h.localCache))h.localCache[G]&&!S.has(G)&&(h.notifyListeners(G,null),D.push(G));return D})()}notifyListeners(h,y){this.localCache[h]=y;const D=this.listeners[h];if(D)for(const S of Array.from(D))S(y)}startPolling(){var h=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return h._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(h,y){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[h]||(this.listeners[h]=new Set,this._get(h)),this.listeners[h].add(y)}_removeListener(h,y){this.listeners[h]&&(this.listeners[h].delete(y),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return g.type="LOCAL",g})();function sl(g,d){return mt(g,"POST","/v2/accounts/mfaSignIn:start",Tt(g,d))}function ji(){return(ji=(0,a.Z)(function*(g){return(yield mt(g,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Gr(g){return new Promise((d,h)=>{const y=document.createElement("script");y.setAttribute("src",g),y.onload=d,y.onerror=D=>{const S=De("internal-error");S.customData=D,h(S)},y.type="text/javascript",y.charset="UTF-8",function Ao(){var g,d;return null!==(d=null===(g=document.getElementsByTagName("head"))||void 0===g?void 0:g[0])&&void 0!==d?d:document}().appendChild(y)})}function Zi(g){return`__${g}${Math.floor(1e6*Math.random())}`}const $r=1e12;class Gi{constructor(d){this.auth=d,this.counter=$r,this._widgets=new Map}render(d,h){const y=this.counter;return this._widgets.set(y,new $i(d,this.auth.name,h||{})),this.counter++,y}reset(d){var h;const y=d||$r;null===(h=this._widgets.get(y))||void 0===h||h.delete(),this._widgets.delete(y)}getResponse(d){var h;return(null===(h=this._widgets.get(d||$r))||void 0===h?void 0:h.getResponse())||""}execute(d){var h=this;return(0,a.Z)(function*(){var y;return null===(y=h._widgets.get(d||$r))||void 0===y||y.execute(),""})()}}class $i{constructor(d,h,y){this.params=y,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof d?document.getElementById(d):d;ae(D,"argument-error",{appName:h}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function hs(g){const d=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<g;y++)d.push(h.charAt(Math.floor(Math.random()*h.length)));return d.join("")}(50);const{callback:d,"expired-callback":h}=this.params;if(d)try{d(this.responseToken)}catch(y){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,h)try{h()}catch(y){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const al=Zi("rcb"),nn=new dn(3e4,6e4);class rc{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!_t().grecaptcha}load(d,h=""){return ae(function Wi(g){return g.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(g)}(h),d,"argument-error"),this.shouldResolveImmediately(h)?Promise.resolve(_t().grecaptcha):new Promise((y,D)=>{const S=_t().setTimeout(()=>{D(De(d,"network-request-failed"))},nn.get());_t()[al]=()=>{_t().clearTimeout(S),delete _t()[al];const ie=_t().grecaptcha;if(!ie)return void D(De(d,"internal-error"));const Ne=ie.render;ie.render=(Ue,nt)=>{const We=Ne(Ue,nt);return this.counter++,We},this.hostLanguage=h,y(ie)},Gr(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:al,render:"explicit",hl:h})}`).catch(()=>{clearTimeout(S),D(De(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){return!!_t().grecaptcha&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ar{load(d){return(0,a.Z)(function*(){return new Gi(d)})()}clearedOneInstance(){}}const ic="recaptcha",fa={theme:"light",type:"image"};class sc{constructor(d,h=Object.assign({},fa),y){this.parameters=h,this.type=ic,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Te(y),this.isInvisible="invisible"===this.parameters.size,ae("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof d?document.getElementById(d):d;ae(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ar:new rc,this.validateStartingState()}verify(){var d=this;return(0,a.Z)(function*(){d.assertNotDestroyed();const h=yield d.render(),y=d.getAssertedRecaptcha();return y.getResponse(h)||new Promise(S=>{const G=ie=>{!ie||(d.tokenChangeListeners.delete(G),S(ie))};d.tokenChangeListeners.add(G),d.isInvisible&&y.execute(h)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){ae(!this.parameters.sitekey,this.auth,"argument-error"),ae(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ae("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return h=>{if(this.tokenChangeListeners.forEach(y=>y(h)),"function"==typeof d)d(h);else if("string"==typeof d){const y=_t()[d];"function"==typeof y&&y(h)}}}assertNotDestroyed(){ae(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,a.Z)(function*(){if(yield d.init(),!d.widgetId){let h=d.container;if(!d.isInvisible){const y=document.createElement("div");h.appendChild(y),h=y}d.widgetId=d.getAssertedRecaptcha().render(h,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,a.Z)(function*(){ae(wt()&&!Hr(),d.auth,"internal-error"),yield function zi(){let g=null;return new Promise(d=>{"complete"!==document.readyState?(g=()=>d(),window.addEventListener("load",g)):d()}).catch(d=>{throw g&&window.removeEventListener("load",g),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const h=yield function da(g){return ji.apply(this,arguments)}(d.auth);ae(h,d.auth,"internal-error"),d.parameters.sitekey=h})()}getAssertedRecaptcha(){return ae(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Nn{constructor(d,h){this.verificationId=d,this.onConfirmation=h}confirm(d){const h=Os._fromVerification(this.verificationId,d);return this.onConfirmation(h)}}function Kt(){return(Kt=(0,a.Z)(function*(g,d,h){const y=Te(g),D=yield Rn(y,d,(0,N.m9)(h));return new Nn(D,S=>na(y,S))})).apply(this,arguments)}function pi(){return(pi=(0,a.Z)(function*(g,d,h){const y=(0,N.m9)(g);yield Fi(!1,y,"phone");const D=yield Rn(y.auth,d,(0,N.m9)(h));return new Nn(D,S=>li(y,S))})).apply(this,arguments)}function rn(){return(rn=(0,a.Z)(function*(g,d,h){const y=(0,N.m9)(g),D=yield Rn(y.auth,d,(0,N.m9)(h));return new Nn(D,S=>Vs(y,S))})).apply(this,arguments)}function Rn(g,d,h){return vr.apply(this,arguments)}function vr(){return(vr=(0,a.Z)(function*(g,d,h){var y;const D=yield h.verify();try{let S;if(ae("string"==typeof D,g,"argument-error"),ae(h.type===ic,g,"argument-error"),S="string"==typeof d?{phoneNumber:d}:d,"session"in S){const G=S.session;if("phoneNumber"in S)return ae("enroll"===G.type,g,"internal-error"),(yield ia(g,{idToken:G.credential,phoneEnrollmentInfo:{phoneNumber:S.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{ae("signin"===G.type,g,"internal-error");const ie=(null===(y=S.multiFactorHint)||void 0===y?void 0:y.uid)||S.multiFactorUid;return ae(ie,g,"missing-multi-factor-info"),(yield sl(g,{mfaPendingCredential:G.credential,mfaEnrollmentId:ie,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:G}=yield Rd(g,{phoneNumber:S.phoneNumber,recaptchaToken:D});return G}}finally{h._reset()}})).apply(this,arguments)}function $s(){return($s=(0,a.Z)(function*(g,d){yield Ot((0,N.m9)(g),d)})).apply(this,arguments)}let gi=(()=>{class g{constructor(h){this.providerId=g.PROVIDER_ID,this.auth=Te(h)}verifyPhoneNumber(h,y){return Rn(this.auth,h,(0,N.m9)(y))}static credential(h,y){return Os._fromVerification(h,y)}static credentialFromResult(h){return g.credentialFromTaggedObject(h)}static credentialFromError(h){return g.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{phoneNumber:y,temporaryProof:D}=h;return y&&D?Os._fromTokenResponse(y,D):null}}return g.PROVIDER_ID="phone",g.PHONE_SIGN_IN_METHOD="phone",g})();function mi(g,d){return d?X(d):(ae(g._popupRedirectResolver,g,"argument-error"),g._popupRedirectResolver)}class Mo extends It{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return ln(d,this._buildIdpRequest())}_linkToIdToken(d,h){return ln(d,this._buildIdpRequest(h))}_getReauthenticationResolver(d){return ln(d,this._buildIdpRequest())}_buildIdpRequest(d){const h={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(h.idToken=d),h}}function ha(g){return as(g.auth,new Mo(g),g.bypassAuthState)}function Ws(g){const{auth:d,user:h}=g;return ae(h,d,"internal-error"),ta(h,new Mo(g),g.bypassAuthState)}function tu(g){return _i.apply(this,arguments)}function _i(){return(_i=(0,a.Z)(function*(g){const{auth:d,user:h}=g;return ae(h,d,"internal-error"),Ot(h,new Mo(g),g.bypassAuthState)})).apply(this,arguments)}class Pn{constructor(d,h,y,D,S=!1){this.auth=d,this.resolver=y,this.user=D,this.bypassAuthState=S,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(h)?h:[h]}execute(){var d=this;return new Promise(function(){var h=(0,a.Z)(function*(y,D){d.pendingPromise={resolve:y,reject:D};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(S){d.reject(S)}});return function(y,D){return h.apply(this,arguments)}}())}onAuthEvent(d){var h=this;return(0,a.Z)(function*(){const{urlResponse:y,sessionId:D,postBody:S,tenantId:G,error:ie,type:Ne}=d;if(ie)return void h.reject(ie);const Ue={auth:h.auth,requestUri:y,sessionId:D,tenantId:G||void 0,postBody:S||void 0,user:h.user,bypassAuthState:h.bypassAuthState};try{h.resolve(yield h.getIdpTask(Ne)(Ue))}catch(nt){h.reject(nt)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return ha;case"linkViaPopup":case"linkViaRedirect":return tu;case"reauthViaPopup":case"reauthViaRedirect":return Ws;default:se(this.auth,"internal-error")}}resolve(d){ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const pa=new dn(2e3,1e4);function gs(){return(gs=(0,a.Z)(function*(g,d,h){const y=Te(g);Be(g,d,Oi);const D=mi(y,h);return new ma(y,"signInViaPopup",d,D).executeNotNull()})).apply(this,arguments)}function ll(){return(ll=(0,a.Z)(function*(g,d,h){const y=(0,N.m9)(g);Be(y.auth,d,Oi);const D=mi(y.auth,h);return new ma(y.auth,"reauthViaPopup",d,D,y).executeNotNull()})).apply(this,arguments)}function ga(){return(ga=(0,a.Z)(function*(g,d,h){const y=(0,N.m9)(g);Be(y.auth,d,Oi);const D=mi(y.auth,h);return new ma(y.auth,"linkViaPopup",d,D,y).executeNotNull()})).apply(this,arguments)}let ma=(()=>{class g extends Pn{constructor(h,y,D,S,G){super(h,y,S,G),this.provider=D,this.authWindow=null,this.pollId=null,g.currentPopupAction&&g.currentPopupAction.cancel(),g.currentPopupAction=this}executeNotNull(){var h=this;return(0,a.Z)(function*(){const y=yield h.execute();return ae(y,h.auth,"internal-error"),y})()}onExecution(){var h=this;return(0,a.Z)(function*(){ee(1===h.filter.length,"Popup operations only handle one event");const y=br();h.authWindow=yield h.resolver._openPopup(h.auth,h.provider,h.filter[0],y),h.authWindow.associatedEvent=y,h.resolver._originValidation(h.auth).catch(D=>{h.reject(D)}),h.resolver._isIframeWebStorageSupported(h.auth,D=>{D||h.reject(De(h.auth,"web-storage-unsupported"))}),h.pollUserCancellation()})()}get eventId(){var h;return(null===(h=this.authWindow)||void 0===h?void 0:h.associatedEvent)||null}cancel(){this.reject(De(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,g.currentPopupAction=null}pollUserCancellation(){const h=()=>{var y,D;this.pollId=(null===(D=null===(y=this.authWindow)||void 0===y?void 0:y.window)||void 0===D?void 0:D.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(De(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(h,pa.get())};h()}}return g.currentPopupAction=null,g})();const zs=new Map;class So extends Pn{constructor(d,h,y=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],h,void 0,y),this.eventId=null}execute(){var d=()=>super.execute,h=this;return(0,a.Z)(function*(){let y=zs.get(h.auth._key());if(!y){try{const S=(yield function xo(g,d){return yi.apply(this,arguments)}(h.resolver,h.auth))?yield d().call(h):null;y=()=>Promise.resolve(S)}catch(D){y=()=>Promise.reject(D)}zs.set(h.auth._key(),y)}return h.bypassAuthState||zs.set(h.auth._key(),()=>Promise.resolve(null)),y()})()}onAuthEvent(d){var h=()=>super.onAuthEvent,y=this;return(0,a.Z)(function*(){if("signInViaRedirect"===d.type)return h().call(y,d);if("unknown"!==d.type){if(d.eventId){const D=yield y.auth._redirectUserForId(d.eventId);if(D)return y.user=D,h().call(y,d);y.resolve(null)}}else y.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function yi(){return(yi=(0,a.Z)(function*(g,d){const h=ko(d),y=ac(g);if(!(yield y._isAvailable()))return!1;const D="true"===(yield y._get(h));return yield y._remove(h),D})).apply(this,arguments)}function vi(g,d){return xr.apply(this,arguments)}function xr(){return(xr=(0,a.Z)(function*(g,d){return ac(g)._set(ko(d),"true")})).apply(this,arguments)}function ac(g){return X(g._redirectPersistence)}function ko(g){return hn("pendingRedirect",g.config.apiKey,g.name)}function ru(){return(ru=(0,a.Z)(function*(g,d,h){const y=Te(g);Be(g,d,Oi);const D=mi(y,h);return yield vi(D,y),D._openRedirect(y,d,"signInViaRedirect")})).apply(this,arguments)}function M(){return(M=(0,a.Z)(function*(g,d,h){const y=(0,N.m9)(g);Be(y.auth,d,Oi);const D=mi(y.auth,h);yield vi(D,y.auth);const S=yield Nt(y);return D._openRedirect(y.auth,d,"reauthViaRedirect",S)})).apply(this,arguments)}function re(){return(re=(0,a.Z)(function*(g,d,h){const y=(0,N.m9)(g);Be(y.auth,d,Oi);const D=mi(y.auth,h);yield Fi(!1,y,d.providerId),yield vi(D,y.auth);const S=yield Nt(y);return D._openRedirect(y.auth,d,"linkViaRedirect",S)})).apply(this,arguments)}function Pe(){return(Pe=(0,a.Z)(function*(g,d){return yield Te(g)._initializationPromise,ke(g,d,!1)})).apply(this,arguments)}function ke(g,d){return tt.apply(this,arguments)}function tt(){return(tt=(0,a.Z)(function*(g,d,h=!1){const y=Te(g),D=mi(y,d),G=yield new So(y,D,h).execute();return G&&!h&&(delete G.user._redirectEventId,yield y._persistUserIfCurrent(G.user),yield y._setRedirectUser(null,d)),G})).apply(this,arguments)}function Nt(g){return _n.apply(this,arguments)}function _n(){return(_n=(0,a.Z)(function*(g){const d=br(`${g.uid}:::`);return g._redirectEventId=d,yield g.auth._setRedirectUser(g),yield g.auth._persistUserIfCurrent(g),d})).apply(this,arguments)}class sn{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let h=!1;return this.consumers.forEach(y=>{this.isEventForConsumer(d,y)&&(h=!0,this.sendToConsumer(d,y),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function qs(g){switch(g.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return va(g);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,h||(this.queuedRedirectEvent=d,h=!0)),h}sendToConsumer(d,h){var y;if(d.error&&!va(d)){const D=(null===(y=d.error.code)||void 0===y?void 0:y.split("auth/")[1])||"internal-error";h.onError(De(this.auth,D))}else h.onAuthEvent(d)}isEventForConsumer(d,h){const y=null===h.eventId||!!d.eventId&&d.eventId===h.eventId;return h.filter.includes(d.type)&&y}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wr(d))}saveEventToCache(d){this.cachedEventUids.add(Wr(d)),this.lastProcessedEventTime=Date.now()}}function Wr(g){return[g.type,g.eventId,g.sessionId,g.tenantId].filter(d=>d).join("-")}function va({type:g,error:d}){return"unknown"===g&&"auth/no-auth-event"===(null==d?void 0:d.code)}function zr(g){return On.apply(this,arguments)}function On(){return(On=(0,a.Z)(function*(g,d={}){return mt(g,"GET","/v1/projects",d)})).apply(this,arguments)}const No=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fh=/^https?/;function qr(){return(qr=(0,a.Z)(function*(g){if(g.config.emulator)return;const{authorizedDomains:d}=yield zr(g);for(const h of d)try{if(_s(h))return}catch(y){}se(g,"unauthorized-domain")})).apply(this,arguments)}function _s(g){const d=rt(),{protocol:h,hostname:y}=new URL(d);if(g.startsWith("chrome-extension://")){const G=new URL(g);return""===G.hostname&&""===y?"chrome-extension:"===h&&g.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===h&&G.hostname===y}if(!Fh.test(h))return!1;if(No.test(g))return y===g;const D=g.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(y)}const lc=new dn(3e4,6e4);function Vh(){const g=_t().___jsl;if(null==g?void 0:g.H)for(const d of Object.keys(g.H))if(g.H[d].r=g.H[d].r||[],g.H[d].L=g.H[d].L||[],g.H[d].r=[...g.H[d].L],g.CP)for(let h=0;h<g.CP.length;h++)g.CP[h]=null}let iu=null;function um(g){return iu=iu||function Gd(g){return new Promise((d,h)=>{var y,D,S;function G(){Vh(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{Vh(),h(De(g,"network-request-failed"))},timeout:lc.get()})}if(null===(D=null===(y=_t().gapi)||void 0===y?void 0:y.iframes)||void 0===D?void 0:D.Iframe)d(gapi.iframes.getContext());else{if(!(null===(S=_t().gapi)||void 0===S?void 0:S.load)){const ie=Zi("iframefcb");return _t()[ie]=()=>{gapi.load?G():h(De(g,"network-request-failed"))},Gr(`https://apis.google.com/js/api.js?onload=${ie}`).catch(Ne=>h(Ne))}G()}}).catch(d=>{throw iu=null,d})}(g),iu}const uc=new dn(5e3,15e3),cl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ro(g){const d=g.config;ae(d.authDomain,g,"auth-domain-config-required");const h=d.emulator?xt(d,"emulator/auth/iframe"):`https://${g.config.authDomain}/__/auth/iframe`,y={apiKey:d.apiKey,appName:g.name,v:ue.SDK_VERSION},D=cc.get(g.config.apiHost);D&&(y.eid=D);const S=g._getFrameworks();return S.length&&(y.fw=S.join(",")),`${h}?${(0,N.xO)(y).slice(1)}`}function su(){return su=(0,a.Z)(function*(g){const d=yield um(g),h=_t().gapi;return ae(h,g,"internal-error"),d.open({where:document.body,url:Ro(g),messageHandlersFilter:h.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cl,dontclear:!0},y=>new Promise(function(){var D=(0,a.Z)(function*(S,G){yield y.restyle({setHideOnLeave:!1});const ie=De(g,"network-request-failed"),Ne=_t().setTimeout(()=>{G(ie)},uc.get());function Ue(){_t().clearTimeout(Ne),S(y)}y.ping(Ue).then(Ue,()=>{G(ie)})});return function(S,G){return D.apply(this,arguments)}}()))}),su.apply(this,arguments)}const Uh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ca{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(d){}}}function lt(g,d,h,y,D,S){ae(g.config.authDomain,g,"auth-domain-config-required"),ae(g.config.apiKey,g,"invalid-api-key");const G={apiKey:g.config.apiKey,appName:g.name,authType:h,redirectUrl:y,v:ue.SDK_VERSION,eventId:D};if(d instanceof Oi){d.setDefaultLanguage(g.languageCode),G.providerId=d.providerId||"",(0,N.xb)(d.getCustomParameters())||(G.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Ne,Ue]of Object.entries(S||{}))G[Ne]=Ue}if(d instanceof gr){const Ne=d.getScopes().filter(Ue=>""!==Ue);Ne.length>0&&(G.scopes=Ne.join(","))}g.tenantId&&(G.tid=g.tenantId);const ie=G;for(const Ne of Object.keys(ie))void 0===ie[Ne]&&delete ie[Ne];return`${function Ks({config:g}){return g.emulator?xt(g,"emulator/auth/handler"):`https://${g.authDomain}/__/auth/handler`}(g)}?${(0,N.xO)(ie).slice(1)}`}const yt="webStorageSupport";class pc extends class lu{constructor(d){this.factorId=d}_process(d,h,y){switch(h.type){case"enroll":return this._finalizeEnroll(d,h.credential,y);case"signin":return this._finalizeSignIn(d,h.credential);default:return z("unexpected MultiFactorSessionType")}}}{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new pc(d)}_finalizeEnroll(d,h,y){return function In(g,d){return mt(g,"POST","/v2/accounts/mfaEnrollment:finalize",Tt(g,d))}(d,{idToken:h,displayName:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,h){return function ol(g,d){return mt(g,"POST","/v2/accounts/mfaSignIn:finalize",Tt(g,d))}(d,{mfaPendingCredential:h,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Yt=(()=>{class g{constructor(){}static assertion(h){return pc._fromCredential(h)}}return g.FACTOR_ID="phone",g})();var gt="@firebase/auth";class Kd{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var h=this;return(0,a.Z)(function*(){return h.assertAuthConfigured(),yield h.auth._initializationPromise,h.auth.currentUser?{accessToken:yield h.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const h=this.auth.onIdTokenChanged(y=>{var D;d((null===(D=y)||void 0===D?void 0:D.stsTokenManager.accessToken)||null)});this.internalListeners.set(d,h),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const h=this.internalListeners.get(d);!h||(this.internalListeners.delete(d),h(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Oo(){return window}function Yr(){return(Yr=(0,a.Z)(function*(g,d,h){var y;const{BuildInfo:D}=Oo();ee(d.sessionId,"AuthEvent did not contain a session ID");const S=yield fm(d.sessionId),G={};return rr()?G.ibi=D.packageName:Zn()?G.apn=D.packageName:se(g,"operation-not-supported-in-this-environment"),D.displayName&&(G.appDisplayName=D.displayName),G.sessionId=S,lt(g,h,d.type,void 0,null!==(y=d.eventId)&&void 0!==y?y:void 0,G)})).apply(this,arguments)}function zn(){return(zn=(0,a.Z)(function*(g){const{BuildInfo:d}=Oo(),h={};rr()?h.iosBundleId=d.packageName:Zn()?h.androidPackageName=d.packageName:se(g,"operation-not-supported-in-this-environment"),yield zr(g,h)})).apply(this,arguments)}function fl(){return(fl=(0,a.Z)(function*(g,d,h){const{cordova:y}=Oo();let D=()=>{};try{yield new Promise((S,G)=>{let ie=null;function Ne(){var We;S();const Qt=null===(We=y.plugins.browsertab)||void 0===We?void 0:We.close;"function"==typeof Qt&&Qt(),"function"==typeof(null==h?void 0:h.close)&&h.close()}function Ue(){ie||(ie=window.setTimeout(()=>{G(De(g,"redirect-cancelled-by-user"))},2e3))}function nt(){"visible"===(null==document?void 0:document.visibilityState)&&Ue()}d.addPassiveListener(Ne),document.addEventListener("resume",Ue,!1),Zn()&&document.addEventListener("visibilitychange",nt,!1),D=()=>{d.removePassiveListener(Ne),document.removeEventListener("resume",Ue,!1),document.removeEventListener("visibilitychange",nt,!1),ie&&window.clearTimeout(ie)}})}finally{D()}})).apply(this,arguments)}function fm(g){return Xd.apply(this,arguments)}function Xd(){return(Xd=(0,a.Z)(function*(g){const d=Hh(g),h=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(h)).map(D=>D.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Hh(g){if(ee(/[0-9a-zA-Z]+/.test(g),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(g);const d=new ArrayBuffer(g.length),h=new Uint8Array(d);for(let y=0;y<g.length;y++)h[y]=g.charCodeAt(y);return h}!function Kr(g){(0,ue._registerComponent)(new le.wA("auth",(d,{options:h})=>{const y=d.getProvider("app").getImmediate(),{apiKey:D,authDomain:S}=y.options;return(G=>{ae(D&&!D.includes(":"),"invalid-api-key",{appName:G.name}),ae(!(null==S?void 0:S.includes(":")),"argument-error",{appName:G.name});const ie={apiKey:D,authDomain:S,clientPlatform:g,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xs(g)},Ne=new ir(G,ie);return function te(g,d){const h=(null==d?void 0:d.persistence)||[],y=(Array.isArray(h)?h:[h]).map(X);(null==d?void 0:d.errorMap)&&g._updateErrorMap(d.errorMap),g._initializeWithPersistence(y,null==d?void 0:d.popupRedirectResolver)}(Ne,h),Ne})(y)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,h,y)=>{d.getProvider("auth-internal").initialize()})),(0,ue._registerComponent)(new le.wA("auth-internal",d=>{const h=Te(d.getProvider("auth").getImmediate());return new Kd(h)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ue.registerVersion)(gt,"0.19.8",function gc(g){switch(g){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(g)),(0,ue.registerVersion)(gt,"0.19.8","esm2017")}("Browser");class ft extends sn{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(h=>h(d)),super.onEvent(d)}initialized(){var d=this;return(0,a.Z)(function*(){yield d.initPromise})()}}function ef(g){return kr.apply(this,arguments)}function kr(){return(kr=(0,a.Z)(function*(g){const d=yield _c()._get(qn(g));return d&&(yield _c()._remove(qn(g))),d})).apply(this,arguments)}function Ci(){const g=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let h=0;h<20;h++){const y=Math.floor(Math.random()*d.length);g.push(d.charAt(y))}return g.join("")}function _c(){return X(or)}function qn(g){return hn("authEvent",g.config.apiKey,g.name)}function Ia(g){if(!(null==g?void 0:g.includes("?")))return{};const[d,...h]=g.split("?");return(0,N.zd)(h.join("?"))}function vc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:De("no-auth-event")}}function fu(){var g;return(null===(g=null==self?void 0:self.location)||void 0===g?void 0:g.protocol)||null}function Ut(g=(0,N.z$)()){return!("file:"!==fu()&&"ionic:"!==fu()||!g.toLowerCase().match(/iphone|ipad|ipod|android/))}function cn(){try{const g=self.localStorage,d=br();if(g)return g.setItem(d,"1"),g.removeItem(d),!function Fo(g=(0,N.z$)()){return function hm(){return(0,N.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Ec(g=(0,N.z$)()){return/Edge\/\d+/.test(g)}(g)}()||(0,N.hl)()}catch(g){return Nr()&&(0,N.hl)()}return!1}function Nr(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ys(){return(function Zh(){return"http:"===fu()||"https:"===fu()}()||(0,N.ru)()||Ut())&&!function Gh(){return(0,N.b$)()||(0,N.UG)()}()&&cn()&&!Nr()}function it(){return Ut()&&"undefined"!=typeof document}function Ei(){return(Ei=(0,a.Z)(function*(){return!!it()&&new Promise(g=>{const d=setTimeout(()=>{g(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),g(!0)})})})).apply(this,arguments)}const Ct={LOCAL:"local",NONE:"none",SESSION:"session"},Lo=ae,Ic="persistence";function vs(g){return hl.apply(this,arguments)}function hl(){return(hl=(0,a.Z)(function*(g){yield g._initializationPromise;const d=Tc(),h=hn(Ic,g.config.apiKey,g.name);d&&d.setItem(h,g._getPersistence())})).apply(this,arguments)}function Tc(){var g;try{return(null===(g=function wc(){return"undefined"!=typeof window?window:null}())||void 0===g?void 0:g.sessionStorage)||null}catch(d){return null}}const $h=ae;class wi{constructor(){this.browserResolver=X(class Po{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_r,this._completeRedirectFn=ke}_openPopup(d,h,y,D){var S=this;return(0,a.Z)(function*(){var G;ee(null===(G=S.eventManagers[d._key()])||void 0===G?void 0:G.manager,"_initialize() not called before _openPopup()");const ie=lt(d,h,y,rt(),D);return function hc(g,d,h,y=500,D=600){const S=Math.max((window.screen.availHeight-D)/2,0).toString(),G=Math.max((window.screen.availWidth-y)/2,0).toString();let ie="";const Ne=Object.assign(Object.assign({},Uh),{width:y.toString(),height:D.toString(),top:S,left:G}),Ue=(0,N.z$)().toLowerCase();h&&(ie=oo(Ue)?"_blank":h),so(Ue)&&(d=d||"http://localhost",Ne.scrollbars="yes");const nt=Object.entries(Ne).reduce((Qt,[Jt,Bo])=>`${Qt}${Jt}=${Bo},`,"");if(function ts(g=(0,N.z$)()){var d;return rr(g)&&!!(null===(d=window.navigator)||void 0===d?void 0:d.standalone)}(Ue)&&"_self"!==ie)return function zd(g,d){const h=document.createElement("a");h.href=g,h.target=d;const y=document.createEvent("MouseEvent");y.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),h.dispatchEvent(y)}(d||"",ie),new Ca(null);const We=window.open(d||"",ie,nt);ae(We,g,"popup-blocked");try{We.focus()}catch(Qt){}return new Ca(We)}(d,ie,br())})()}_openRedirect(d,h,y,D){var S=this;return(0,a.Z)(function*(){return yield S._originValidation(d),function aa(g){_t().location.href=g}(lt(d,h,y,rt(),D)),new Promise(()=>{})})()}_initialize(d){const h=d._key();if(this.eventManagers[h]){const{manager:D,promise:S}=this.eventManagers[h];return D?Promise.resolve(D):(ee(S,"If manager is not set, promise should be"),S)}const y=this.initAndGetManager(d);return this.eventManagers[h]={promise:y},y.catch(()=>{delete this.eventManagers[h]}),y}initAndGetManager(d){var h=this;return(0,a.Z)(function*(){const y=yield function Wd(g){return su.apply(this,arguments)}(d),D=new sn(d);return y.register("authEvent",S=>(ae(null==S?void 0:S.authEvent,d,"invalid-auth-event"),{status:D.onEvent(S.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),h.eventManagers[d._key()]={manager:D},h.iframes[d._key()]=y,D})()}_isIframeWebStorageSupported(d,h){this.iframes[d._key()].send(yt,{type:yt},D=>{var S;const G=null===(S=null==D?void 0:D[0])||void 0===S?void 0:S[yt];void 0!==G&&h(!!G),se(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const h=d._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function Lh(g){return qr.apply(this,arguments)}(d)),this.originValidationPromises[h]}get _shouldInitProactively(){return Ni()||Qo()||rr()}}),this.cordovaResolver=X(class nf{constructor(){this._redirectPersistence=_r,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ke}_initialize(d){var h=this;return(0,a.Z)(function*(){const y=d._key();let D=h.eventManagers.get(y);return D||(D=new ft(d),h.eventManagers.set(y,D),h.attachCallbackListeners(d,D)),D})()}_openPopup(d){se(d,"operation-not-supported-in-this-environment")}_openRedirect(d,h,y,D){var S=this;return(0,a.Z)(function*(){!function Jd(g){var d,h,y,D,S,G,ie,Ne,Ue,nt;const We=Oo();ae("function"==typeof(null===(d=null==We?void 0:We.universalLinks)||void 0===d?void 0:d.subscribe),g,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ae(void 0!==(null===(h=null==We?void 0:We.BuildInfo)||void 0===h?void 0:h.packageName),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ae("function"==typeof(null===(S=null===(D=null===(y=null==We?void 0:We.cordova)||void 0===y?void 0:y.plugins)||void 0===D?void 0:D.browsertab)||void 0===S?void 0:S.openUrl),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ae("function"==typeof(null===(Ne=null===(ie=null===(G=null==We?void 0:We.cordova)||void 0===G?void 0:G.plugins)||void 0===ie?void 0:ie.browsertab)||void 0===Ne?void 0:Ne.isAvailable),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ae("function"==typeof(null===(nt=null===(Ue=null==We?void 0:We.cordova)||void 0===Ue?void 0:Ue.InAppBrowser)||void 0===nt?void 0:nt.open),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const G=yield S._initialize(d);yield G.initialized(),G.resetRedirect(),function _a(){zs.clear()}(),yield S._originValidation(d);const ie=function Ea(g,d,h=null){return{type:d,eventId:h,urlResponse:null,sessionId:Ci(),postBody:null,tenantId:g.tenantId,error:De(g,"no-auth-event")}}(d,y,D);yield function mc(g,d){return _c()._set(qn(g),d)}(d,ie);const Ne=yield function Yd(g,d,h){return Yr.apply(this,arguments)}(d,ie,h),Ue=yield function dl(g){const{cordova:d}=Oo();return new Promise(h=>{d.plugins.browsertab.isAvailable(y=>{let D=null;y?d.plugins.browsertab.openUrl(g):D=d.InAppBrowser.open(g,function Nl(g=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(g)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(g)}()?"_blank":"_system","location=yes"),h(D)})})}(Ne);return function Qd(g,d,h){return fl.apply(this,arguments)}(d,G,Ue)})()}_isIframeWebStorageSupported(d,h){throw new Error("Method not implemented.")}_originValidation(d){const h=d._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function uu(g){return zn.apply(this,arguments)}(d)),this.originValidationPromises[h]}attachCallbackListeners(d,h){const{universalLinks:y,handleOpenURL:D,BuildInfo:S}=Oo(),G=setTimeout((0,a.Z)(function*(){yield ef(d),h.onEvent(vc())}),500),ie=function(){var nt=(0,a.Z)(function*(We){clearTimeout(G);const Qt=yield ef(d);let Jt=null;Qt&&(null==We?void 0:We.url)&&(Jt=function cu(g,d){var h,y;const D=function wa(g){const d=Ia(g),h=d.link?decodeURIComponent(d.link):void 0,y=Ia(h).link,D=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return Ia(D).link||D||y||h||g}(d);if(D.includes("/__/auth/callback")){const S=Ia(D),G=S.firebaseError?function tf(g){try{return JSON.parse(g)}catch(d){return null}}(decodeURIComponent(S.firebaseError)):null,ie=null===(y=null===(h=null==G?void 0:G.code)||void 0===h?void 0:h.split("auth/"))||void 0===y?void 0:y[1],Ne=ie?De(ie):null;return Ne?{type:g.type,eventId:g.eventId,tenantId:g.tenantId,error:Ne,urlResponse:null,sessionId:null,postBody:null}:{type:g.type,eventId:g.eventId,tenantId:g.tenantId,sessionId:g.sessionId,urlResponse:D,postBody:null}}return null}(Qt,We.url)),h.onEvent(Jt||vc())});return function(Qt){return nt.apply(this,arguments)}}();void 0!==y&&"function"==typeof y.subscribe&&y.subscribe(null,ie);const Ne=D,Ue=`${S.packageName.toLowerCase()}://`;Oo().handleOpenURL=function(){var nt=(0,a.Z)(function*(We){if(We.toLowerCase().startsWith(Ue)&&ie({url:We}),"function"==typeof Ne)try{Ne(We)}catch(Qt){console.error(Qt)}});return function(We){return nt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=_r,this._completeRedirectFn=ke}_initialize(d){var h=this;return(0,a.Z)(function*(){return yield h.selectUnderlyingResolver(),h.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,h,y,D){var S=this;return(0,a.Z)(function*(){return yield S.selectUnderlyingResolver(),S.assertedUnderlyingResolver._openPopup(d,h,y,D)})()}_openRedirect(d,h,y,D){var S=this;return(0,a.Z)(function*(){return yield S.selectUnderlyingResolver(),S.assertedUnderlyingResolver._openRedirect(d,h,y,D)})()}_isIframeWebStorageSupported(d,h){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,h)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return it()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return $h(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,a.Z)(function*(){if(d.underlyingResolver)return;const h=yield function Kn(){return Ei.apply(this,arguments)}();d.underlyingResolver=h?d.cordovaResolver:d.browserResolver})()}}function Ac(g){return g.unwrap()}function Qs(g){return ba(g)}function ba(g){const{_tokenResponse:d}=g instanceof N.ZR?g.customData:g;if(!d)return null;if(!(g instanceof N.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return gi.credentialFromResult(g);const h=d.providerId;if(!h||"password"===h)return null;let y;switch(h){case"google.com":y=Ls;break;case"facebook.com":y=Fs;break;case"github.com":y=Ul;break;case"twitter.com":y=mr;break;default:const{oauthIdToken:D,oauthAccessToken:S,oauthTokenSecret:G,pendingToken:ie,nonce:Ne}=d;return S||G||D||ie?ie?h.startsWith("saml.")?si._create(h,ie):ri._fromParams({providerId:h,signInMethod:h,pendingToken:ie,idToken:D,accessToken:S}):new os(h).credential({idToken:D,accessToken:S,rawNonce:Ne}):null}return g instanceof N.ZR?y.credentialFromError(g):y.credentialFromResult(g)}function Fn(g,d){return d.catch(h=>{throw h instanceof N.ZR&&function pl(g,d){var h;const y=null===(h=d.customData)||void 0===h?void 0:h._tokenResponse;if("auth/multi-factor-auth-required"===d.code)d.resolver=new Wh(g,function nl(g,d){var h;const y=(0,N.m9)(g),D=d;return ae(d.customData.operationType,y,"argument-error"),ae(null===(h=D.customData._serverResponse)||void 0===h?void 0:h.mfaPendingCredential,y,"argument-error"),Io._fromError(y,D)}(g,d));else if(y){const D=ba(d),S=d;D&&(S.credential=D,S.tenantId=y.tenantId||void 0,S.email=y.email||void 0,S.phoneNumber=y.phoneNumber||void 0)}}(g,h),h}).then(h=>{const D=h.user;return{operationType:h.operationType,credential:Qs(h),additionalUserInfo:wn(h),user:Qr.getOrCreate(D)}})}function gl(g,d){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,a.Z)(function*(g,d){const h=yield d;return{verificationId:h.verificationId,confirm:y=>Fn(g,h.confirm(y))}})).apply(this,arguments)}class Wh{constructor(d,h){this.resolver=h,this.auth=function rf(g){return g.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return Fn(Ac(this.auth),this.resolver.resolveSignIn(d))}}class Qr{constructor(d){this._delegate=d,this.multiFactor=function Ud(g){const d=(0,N.m9)(g);return Hs.has(d)||Hs.set(d,fi._fromUser(d)),Hs.get(d)}(d)}static getOrCreate(d){return Qr.USER_MAP.has(d)||Qr.USER_MAP.set(d,new Qr(d)),Qr.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var h=this;return(0,a.Z)(function*(){return Fn(h.auth,li(h._delegate,d))})()}linkWithPhoneNumber(d,h){var y=this;return(0,a.Z)(function*(){return gl(y.auth,function ps(g,d,h){return pi.apply(this,arguments)}(y._delegate,d,h))})()}linkWithPopup(d){var h=this;return(0,a.Z)(function*(){return Fn(h.auth,function oc(g,d,h){return ga.apply(this,arguments)}(h._delegate,d,wi))})()}linkWithRedirect(d){var h=this;return(0,a.Z)(function*(){return yield vs(Te(h.auth)),function k(g,d,h){return function $(g,d,h){return re.apply(this,arguments)}(g,d,h)}(h._delegate,d,wi)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var h=this;return(0,a.Z)(function*(){return Fn(h.auth,Vs(h._delegate,d))})()}reauthenticateWithPhoneNumber(d,h){return gl(this.auth,function Zd(g,d,h){return rn.apply(this,arguments)}(this._delegate,d,h))}reauthenticateWithPopup(d){return Fn(this.auth,function nu(g,d,h){return ll.apply(this,arguments)}(this._delegate,d,wi))}reauthenticateWithRedirect(d){var h=this;return(0,a.Z)(function*(){return yield vs(Te(h.auth)),function E(g,d,h){return function w(g,d,h){return M.apply(this,arguments)}(g,d,h)}(h._delegate,d,wi)})()}sendEmailVerification(d){return function ui(g,d){return Co.apply(this,arguments)}(this._delegate,d)}unlink(d){var h=this;return(0,a.Z)(function*(){return yield function ai(g,d){return Wa.apply(this,arguments)}(h._delegate,d),h})()}updateEmail(d){return function Xa(g,d){return ra((0,N.m9)(g),d,null)}(this._delegate,d)}updatePassword(d){return function Bd(g,d){return ra((0,N.m9)(g),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function eu(g,d){return $s.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function Ja(g,d){return wo.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,h){return function ql(g,d,h){return Eo.apply(this,arguments)}(this._delegate,d,h)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Qr.USER_MAP=new WeakMap;const ml=ae;let Mc=(()=>{class g{constructor(h,y){if(this.app=h,y.isInitialized())return this._delegate=y.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:D}=h.options;ml(D,"invalid-api-key",{appName:h.name}),ml(D,"invalid-api-key",{appName:h.name});const S="undefined"!=typeof window?wi:void 0;this._delegate=y.initialize({options:{persistence:Sc(D,h.name),popupRedirectResolver:S}}),this._delegate._updateErrorMap(Ae),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Qr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(h){this._delegate.languageCode=h}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(h){this._delegate.tenantId=h}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(h,y){!function Pt(g,d,h){const y=Te(g);ae(y._canInitEmulator,y,"emulator-config-failed"),ae(/^https?:\/\//.test(d),y,"invalid-emulator-scheme");const D=!!(null==h?void 0:h.disableWarnings),S=Gn(d),{host:G,port:ie}=function ti(g){const d=Gn(g),h=/(\/\/)?([^?#/]+)/.exec(g.substr(d.length));if(!h)return{host:"",port:null};const y=h[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(y);if(D){const S=D[1];return{host:S,port:tn(y.substr(S.length+1))}}{const[S,G]=y.split(":");return{host:S,port:tn(G)}}}(d);y.config.emulator={url:`${S}//${G}${null===ie?"":`:${ie}`}/`},y.settings.appVerificationDisabledForTesting=!0,y.emulatorConfig=Object.freeze({host:G,port:ie,protocol:S.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function ni(){function g(){const d=document.createElement("p"),h=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",h.position="fixed",h.width="100%",h.backgroundColor="#ffffff",h.border=".1em solid #000000",h.color="#b50000",h.bottom="0px",h.left="0px",h.margin="0px",h.zIndex="10000",h.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",g):g())}()}(this._delegate,h,y)}applyActionCode(h){return function Qu(g,d){return ye.apply(this,arguments)}(this._delegate,h)}checkActionCode(h){return pt(this._delegate,h)}confirmPasswordReset(h,y){return function qa(g,d,h){return mo.apply(this,arguments)}(this._delegate,h,y)}createUserWithEmailAndPassword(h,y){var D=this;return(0,a.Z)(function*(){return Fn(D._delegate,function yo(g,d,h){return Wn.apply(this,arguments)}(D._delegate,h,y))})()}fetchProvidersForEmail(h){return this.fetchSignInMethodsForEmail(h)}fetchSignInMethodsForEmail(h){return function Qa(g,d){return Br.apply(this,arguments)}(this._delegate,h)}isSignInWithEmailLink(h){return function zl(g,d){const h=ii.parseLink(d);return"EMAIL_SIGNIN"===(null==h?void 0:h.operation)}(0,h)}getRedirectResult(){var h=this;return(0,a.Z)(function*(){ml(Ys(),h._delegate,"operation-not-supported-in-this-environment");const y=yield function Ce(g,d){return Pe.apply(this,arguments)}(h._delegate,wi);return y?Fn(h._delegate,Promise.resolve(y)):{credential:null,user:null}})()}addFrameworkForLogging(h){!function Da(g,d){Te(g)._logFramework(d)}(this._delegate,h)}onAuthStateChanged(h,y,D){const{next:S,error:G,complete:ie}=sf(h,y,D);return this._delegate.onAuthStateChanged(S,G,ie)}onIdTokenChanged(h,y,D){const{next:S,error:G,complete:ie}=sf(h,y,D);return this._delegate.onIdTokenChanged(S,G,ie)}sendSignInLinkToEmail(h,y){return function Ya(g,d,h){return Wl.apply(this,arguments)}(this._delegate,h,y)}sendPasswordResetEmail(h,y){return function $l(g,d,h){return go.apply(this,arguments)}(this._delegate,h,y||void 0)}setPersistence(h){var y=this;return(0,a.Z)(function*(){let D;switch(function Dc(g,d){Lo(Object.values(Ct).includes(d),g,"invalid-persistence-type"),(0,N.b$)()?Lo(d!==Ct.SESSION,g,"unsupported-persistence-type"):(0,N.UG)()?Lo(d===Ct.NONE,g,"unsupported-persistence-type"):Nr()?Lo(d===Ct.NONE||d===Ct.LOCAL&&(0,N.hl)(),g,"unsupported-persistence-type"):Lo(d===Ct.NONE||cn(),g,"unsupported-persistence-type")}(y._delegate,h),h){case Ct.SESSION:D=_r;break;case Ct.LOCAL:D=(yield X(Mr)._isAvailable())?Mr:or;break;case Ct.NONE:D=dt;break;default:return se("argument-error",{appName:y._delegate.name})}return y._delegate.setPersistence(D)})()}signInAndRetrieveDataWithCredential(h){return this.signInWithCredential(h)}signInAnonymously(){return Fn(this._delegate,function Gl(g){return ea.apply(this,arguments)}(this._delegate))}signInWithCredential(h){return Fn(this._delegate,na(this._delegate,h))}signInWithCustomToken(h){return Fn(this._delegate,function Li(g,d){return Vi.apply(this,arguments)}(this._delegate,h))}signInWithEmailAndPassword(h,y){return Fn(this._delegate,function Ka(g,d,h){return na((0,N.m9)(g),uo.credential(d,h))}(this._delegate,h,y))}signInWithEmailLink(h,y){return Fn(this._delegate,function vo(g,d,h){return Bs.apply(this,arguments)}(this._delegate,h,y))}signInWithPhoneNumber(h,y){return gl(this._delegate,function Gs(g,d,h){return Kt.apply(this,arguments)}(this._delegate,h,y))}signInWithPopup(h){var y=this;return(0,a.Z)(function*(){return ml(Ys(),y._delegate,"operation-not-supported-in-this-environment"),Fn(y._delegate,function Cr(g,d,h){return gs.apply(this,arguments)}(y._delegate,h,wi))})()}signInWithRedirect(h){var y=this;return(0,a.Z)(function*(){return ml(Ys(),y._delegate,"operation-not-supported-in-this-environment"),yield vs(y._delegate),function ul(g,d,h){return function ya(g,d,h){return ru.apply(this,arguments)}(g,d,h)}(y._delegate,h,wi)})()}updateCurrentUser(h){return this._delegate.updateCurrentUser(h)}verifyPasswordResetCode(h){return function zt(g,d){return Bi.apply(this,arguments)}(this._delegate,h)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return g.Persistence=Ct,g})();function sf(g,d,h){let y=g;"function"!=typeof g&&({next:y,error:d,complete:h}=g);const D=y;return{next:G=>D(G&&Qr.getOrCreate(G)),error:d,complete:h}}function Sc(g,d){const h=function bc(g,d){const h=Tc();if(!h)return[];const y=hn(Ic,g,d);switch(h.getItem(y)){case Ct.NONE:return[dt];case Ct.LOCAL:return[Mr,_r];case Ct.SESSION:return[_r];default:return[]}}(g,d);if("undefined"!=typeof self&&!h.includes(Mr)&&h.push(Mr),"undefined"!=typeof window)for(const y of[or,_r])h.includes(y)||h.push(y);return h.includes(dt)||h.push(dt),h}class xc{constructor(){this.providerId="phone",this._delegate=new gi(Ac(K.Z.auth()))}static credential(d,h){return gi.credential(d,h)}verifyPhoneNumber(d,h){return this._delegate.verifyPhoneNumber(d,h)}unwrap(){return this._delegate}}xc.PHONE_SIGN_IN_METHOD=gi.PHONE_SIGN_IN_METHOD,xc.PROVIDER_ID=gi.PROVIDER_ID;const kc=ae;class of{constructor(d,h,y=K.Z.app()){var D;kc(null===(D=y.options)||void 0===D?void 0:D.apiKey,"invalid-api-key",{appName:y.name}),this._delegate=new sc(d,h,y.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function af(g){g.INTERNAL.registerComponent(new le.wA("auth-compat",d=>{const h=d.getProvider("app-compat").getImmediate(),y=d.getProvider("auth");return new Mc(h,y)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:uo,FacebookAuthProvider:Fs,GithubAuthProvider:Ul,GoogleAuthProvider:Ls,OAuthProvider:os,SAMLAuthProvider:oi,PhoneAuthProvider:xc,PhoneMultiFactorGenerator:Yt,RecaptchaVerifier:of,TwitterAuthProvider:mr,Auth:Mc,AuthCredential:It,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),g.registerVersion("@firebase/auth-compat","0.2.8")}(K.Z)},2940:function($e,we){!function(O){"use strict";function a(W){return Array.prototype.slice.call(W)}function K(W){return new Promise(function(Y,ce){W.onsuccess=function(){Y(W.result)},W.onerror=function(){ce(W.error)}})}function N(W,Y,ce){var _e,se=new Promise(function(De,ve){K(_e=W[Y].apply(W,ce)).then(De,ve)});return se.request=_e,se}function ue(W,Y,ce){var _e=N(W,Y,ce);return _e.then(function(se){if(se)return new H(se,_e.request)})}function ne(W,Y,ce){ce.forEach(function(_e){Object.defineProperty(W.prototype,_e,{get:function(){return this[Y][_e]},set:function(se){this[Y][_e]=se}})})}function he(W,Y,ce,_e){_e.forEach(function(se){se in ce.prototype&&(W.prototype[se]=function(){return N(this[Y],se,arguments)})})}function le(W,Y,ce,_e){_e.forEach(function(se){se in ce.prototype&&(W.prototype[se]=function(){return this[Y][se].apply(this[Y],arguments)})})}function fe(W,Y,ce,_e){_e.forEach(function(se){se in ce.prototype&&(W.prototype[se]=function(){return ue(this[Y],se,arguments)})})}function ge(W){this._index=W}function H(W,Y){this._cursor=W,this._request=Y}function V(W){this._store=W}function J(W){this._tx=W,this.complete=new Promise(function(Y,ce){W.oncomplete=function(){Y()},W.onerror=function(){ce(W.error)},W.onabort=function(){ce(W.error)}})}function Le(W,Y,ce){this._db=W,this.oldVersion=Y,this.transaction=new J(ce)}function Me(W){this._db=W}ne(ge,"_index",["name","keyPath","multiEntry","unique"]),he(ge,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),fe(ge,"_index",IDBIndex,["openCursor","openKeyCursor"]),ne(H,"_cursor",["direction","key","primaryKey","value"]),he(H,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(W){W in IDBCursor.prototype&&(H.prototype[W]=function(){var Y=this,ce=arguments;return Promise.resolve().then(function(){return Y._cursor[W].apply(Y._cursor,ce),K(Y._request).then(function(_e){if(_e)return new H(_e,Y._request)})})})}),V.prototype.createIndex=function(){return new ge(this._store.createIndex.apply(this._store,arguments))},V.prototype.index=function(){return new ge(this._store.index.apply(this._store,arguments))},ne(V,"_store",["name","keyPath","indexNames","autoIncrement"]),he(V,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),fe(V,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),le(V,"_store",IDBObjectStore,["deleteIndex"]),J.prototype.objectStore=function(){return new V(this._tx.objectStore.apply(this._tx,arguments))},ne(J,"_tx",["objectStoreNames","mode"]),le(J,"_tx",IDBTransaction,["abort"]),Le.prototype.createObjectStore=function(){return new V(this._db.createObjectStore.apply(this._db,arguments))},ne(Le,"_db",["name","version","objectStoreNames"]),le(Le,"_db",IDBDatabase,["deleteObjectStore","close"]),Me.prototype.transaction=function(){return new J(this._db.transaction.apply(this._db,arguments))},ne(Me,"_db",["name","version","objectStoreNames"]),le(Me,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(W){[V,ge].forEach(function(Y){W in Y.prototype&&(Y.prototype[W.replace("open","iterate")]=function(){var ce=a(arguments),_e=ce[ce.length-1],se=this._store||this._index,De=se[W].apply(se,ce.slice(0,-1));De.onsuccess=function(){_e(De.result)}})})}),[ge,V].forEach(function(W){W.prototype.getAll||(W.prototype.getAll=function(Y,ce){var _e=this,se=[];return new Promise(function(De){_e.iterateCursor(Y,function(ve){ve?(se.push(ve.value),void 0===ce||se.length!=ce?ve.continue():De(se)):De(se)})})})}),O.openDb=function Ae(W,Y,ce){var _e=N(indexedDB,"open",[W,Y]),se=_e.request;return se&&(se.onupgradeneeded=function(De){ce&&ce(new Le(se.result,De.oldVersion,se.transaction))}),_e.then(function(De){return new Me(De)})},O.deleteDb=function xe(W){return N(indexedDB,"deleteDatabase",[W])},Object.defineProperty(O,"__esModule",{value:!0})}(we)},8306:($e,we,O)=>{"use strict";O.d(we,{y:()=>H});var a=O(930),K=O(727),N=O(8822),ue=O(4671);var le=O(2416),fe=O(576),ge=O(2806);let H=(()=>{class Me{constructor(xe){xe&&(this._subscribe=xe)}lift(xe){const W=new Me;return W.source=this,W.operator=xe,W}subscribe(xe,W,Y){const ce=function Le(Me){return Me&&Me instanceof a.Lv||function J(Me){return Me&&(0,fe.m)(Me.next)&&(0,fe.m)(Me.error)&&(0,fe.m)(Me.complete)}(Me)&&(0,K.Nn)(Me)}(xe)?xe:new a.Hp(xe,W,Y);return(0,ge.x)(()=>{const{operator:_e,source:se}=this;ce.add(_e?_e.call(ce,se):se?this._subscribe(ce):this._trySubscribe(ce))}),ce}_trySubscribe(xe){try{return this._subscribe(xe)}catch(W){xe.error(W)}}forEach(xe,W){return new(W=V(W))((Y,ce)=>{const _e=new a.Hp({next:se=>{try{xe(se)}catch(De){ce(De),_e.unsubscribe()}},error:ce,complete:Y});this.subscribe(_e)})}_subscribe(xe){var W;return null===(W=this.source)||void 0===W?void 0:W.subscribe(xe)}[N.L](){return this}pipe(...xe){return function he(Me){return 0===Me.length?ue.y:1===Me.length?Me[0]:function(xe){return Me.reduce((W,Y)=>Y(W),xe)}}(xe)(this)}toPromise(xe){return new(xe=V(xe))((W,Y)=>{let ce;this.subscribe(_e=>ce=_e,_e=>Y(_e),()=>W(ce))})}}return Me.create=Ae=>new Me(Ae),Me})();function V(Me){var Ae;return null!==(Ae=null!=Me?Me:le.v.Promise)&&void 0!==Ae?Ae:Promise}},7579:($e,we,O)=>{"use strict";O.d(we,{x:()=>le});var a=O(8306),K=O(727);const ue=(0,O(3888).d)(ge=>function(){ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=O(8737),he=O(2806);let le=(()=>{class ge extends a.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(V){const J=new fe(this,this);return J.operator=V,J}_throwIfClosed(){if(this.closed)throw new ue}next(V){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const J=this.observers.slice();for(const Le of J)Le.next(V)}})}error(V){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=V;const{observers:J}=this;for(;J.length;)J.shift().error(V)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:V}=this;for(;V.length;)V.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var V;return(null===(V=this.observers)||void 0===V?void 0:V.length)>0}_trySubscribe(V){return this._throwIfClosed(),super._trySubscribe(V)}_subscribe(V){return this._throwIfClosed(),this._checkFinalizedStatuses(V),this._innerSubscribe(V)}_innerSubscribe(V){const{hasError:J,isStopped:Le,observers:Me}=this;return J||Le?K.Lc:(Me.push(V),new K.w0(()=>(0,ne.P)(Me,V)))}_checkFinalizedStatuses(V){const{hasError:J,thrownError:Le,isStopped:Me}=this;J?V.error(Le):Me&&V.complete()}asObservable(){const V=new a.y;return V.source=this,V}}return ge.create=(H,V)=>new fe(H,V),ge})();class fe extends le{constructor(H,V){super(),this.destination=H,this.source=V}next(H){var V,J;null===(J=null===(V=this.destination)||void 0===V?void 0:V.next)||void 0===J||J.call(V,H)}error(H){var V,J;null===(J=null===(V=this.destination)||void 0===V?void 0:V.error)||void 0===J||J.call(V,H)}complete(){var H,V;null===(V=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===V||V.call(H)}_subscribe(H){var V,J;return null!==(J=null===(V=this.source)||void 0===V?void 0:V.subscribe(H))&&void 0!==J?J:K.Lc}}},930:($e,we,O)=>{"use strict";O.d(we,{Hp:()=>Le,Lv:()=>J});var a=O(576),K=O(727),N=O(2416),ue=O(7849),ne=O(5032);const he=ge("C",void 0,void 0);function ge(Y,ce,_e){return{kind:Y,value:ce,error:_e}}var H=O(3410),V=O(2806);class J extends K.w0{constructor(ce){super(),this.isStopped=!1,ce?(this.destination=ce,(0,K.Nn)(ce)&&ce.add(this)):this.destination=W}static create(ce,_e,se){return new Le(ce,_e,se)}next(ce){this.isStopped?xe(function fe(Y){return ge("N",Y,void 0)}(ce),this):this._next(ce)}error(ce){this.isStopped?xe(function le(Y){return ge("E",void 0,Y)}(ce),this):(this.isStopped=!0,this._error(ce))}complete(){this.isStopped?xe(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ce){this.destination.next(ce)}_error(ce){try{this.destination.error(ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Le extends J{constructor(ce,_e,se){let De;if(super(),(0,a.m)(ce))De=ce;else if(ce){let ve;({next:De,error:_e,complete:se}=ce),this&&N.v.useDeprecatedNextContext?(ve=Object.create(ce),ve.unsubscribe=()=>this.unsubscribe()):ve=ce,De=null==De?void 0:De.bind(ve),_e=null==_e?void 0:_e.bind(ve),se=null==se?void 0:se.bind(ve)}this.destination={next:De?Me(De):ne.Z,error:Me(null!=_e?_e:Ae),complete:se?Me(se):ne.Z}}}function Me(Y,ce){return(..._e)=>{try{Y(..._e)}catch(se){N.v.useDeprecatedSynchronousErrorHandling?(0,V.O)(se):(0,ue.h)(se)}}}function Ae(Y){throw Y}function xe(Y,ce){const{onStoppedNotification:_e}=N.v;_e&&H.z.setTimeout(()=>_e(Y,ce))}const W={closed:!0,next:ne.Z,error:Ae,complete:ne.Z}},727:($e,we,O)=>{"use strict";O.d(we,{Lc:()=>he,w0:()=>ne,Nn:()=>le});var a=O(576);const N=(0,O(3888).d)(ge=>function(V){ge(this),this.message=V?`${V.length} errors occurred during unsubscription:\n${V.map((J,Le)=>`${Le+1}) ${J.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=V});var ue=O(8737);class ne{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:V}=this;if(V)if(this._parentage=null,Array.isArray(V))for(const Me of V)Me.remove(this);else V.remove(this);const{initialTeardown:J}=this;if((0,a.m)(J))try{J()}catch(Me){H=Me instanceof N?Me.errors:[Me]}const{_teardowns:Le}=this;if(Le){this._teardowns=null;for(const Me of Le)try{fe(Me)}catch(Ae){H=null!=H?H:[],Ae instanceof N?H=[...H,...Ae.errors]:H.push(Ae)}}if(H)throw new N(H)}}add(H){var V;if(H&&H!==this)if(this.closed)fe(H);else{if(H instanceof ne){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._teardowns=null!==(V=this._teardowns)&&void 0!==V?V:[]).push(H)}}_hasParent(H){const{_parentage:V}=this;return V===H||Array.isArray(V)&&V.includes(H)}_addParent(H){const{_parentage:V}=this;this._parentage=Array.isArray(V)?(V.push(H),V):V?[V,H]:H}_removeParent(H){const{_parentage:V}=this;V===H?this._parentage=null:Array.isArray(V)&&(0,ue.P)(V,H)}remove(H){const{_teardowns:V}=this;V&&(0,ue.P)(V,H),H instanceof ne&&H._removeParent(this)}}ne.EMPTY=(()=>{const ge=new ne;return ge.closed=!0,ge})();const he=ne.EMPTY;function le(ge){return ge instanceof ne||ge&&"closed"in ge&&(0,a.m)(ge.remove)&&(0,a.m)(ge.add)&&(0,a.m)(ge.unsubscribe)}function fe(ge){(0,a.m)(ge)?ge():ge.unsubscribe()}},2416:($e,we,O)=>{"use strict";O.d(we,{v:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:($e,we,O)=>{"use strict";O.d(we,{E:()=>K});const K=new(O(8306).y)(ne=>ne.complete())},8996:($e,we,O)=>{"use strict";O.d(we,{D:()=>De});var a=O(8421),K=O(5363),N=O(9468),he=O(8306),fe=O(2202),ge=O(576),H=O(9672);function J(ve,Be){if(!ve)throw new Error("Iterable cannot be null");return new he.y(Ve=>{(0,H.f)(Ve,Be,()=>{const ae=ve[Symbol.asyncIterator]();(0,H.f)(Ve,Be,()=>{ae.next().then(z=>{z.done?Ve.complete():Ve.next(z.value)})},0,!0)})})}var Le=O(3670),Me=O(8239),Ae=O(1144),xe=O(6495),W=O(2206),Y=O(4532),ce=O(3260);function De(ve,Be){return Be?function se(ve,Be){if(null!=ve){if((0,Le.c)(ve))return function ue(ve,Be){return(0,a.Xf)(ve).pipe((0,N.R)(Be),(0,K.Q)(Be))}(ve,Be);if((0,Ae.z)(ve))return function le(ve,Be){return new he.y(Ve=>{let ae=0;return Be.schedule(function(){ae===ve.length?Ve.complete():(Ve.next(ve[ae++]),Ve.closed||this.schedule())})})}(ve,Be);if((0,Me.t)(ve))return function ne(ve,Be){return(0,a.Xf)(ve).pipe((0,N.R)(Be),(0,K.Q)(Be))}(ve,Be);if((0,W.D)(ve))return J(ve,Be);if((0,xe.T)(ve))return function V(ve,Be){return new he.y(Ve=>{let ae;return(0,H.f)(Ve,Be,()=>{ae=ve[fe.h](),(0,H.f)(Ve,Be,()=>{let z,ee;try{({value:z,done:ee}=ae.next())}catch(de){return void Ve.error(de)}ee?Ve.complete():Ve.next(z)},0,!0)}),()=>(0,ge.m)(null==ae?void 0:ae.return)&&ae.return()})}(ve,Be);if((0,ce.L)(ve))return function _e(ve,Be){return J((0,ce.Q)(ve),Be)}(ve,Be)}throw(0,Y.z)(ve)}(ve,Be):(0,a.Xf)(ve)}},8421:($e,we,O)=>{"use strict";O.d(we,{Xf:()=>Le});var a=O(655),K=O(1144),N=O(8239),ue=O(8306),ne=O(3670),he=O(2206),le=O(4532),fe=O(6495),ge=O(3260),H=O(576),V=O(7849),J=O(8822);function Le(se){if(se instanceof ue.y)return se;if(null!=se){if((0,ne.c)(se))return function Me(se){return new ue.y(De=>{const ve=se[J.L]();if((0,H.m)(ve.subscribe))return ve.subscribe(De);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(se);if((0,K.z)(se))return function Ae(se){return new ue.y(De=>{for(let ve=0;ve<se.length&&!De.closed;ve++)De.next(se[ve]);De.complete()})}(se);if((0,N.t)(se))return function xe(se){return new ue.y(De=>{se.then(ve=>{De.closed||(De.next(ve),De.complete())},ve=>De.error(ve)).then(null,V.h)})}(se);if((0,he.D)(se))return Y(se);if((0,fe.T)(se))return function W(se){return new ue.y(De=>{for(const ve of se)if(De.next(ve),De.closed)return;De.complete()})}(se);if((0,ge.L)(se))return function ce(se){return Y((0,ge.Q)(se))}(se)}throw(0,le.z)(se)}function Y(se){return new ue.y(De=>{(function _e(se,De){var ve,Be,Ve,ae;return(0,a.mG)(this,void 0,void 0,function*(){try{for(ve=(0,a.KL)(se);!(Be=yield ve.next()).done;)if(De.next(Be.value),De.closed)return}catch(z){Ve={error:z}}finally{try{Be&&!Be.done&&(ae=ve.return)&&(yield ae.call(ve))}finally{if(Ve)throw Ve.error}}De.complete()})})(se,De).catch(ve=>De.error(ve))})}},831:($e,we,O)=>{"use strict";O.d(we,{T:()=>Me});var a=O(4004),K=O(8421),N=O(4482),ue=O(9672),ne=O(5403),le=O(576);function fe(Ae,xe,W=1/0){return(0,le.m)(xe)?fe((Y,ce)=>(0,a.U)((_e,se)=>xe(Y,_e,ce,se))((0,K.Xf)(Ae(Y,ce))),W):("number"==typeof xe&&(W=xe),(0,N.e)((Y,ce)=>function he(Ae,xe,W,Y,ce,_e,se,De){const ve=[];let Be=0,Ve=0,ae=!1;const z=()=>{ae&&!ve.length&&!Be&&xe.complete()},ee=X=>Be<Y?de(X):ve.push(X),de=X=>{_e&&xe.next(X),Be++;let Ie=!1;(0,K.Xf)(W(X,Ve++)).subscribe(new ne.Q(xe,te=>{null==ce||ce(te),_e?ee(te):xe.next(te)},()=>{Ie=!0},void 0,()=>{if(Ie)try{for(Be--;ve.length&&Be<Y;){const te=ve.shift();se?(0,ue.f)(xe,se,()=>de(te)):de(te)}z()}catch(te){xe.error(te)}}))};return Ae.subscribe(new ne.Q(xe,ee,()=>{ae=!0,z()})),()=>{null==De||De()}}(Y,ce,Ae,W)))}var ge=O(4671),V=O(515),J=O(7669),Le=O(8996);function Me(...Ae){const xe=(0,J.yG)(Ae),W=(0,J._6)(Ae,1/0),Y=Ae;return Y.length?1===Y.length?(0,K.Xf)(Y[0]):function H(Ae=1/0){return fe(ge.y,Ae)}(W)((0,Le.D)(Y,xe)):V.E}},5403:($e,we,O)=>{"use strict";O.d(we,{Q:()=>K});var a=O(930);class K extends a.Lv{constructor(ue,ne,he,le,fe){super(ue),this.onFinalize=fe,this._next=ne?function(ge){try{ne(ge)}catch(H){ue.error(H)}}:super._next,this._error=le?function(ge){try{le(ge)}catch(H){ue.error(H)}finally{this.unsubscribe()}}:super._error,this._complete=he?function(){try{he()}catch(ge){ue.error(ge)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ue;const{closed:ne}=this;super.unsubscribe(),!ne&&(null===(ue=this.onFinalize)||void 0===ue||ue.call(this))}}},4004:($e,we,O)=>{"use strict";O.d(we,{U:()=>N});var a=O(4482),K=O(5403);function N(ue,ne){return(0,a.e)((he,le)=>{let fe=0;he.subscribe(new K.Q(le,ge=>{le.next(ue.call(ne,ge,fe++))}))})}},5363:($e,we,O)=>{"use strict";O.d(we,{Q:()=>ue});var a=O(9672),K=O(4482),N=O(5403);function ue(ne,he=0){return(0,K.e)((le,fe)=>{le.subscribe(new N.Q(fe,ge=>(0,a.f)(fe,ne,()=>fe.next(ge),he),()=>(0,a.f)(fe,ne,()=>fe.complete(),he),ge=>(0,a.f)(fe,ne,()=>fe.error(ge),he)))})}},3099:($e,we,O)=>{"use strict";O.d(we,{B:()=>he});var a=O(8996),K=O(5698),N=O(7579),ue=O(930),ne=O(4482);function he(fe={}){const{connector:ge=(()=>new N.x),resetOnError:H=!0,resetOnComplete:V=!0,resetOnRefCountZero:J=!0}=fe;return Le=>{let Me=null,Ae=null,xe=null,W=0,Y=!1,ce=!1;const _e=()=>{null==Ae||Ae.unsubscribe(),Ae=null},se=()=>{_e(),Me=xe=null,Y=ce=!1},De=()=>{const ve=Me;se(),null==ve||ve.unsubscribe()};return(0,ne.e)((ve,Be)=>{W++,!ce&&!Y&&_e();const Ve=xe=null!=xe?xe:ge();Be.add(()=>{W--,0===W&&!ce&&!Y&&(Ae=le(De,J))}),Ve.subscribe(Be),Me||(Me=new ue.Hp({next:ae=>Ve.next(ae),error:ae=>{ce=!0,_e(),Ae=le(se,H,ae),Ve.error(ae)},complete:()=>{Y=!0,_e(),Ae=le(se,V),Ve.complete()}}),(0,a.D)(ve).subscribe(Me))})(Le)}}function le(fe,ge,...H){return!0===ge?(fe(),null):!1===ge?null:ge(...H).pipe((0,K.q)(1)).subscribe(()=>fe())}},9468:($e,we,O)=>{"use strict";O.d(we,{R:()=>K});var a=O(4482);function K(N,ue=0){return(0,a.e)((ne,he)=>{he.add(N.schedule(()=>ne.subscribe(he),ue))})}},5698:($e,we,O)=>{"use strict";O.d(we,{q:()=>ue});var a=O(515),K=O(4482),N=O(5403);function ue(ne){return ne<=0?()=>a.E:(0,K.e)((he,le)=>{let fe=0;he.subscribe(new N.Q(le,ge=>{++fe<=ne&&(le.next(ge),ne<=fe&&le.complete())}))})}},4408:($e,we,O)=>{"use strict";O.d(we,{o:()=>ne});var a=O(727);class K extends a.w0{constructor(le,fe){super()}schedule(le,fe=0){return this}}const N={setInterval(...he){const{delegate:le}=N;return((null==le?void 0:le.setInterval)||setInterval)(...he)},clearInterval(he){const{delegate:le}=N;return((null==le?void 0:le.clearInterval)||clearInterval)(he)},delegate:void 0};var ue=O(8737);class ne extends K{constructor(le,fe){super(le,fe),this.scheduler=le,this.work=fe,this.pending=!1}schedule(le,fe=0){if(this.closed)return this;this.state=le;const ge=this.id,H=this.scheduler;return null!=ge&&(this.id=this.recycleAsyncId(H,ge,fe)),this.pending=!0,this.delay=fe,this.id=this.id||this.requestAsyncId(H,this.id,fe),this}requestAsyncId(le,fe,ge=0){return N.setInterval(le.flush.bind(le,this),ge)}recycleAsyncId(le,fe,ge=0){if(null!=ge&&this.delay===ge&&!1===this.pending)return fe;N.clearInterval(fe)}execute(le,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ge=this._execute(le,fe);if(ge)return ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(le,fe){let H,ge=!1;try{this.work(le)}catch(V){ge=!0,H=V||new Error("Scheduled action threw falsy error")}if(ge)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:le,scheduler:fe}=this,{actions:ge}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ue.P)(ge,this),null!=le&&(this.id=this.recycleAsyncId(fe,le,null)),this.delay=null,super.unsubscribe()}}}},7565:($e,we,O)=>{"use strict";O.d(we,{v:()=>N});var a=O(6063);class K{constructor(ne,he=K.now){this.schedulerActionCtor=ne,this.now=he}schedule(ne,he=0,le){return new this.schedulerActionCtor(this,ne).schedule(le,he)}}K.now=a.l.now;class N extends K{constructor(ne,he=K.now){super(ne,he),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ne){const{actions:he}=this;if(this._active)return void he.push(ne);let le;this._active=!0;do{if(le=ne.execute(ne.state,ne.delay))break}while(ne=he.shift());if(this._active=!1,le){for(;ne=he.shift();)ne.unsubscribe();throw le}}}},4986:($e,we,O)=>{"use strict";O.d(we,{z:()=>N});var a=O(4408);const N=new(O(7565).v)(a.o)},6063:($e,we,O)=>{"use strict";O.d(we,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},3410:($e,we,O)=>{"use strict";O.d(we,{z:()=>a});const a={setTimeout(...K){const{delegate:N}=a;return((null==N?void 0:N.setTimeout)||setTimeout)(...K)},clearTimeout(K){const{delegate:N}=a;return((null==N?void 0:N.clearTimeout)||clearTimeout)(K)},delegate:void 0}},2202:($e,we,O)=>{"use strict";O.d(we,{h:()=>K});const K=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:($e,we,O)=>{"use strict";O.d(we,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:($e,we,O)=>{"use strict";O.d(we,{_6:()=>he,jO:()=>ue,yG:()=>ne});var a=O(576);function N(le){return le[le.length-1]}function ue(le){return(0,a.m)(N(le))?le.pop():void 0}function ne(le){return function K(le){return le&&(0,a.m)(le.schedule)}(N(le))?le.pop():void 0}function he(le,fe){return"number"==typeof N(le)?le.pop():fe}},8737:($e,we,O)=>{"use strict";function a(K,N){if(K){const ue=K.indexOf(N);0<=ue&&K.splice(ue,1)}}O.d(we,{P:()=>a})},3888:($e,we,O)=>{"use strict";function a(K){const ue=K(ne=>{Error.call(ne),ne.stack=(new Error).stack});return ue.prototype=Object.create(Error.prototype),ue.prototype.constructor=ue,ue}O.d(we,{d:()=>a})},2806:($e,we,O)=>{"use strict";O.d(we,{x:()=>N,O:()=>ue});var a=O(2416);let K=null;function N(ne){if(a.v.useDeprecatedSynchronousErrorHandling){const he=!K;if(he&&(K={errorThrown:!1,error:null}),ne(),he){const{errorThrown:le,error:fe}=K;if(K=null,le)throw fe}}else ne()}function ue(ne){a.v.useDeprecatedSynchronousErrorHandling&&K&&(K.errorThrown=!0,K.error=ne)}},9672:($e,we,O)=>{"use strict";function a(K,N,ue,ne=0,he=!1){const le=N.schedule(function(){ue(),he?K.add(this.schedule(null,ne)):this.unsubscribe()},ne);if(K.add(le),!he)return le}O.d(we,{f:()=>a})},4671:($e,we,O)=>{"use strict";function a(K){return K}O.d(we,{y:()=>a})},1144:($e,we,O)=>{"use strict";O.d(we,{z:()=>a});const a=K=>K&&"number"==typeof K.length&&"function"!=typeof K},2206:($e,we,O)=>{"use strict";O.d(we,{D:()=>K});var a=O(576);function K(N){return Symbol.asyncIterator&&(0,a.m)(null==N?void 0:N[Symbol.asyncIterator])}},576:($e,we,O)=>{"use strict";function a(K){return"function"==typeof K}O.d(we,{m:()=>a})},3670:($e,we,O)=>{"use strict";O.d(we,{c:()=>N});var a=O(8822),K=O(576);function N(ue){return(0,K.m)(ue[a.L])}},6495:($e,we,O)=>{"use strict";O.d(we,{T:()=>N});var a=O(2202),K=O(576);function N(ue){return(0,K.m)(null==ue?void 0:ue[a.h])}},8239:($e,we,O)=>{"use strict";O.d(we,{t:()=>K});var a=O(576);function K(N){return(0,a.m)(null==N?void 0:N.then)}},3260:($e,we,O)=>{"use strict";O.d(we,{Q:()=>N,L:()=>ue});var a=O(655),K=O(576);function N(ne){return(0,a.FC)(this,arguments,function*(){const le=ne.getReader();try{for(;;){const{value:fe,done:ge}=yield(0,a.qq)(le.read());if(ge)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(fe)}}finally{le.releaseLock()}})}function ue(ne){return(0,K.m)(null==ne?void 0:ne.getReader)}},4482:($e,we,O)=>{"use strict";O.d(we,{e:()=>N});var a=O(576);function N(ue){return ne=>{if(function K(ue){return(0,a.m)(null==ue?void 0:ue.lift)}(ne))return ne.lift(function(he){try{return ue(he,this)}catch(le){this.error(le)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:($e,we,O)=>{"use strict";function a(){}O.d(we,{Z:()=>a})},7849:($e,we,O)=>{"use strict";O.d(we,{h:()=>N});var a=O(2416),K=O(3410);function N(ue){K.z.setTimeout(()=>{const{onUnhandledError:ne}=a.v;if(!ne)throw ue;ne(ue)})}},4532:($e,we,O)=>{"use strict";function a(K){return new TypeError(`You provided ${null!==K&&"object"==typeof K?"an invalid object":`'${K}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(we,{z:()=>a})},655:($e,we,O)=>{"use strict";function ue(z,ee){var de={};for(var X in z)Object.prototype.hasOwnProperty.call(z,X)&&ee.indexOf(X)<0&&(de[X]=z[X]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var Ie=0;for(X=Object.getOwnPropertySymbols(z);Ie<X.length;Ie++)ee.indexOf(X[Ie])<0&&Object.prototype.propertyIsEnumerable.call(z,X[Ie])&&(de[X[Ie]]=z[X[Ie]])}return de}function fe(z,ee,de,X){return new(de||(de=Promise))(function(te,rt){function wt(ze){try{Ge(X.next(ze))}catch(dn){rt(dn)}}function Xt(ze){try{Ge(X.throw(ze))}catch(dn){rt(dn)}}function Ge(ze){ze.done?te(ze.value):function Ie(te){return te instanceof de?te:new de(function(rt){rt(te)})}(ze.value).then(wt,Xt)}Ge((X=X.apply(z,ee||[])).next())})}function W(z){return this instanceof W?(this.v=z,this):new W(z)}function Y(z,ee,de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ie,X=de.apply(z,ee||[]),te=[];return Ie={},rt("next"),rt("throw"),rt("return"),Ie[Symbol.asyncIterator]=function(){return this},Ie;function rt(xt){X[xt]&&(Ie[xt]=function(Mn){return new Promise(function(bt,Pr){te.push([xt,Mn,bt,Pr])>1||wt(xt,Mn)})})}function wt(xt,Mn){try{!function Xt(xt){xt.value instanceof W?Promise.resolve(xt.value.v).then(Ge,ze):dn(te[0][2],xt)}(X[xt](Mn))}catch(bt){dn(te[0][3],bt)}}function Ge(xt){wt("next",xt)}function ze(xt){wt("throw",xt)}function dn(xt,Mn){xt(Mn),te.shift(),te.length&&wt(te[0][0],te[0][1])}}function _e(z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,ee=z[Symbol.asyncIterator];return ee?ee.call(z):(z=function J(z){var ee="function"==typeof Symbol&&Symbol.iterator,de=ee&&z[ee],X=0;if(de)return de.call(z);if(z&&"number"==typeof z.length)return{next:function(){return z&&X>=z.length&&(z=void 0),{value:z&&z[X++],done:!z}}};throw new TypeError(ee?"Object is not iterable.":"Symbol.iterator is not defined.")}(z),de={},X("next"),X("throw"),X("return"),de[Symbol.asyncIterator]=function(){return this},de);function X(te){de[te]=z[te]&&function(rt){return new Promise(function(wt,Xt){!function Ie(te,rt,wt,Xt){Promise.resolve(Xt).then(function(Ge){te({value:Ge,done:wt})},rt)}(wt,Xt,(rt=z[te](rt)).done,rt.value)})}}}O.d(we,{_T:()=>ue,mG:()=>fe,qq:()=>W,FC:()=>Y,KL:()=>_e})},5e3:($e,we,O)=>{"use strict";O.d(we,{AFp:()=>Mv,ip1:()=>im,CZH:()=>qu,hGG:()=>VI,sBO:()=>pI,_Vd:()=>Cd,EJc:()=>kv,SBq:()=>Ed,qLn:()=>Fn,vpe:()=>Ko,OlP:()=>Bt,zs3:()=>Yn,ZZ4:()=>Ov,aQg:()=>Fv,soG:()=>sm,h0i:()=>ro,R0b:()=>i,FiY:()=>yn,Lbi:()=>Sv,g9A:()=>hE,Qsj:()=>mh,FYo:()=>Zu,JOm:()=>ie,Rgc:()=>Gu,dDg:()=>x,q4F:()=>jy,GfV:()=>wd,s_b:()=>Sd,ifc:()=>ct,eFA:()=>Mi,G48:()=>hI,Gpc:()=>V,X6Q:()=>fI,_c5:()=>kI,VLi:()=>oe,zSh:()=>Oa,wAp:()=>Xe,vHH:()=>Ae,cg1:()=>Tl,kL8:()=>Eg,dqk:()=>vt,sIi:()=>td,CqO:()=>Kp,QGY:()=>cr,F4k:()=>ud,RDi:()=>$a,AaK:()=>fe,qOj:()=>Bp,TTD:()=>Fs,_Bn:()=>Uy,xp6:()=>rp,uIk:()=>Hp,ekj:()=>th,Xpm:()=>Vt,lG2:()=>Qo,Yz7:()=>bt,cJS:()=>Tt,oAB:()=>jn,Yjl:()=>oo,Y36:()=>ad,_UZ:()=>x_,BQk:()=>qp,ynx:()=>zp,qZA:()=>Wp,TgZ:()=>ld,EpF:()=>N_,n5z:()=>Ao,LFG:()=>k,$8M:()=>Zi,NdJ:()=>Yp,CRH:()=>Ml,oxw:()=>R_,Hsn:()=>O_,F$t:()=>P_,Q6J:()=>Ln,s9C:()=>Il,MGl:()=>cd,iGM:()=>Qg,MAs:()=>zo,CHM:()=>_o,LSH:()=>du,YNc:()=>C_,W1O:()=>dv,_uU:()=>lg,Oqu:()=>K_,hij:()=>ih,Gf:()=>ov});var a=O(7579),K=O(727),N=O(8306),ue=O(831),ne=O(3099);function he(n){for(let r in n)if(n[r]===he)return r;throw Error("Could not find renamed property on target object.")}function le(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function fe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(fe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function ge(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const H=he({__forward_ref__:he});function V(n){return n.__forward_ref__=V,n.toString=function(){return fe(this())},n}function J(n){return Le(n)?n():n}function Le(n){return"function"==typeof n&&n.hasOwnProperty(H)&&n.__forward_ref__===V}class Ae extends Error{constructor(r,s){super(function xe(n,r){return`NG0${Math.abs(n)}${r?": "+r:""}`}(r,s)),this.code=r}}function W(n){return"string"==typeof n?n:null==n?"":String(n)}function Y(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():W(n)}function De(n,r){const s=r?` in ${r}`:"";throw new Ae(-201,`No provider for ${Y(n)} found${s}`)}function Ge(n,r){null==n&&function ze(n,r,s,l){throw new Error(`ASSERTION ERROR: ${n}`+(null==l?"":` [Expected=> ${s} ${l} ${r} <=Actual]`))}(r,n,null,"!=")}function bt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Tt(n){return{providers:n.providers||[],imports:n.imports||[]}}function mt(n){return Or(n,Fr)||Or(n,Xn)}function Or(n,r){return n.hasOwnProperty(r)?n[r]:null}function Hn(n){return n&&(n.hasOwnProperty(xi)||n.hasOwnProperty(Lr))?n[xi]:null}const Fr=he({\u0275prov:he}),xi=he({\u0275inj:he}),Xn=he({ngInjectableDef:he}),Lr=he({ngInjectorDef:he});var Je=(()=>((Je=Je||{})[Je.Default=0]="Default",Je[Je.Host=1]="Host",Je[Je.Self=2]="Self",Je[Je.SkipSelf=4]="SkipSelf",Je[Je.Optional=8]="Optional",Je))();let er;function en(n){const r=er;return er=n,r}function ki(n,r,s){const l=mt(n);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:s&Je.Optional?null:void 0!==r?r:void De(fe(n),"Injector")}function He(n){return{toString:n}.toString()}var ut=(()=>((ut=ut||{})[ut.OnPush=0]="OnPush",ut[ut.Default=1]="Default",ut))(),ct=(()=>{return(n=ct||(ct={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",ct;var n})();const je="undefined"!=typeof globalThis&&globalThis,qe="undefined"!=typeof window&&window,wr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,vt=je||"undefined"!=typeof global&&global||qe||wr,fr={},F=[],B=he({\u0275cmp:he}),j=he({\u0275dir:he}),me=he({\u0275pipe:he}),Q=he({\u0275mod:he}),Fe=he({\u0275fac:he}),Qe=he({__NG_ELEMENT_ID__:he});let kt=0;function Vt(n){return He(()=>{const s={},l={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===ut.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||F,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||ct.Emulated,id:"c",styles:n.styles||F,_:null,setInput:null,schemas:n.schemas||null,tView:null},c=n.directives,f=n.features,m=n.pipes;return l.id+=kt++,l.inputs=so(n.inputs,s),l.outputs=so(n.outputs),f&&f.forEach(v=>v(l)),l.directiveDefs=c?()=>("function"==typeof c?c():c).map(nr):null,l.pipeDefs=m?()=>("function"==typeof m?m():m).map(dt):null,l})}function nr(n){return pn(n)||function Zn(n){return n[j]||null}(n)}function dt(n){return function ei(n){return n[me]||null}(n)}const hn={};function jn(n){return He(()=>{const r={type:n.type,bootstrap:n.bootstrap||F,declarations:n.declarations||F,imports:n.imports||F,exports:n.exports||F,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(hn[n.id]=n.type),r})}function so(n,r){if(null==n)return fr;const s={};for(const l in n)if(n.hasOwnProperty(l)){let c=n[l],f=c;Array.isArray(c)&&(f=c[1],c=c[0]),s[c]=l,r&&(r[c]=f)}return s}const Qo=Vt;function oo(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function pn(n){return n[B]||null}function gn(n,r){const s=n[Q]||null;if(!s&&!0===r)throw new Error(`Type ${fe(n)} does not have '\u0275mod' property.`);return s}function Ir(n){return Array.isArray(n)&&"object"==typeof n[1]}function hr(n){return Array.isArray(n)&&!0===n[1]}function Pl(n){return 0!=(8&n.flags)}function Jo(n){return 2==(2&n.flags)}function Pi(n){return 1==(1&n.flags)}function pr(n){return null!==n.template}function Ku(n){return 0!=(512&n[2])}function gr(n,r){return n.hasOwnProperty(Fe)?n[Fe]:null}class os{constructor(r,s,l){this.previousValue=r,this.currentValue=s,this.firstChange=l}isFirstChange(){return this.firstChange}}function Fs(){return Ls}function Ls(n){return n.type.prototype.ngOnChanges&&(n.setInput=Vd),Ul}function Ul(){const n=Hl(this),r=null==n?void 0:n.current;if(r){const s=n.previous;if(s===fr)n.previous=r;else for(let l in r)s[l]=r[l];n.current=null,this.ngOnChanges(r)}}function Vd(n,r,s,l){const c=Hl(n)||function oi(n,r){return n[si]=r}(n,{previous:fr,current:null}),f=c.current||(c.current={}),m=c.previous,v=this.declaredInputs[s],C=m[v];f[v]=new os(C&&C.currentValue,r,m===fr),n[l]=r}Fs.ngInherit=!0;const si="__ngSimpleChanges__";function Hl(n){return n[si]||null}let Ga;function $a(n){Ga=n}function Ot(n){return!!n.listen}const co={createRenderer:(n,r)=>function ai(){return void 0!==Ga?Ga:"undefined"!=typeof document?document:void 0}()};function Mt(n){for(;Array.isArray(n);)n=n[0];return n}function as(n,r){return Mt(r[n])}function Cn(n,r){return Mt(r[n.index])}function Wt(n,r){return n.data[r]}function En(n,r){const s=r[n];return Ir(s)?s:s[0]}function Vs(n){return 4==(4&n[2])}function Vr(n){return 128==(128&n[2])}function sr(n,r){return null==r?null:n[r]}function Li(n){n[18]=0}function Vi(n,r){n[5]+=r;let s=n,l=n[3];for(;null!==l&&(1===r&&1===s[5]||-1===r&&0===s[5]);)l[5]+=r,s=l,l=l[3]}const Ke={lFrame:cs(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function qa(){return Ke.bindingsEnabled}function ye(){return Ke.lFrame.lView}function pt(){return Ke.lFrame.tView}function _o(n){return Ke.lFrame.contextLView=n,n[8]}function zt(){let n=Bi();for(;null!==n&&64===n.type;)n=n.parent;return n}function Bi(){return Ke.lFrame.currentTNode}function Wn(n,r){const s=Ke.lFrame;s.currentTNode=n,s.isParent=r}function Ka(){return Ke.lFrame.isParent}function Ya(){Ke.lFrame.isParent=!1}function vo(){return Ke.isInCheckNoChangesMode}function Bs(n){Ke.isInCheckNoChangesMode=n}function Br(){return Ke.lFrame.bindingIndex++}function Eo(n,r){const s=Ke.lFrame;s.bindingIndex=s.bindingRootIndex=n,ls(r)}function ls(n){Ke.lFrame.currentDirectiveIndex=n}function wo(){return Ke.lFrame.currentQueryIndex}function Xa(n){Ke.lFrame.currentQueryIndex=n}function Bd(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function ra(n,r,s){if(s&Je.SkipSelf){let c=r,f=n;for(;!(c=c.parent,null!==c||s&Je.Host||(c=Bd(f),null===c||(f=f[15],10&c.type))););if(null===c)return!1;r=c,n=f}const l=Ke.lFrame=el();return l.currentTNode=r,l.lView=n,!0}function us(n){const r=el(),s=n[1];Ke.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function el(){const n=Ke.lFrame,r=null===n?null:n.child;return null===r?cs(n):r}function cs(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function Yl(){const n=Ke.lFrame;return Ke.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Ju=Yl;function Us(){const n=Yl();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function wn(){return Ke.lFrame.selectedIndex}function ci(n){Ke.lFrame.selectedIndex=n}function qt(){const n=Ke.lFrame;return Wt(n.tView,n.selectedIndex)}function di(n,r){for(let s=r.directiveStart,l=r.directiveEnd;s<l;s++){const f=n.data[s].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:v,ngAfterViewInit:C,ngAfterViewChecked:b,ngOnDestroy:A}=f;m&&(n.contentHooks||(n.contentHooks=[])).push(-s,m),v&&((n.contentHooks||(n.contentHooks=[])).push(s,v),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,v)),C&&(n.viewHooks||(n.viewHooks=[])).push(-s,C),b&&((n.viewHooks||(n.viewHooks=[])).push(s,b),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,b)),null!=A&&(n.destroyHooks||(n.destroyHooks=[])).push(s,A)}}function Io(n,r,s){In(n,r,3,s)}function nl(n,r,s,l){(3&n[2])===s&&In(n,r,s,l)}function ia(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function In(n,r,s,l){const f=null!=l?l:-1,m=r.length-1;let v=0;for(let C=void 0!==l?65535&n[18]:0;C<m;C++)if("number"==typeof r[C+1]){if(v=r[C],null!=l&&v>=l)break}else r[C]<0&&(n[18]+=65536),(v<f||-1==f)&&(tc(n,s,r,C),n[18]=(4294901760&n[18])+C+2),C++}function tc(n,r,s,l){const c=s[l]<0,f=s[l+1],v=n[c?-s[l]:s[l]];if(c){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{f.call(v)}finally{}}}else try{f.call(v)}finally{}}class Hs{constructor(r,s,l){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=l}}function Bn(n,r,s){const l=Ot(n);let c=0;for(;c<s.length;){const f=s[c];if("number"==typeof f){if(0!==f)break;c++;const m=s[c++],v=s[c++],C=s[c++];l?n.setAttribute(r,v,C,m):r.setAttributeNS(m,v,C)}else{const m=f,v=s[++c];To(m)?l&&n.setProperty(r,m,v):l?n.setAttribute(r,m,v):r.setAttribute(m,v),c++}}return c}function _r(n){return 3===n||4===n||6===n}function To(n){return 64===n.charCodeAt(0)}function ds(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let l=0;l<r.length;l++){const c=r[l];"number"==typeof c?s=c:0===s||br(n,s,c,null,-1===s||2===s?r[++l]:null)}}return n}function br(n,r,s,l,c){let f=0,m=n.length;if(-1===r)m=-1;else for(;f<n.length;){const v=n[f++];if("number"==typeof v){if(v===r){m=-1;break}if(v>r){m=f-1;break}}}for(;f<n.length;){const v=n[f];if("number"==typeof v)break;if(v===s){if(null===l)return void(null!==c&&(n[f+1]=c));if(l===n[f+1])return void(n[f+2]=c)}f++,null!==l&&f++,null!==c&&f++}-1!==m&&(n.splice(m,0,r),f=m+1),n.splice(f++,0,s),null!==l&&n.splice(f++,0,l),null!==c&&n.splice(f++,0,c)}function oa(n){return-1!==n}function _t(n){return 32767&n}function Hr(n,r){let s=function aa(n){return n>>16}(n),l=r;for(;s>0;)l=l[15],s--;return l}let yr=!0;function Dn(n){const r=yr;return yr=n,r}let rl=0;function Ui(n,r){const s=Hi(n,r);if(-1!==s)return s;const l=r[1];l.firstCreatePass&&(n.injectorIndex=r.length,fs(l.data,n),fs(r,null),fs(l.blueprint,null));const c=ca(n,r),f=n.injectorIndex;if(oa(c)){const m=_t(c),v=Hr(c,r),C=v[1].data;for(let b=0;b<8;b++)r[f+b]=v[m+b]|C[m+b]}return r[f+8]=c,f}function fs(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Hi(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function ca(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,l=null,c=r;for(;null!==c;){const f=c[1],m=f.type;if(l=2===m?f.declTNode:1===m?c[6]:null,null===l)return-1;if(s++,c=c[15],-1!==l.injectorIndex)return l.injectorIndex|s<<16}return-1}function Ft(n,r,s){!function ua(n,r,s){let l;"string"==typeof s?l=s.charCodeAt(0)||0:s.hasOwnProperty(Qe)&&(l=s[Qe]),null==l&&(l=s[Qe]=rl++);const c=255&l;r.data[n+(c>>5)]|=1<<c}(n,r,s)}function js(n,r,s){if(s&Je.Optional)return n;De(r,"NodeInjector")}function Tr(n,r,s,l){if(s&Je.Optional&&void 0===l&&(l=null),0==(s&(Je.Self|Je.Host))){const c=n[9],f=en(void 0);try{return c?c.get(r,l,s&Je.Optional):ki(r,l,s&Je.Optional)}finally{en(f)}}return js(l,r,s)}function Ar(n,r,s,l=Je.Default,c){if(null!==n){const f=function sl(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Qe)?n[Qe]:void 0;return"number"==typeof r?r>=0?255&r:R:r}(s);if("function"==typeof f){if(!ra(r,n,l))return l&Je.Host?js(c,s,l):Tr(r,s,l,c);try{const m=f(l);if(null!=m||l&Je.Optional)return m;De(s)}finally{Ju()}}else if("number"==typeof f){let m=null,v=Hi(n,r),C=-1,b=l&Je.Host?r[16][6]:null;for((-1===v||l&Je.SkipSelf)&&(C=-1===v?ca(n,r):r[v+8],-1!==C&&da(l,!1)?(m=r[1],v=_t(C),r=Hr(C,r)):v=-1);-1!==v;){const A=r[1];if(ol(f,v,A.data)){const P=Zs(v,r,s,m,l,b);if(P!==Zr)return P}C=r[v+8],-1!==C&&da(l,r[1].data[v+8]===b)&&ol(f,v,r)?(m=A,v=_t(C),r=Hr(C,r)):v=-1}}}return Tr(r,s,l,c)}const Zr={};function R(){return new ji(zt(),ye())}function Zs(n,r,s,l,c,f){const m=r[1],v=m.data[n+8],A=il(v,m,s,null==l?Jo(v)&&yr:l!=m&&0!=(3&v.type),c&Je.Host&&f===v);return null!==A?Mr(r,m,A,v):Zr}function il(n,r,s,l,c){const f=n.providerIndexes,m=r.data,v=1048575&f,C=n.directiveStart,A=f>>20,L=c?v+A:n.directiveEnd;for(let q=l?v:v+A;q<L;q++){const pe=m[q];if(q<C&&s===pe||q>=C&&pe.type===s)return q}if(c){const q=m[C];if(q&&pr(q)&&q.type===s)return C}return null}function Mr(n,r,s,l){let c=n[s];const f=r.data;if(function Ud(n){return n instanceof Hs}(c)){const m=c;m.resolving&&function ce(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new Ae(-200,`Circular dependency in DI detected for ${n}${s}`)}(Y(f[s]));const v=Dn(m.canSeeViewProviders);m.resolving=!0;const C=m.injectImpl?en(m.injectImpl):null;ra(n,l,Je.Default);try{c=n[s]=m.factory(void 0,f,n,l),r.firstCreatePass&&s>=l.directiveStart&&function tl(n,r,s){const{ngOnChanges:l,ngOnInit:c,ngDoCheck:f}=r.type.prototype;if(l){const m=Ls(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,m),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,m)}c&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,c),f&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,f),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,f))}(s,f[s],r)}finally{null!==C&&en(C),Dn(v),m.resolving=!1,Ju()}}return c}function ol(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function da(n,r){return!(n&Je.Self||n&Je.Host&&r)}class ji{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,l){return Ar(this._tNode,this._lView,r,l,s)}}function Ao(n){return He(()=>{const r=n.prototype.constructor,s=r[Fe]||Gr(r),l=Object.prototype;let c=Object.getPrototypeOf(n.prototype).constructor;for(;c&&c!==l;){const f=c[Fe]||Gr(c);if(f&&f!==s)return f;c=Object.getPrototypeOf(c)}return f=>new f})}function Gr(n){return Le(n)?()=>{const r=Gr(J(n));return r&&r()}:gr(n)}function Zi(n){return function Xl(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const l=s.length;let c=0;for(;c<l;){const f=s[c];if(_r(f))break;if(0===f)c+=2;else if("number"==typeof f)for(c++;c<l&&"string"==typeof s[c];)c++;else{if(f===r)return s[c+1];c+=2}}}return null}(zt(),n)}const hi="__parameters__";function hs(n,r,s){return He(()=>{const l=function $i(n){return function(...s){if(n){const l=n(...s);for(const c in l)this[c]=l[c]}}}(r);function c(...f){if(this instanceof c)return l.apply(this,f),this;const m=new c(...f);return v.annotation=m,v;function v(C,b,A){const P=C.hasOwnProperty(hi)?C[hi]:Object.defineProperty(C,hi,{value:[]})[hi];for(;P.length<=A;)P.push(null);return(P[A]=P[A]||[]).push(m),C}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=n,c.annotationCls=c,c})}class Bt{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=bt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}function Rn(n,r){void 0===r&&(r=n);for(let s=0;s<n.length;s++){let l=n[s];Array.isArray(l)?(r===n&&(r=n.slice(0,s)),Rn(l,r)):r!==n&&r.push(l)}return r}function vr(n,r){n.forEach(s=>Array.isArray(s)?vr(s,r):r(s))}function eu(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function $s(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function gi(n,r){const s=[];for(let l=0;l<n;l++)s.push(r);return s}function Pn(n,r,s){let l=Cr(n,r);return l>=0?n[1|l]=s:(l=~l,function ha(n,r,s,l){let c=n.length;if(c==r)n.push(s,l);else if(1===c)n.push(l,n[0]),n[0]=s;else{for(c--,n.push(n[c-1],n[c]);c>r;)n[c]=n[c-2],c--;n[r]=s,n[r+1]=l}}(n,l,r,s)),l}function pa(n,r){const s=Cr(n,r);if(s>=0)return n[1|s]}function Cr(n,r){return function nu(n,r,s){let l=0,c=n.length>>s;for(;c!==l;){const f=l+(c-l>>1),m=n[f<<s];if(r===m)return f<<s;m>r?c=f:l=f+1}return~(c<<s)}(n,r,1)}const vi={},xr="__NG_DI_FLAG__",_a="ngTempTokenPath",ko=/\n/gm,ya="__source",ru=he({provide:String,useValue:he});let E;function w(n){const r=E;return E=n,r}function M(n,r=Je.Default){if(void 0===E)throw new Ae(203,"");return null===E?ki(n,void 0,r):E.get(n,r&Je.Optional?null:void 0,r)}function k(n,r=Je.Default){return(function fn(){return er}()||M)(J(n),r)}function Ce(n){const r=[];for(let s=0;s<n.length;s++){const l=J(n[s]);if(Array.isArray(l)){if(0===l.length)throw new Ae(900,"");let c,f=Je.Default;for(let m=0;m<l.length;m++){const v=l[m],C=ke(v);"number"==typeof C?-1===C?c=v.token:f|=C:c=v}r.push(k(c,f))}else r.push(k(l))}return r}function Pe(n,r){return n[xr]=r,n.prototype[xr]=r,n}function ke(n){return n[xr]}const _n=Pe(hs("Inject",n=>({token:n})),-1),yn=Pe(hs("Optional"),8),Wr=Pe(hs("SkipSelf"),4);class hc{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function yt(n){return n instanceof hc?n.changingThisBreaksApplicationSecurity:n}const Oo=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Yd=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var un=(()=>((un=un||{})[un.NONE=0]="NONE",un[un.HTML=1]="HTML",un[un.STYLE=2]="STYLE",un[un.SCRIPT=3]="SCRIPT",un[un.URL=4]="URL",un[un.RESOURCE_URL=5]="RESOURCE_URL",un))();function du(n){const r=function Fo(){const n=ye();return n&&n[12]}();return r?r.sanitize(un.URL,n)||"":function Po(n,r){const s=function qd(n){return n instanceof hc&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}(n,"URL")?yt(n):function Yr(n){return(n=String(n)).match(Oo)||n.match(Yd)?n:"unsafe:"+n}(W(n))}const it="__ngContext__";function Kn(n,r){n[it]=r}function wc(n){const r=function Ei(n){return n[it]||null}(n);return r?Array.isArray(r)?r:r.lView:null}function Qs(n){return n.ngOriginalError}function ba(n,...r){n.error(...r)}class Fn{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r),l=function pl(n){return n&&n.ngErrorLogger||ba}(r);l(this._console,"ERROR",r),s&&l(this._console,"ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Qs(r);for(;s&&Qs(s);)s=Qs(s);return s||null}}const of=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(vt))();function h(n){return n instanceof Function?n():n}var ie=(()=>((ie=ie||{})[ie.Important=1]="Important",ie[ie.DashCase=2]="DashCase",ie))();function Ue(n,r){return undefined(n,r)}function Qt(n){const r=n[3];return hr(r)?r[3]:r}function Ta(n){return Aa(n[13])}function Uo(n){return Aa(n[4])}function Aa(n){for(;null!==n&&!hr(n);)n=n[4];return n}function Er(n,r,s,l,c){if(null!=l){let f,m=!1;hr(l)?f=l:Ir(l)&&(m=!0,l=l[0]);const v=Mt(l);0===n&&null!==s?null==c?df(r,s,v):Ma(r,s,v,c||null,!0):1===n&&null!==s?Ma(r,s,v,c||null,!0):2===n?function ym(n,r,s){const l=ws(n,r);l&&function gm(n,r,s,l){Ot(n)?n.removeChild(r,s,l):r.removeChild(s)}(n,l,r,s)}(r,v,m):3===n&&r.destroyNode(v),null!=f&&function Vv(n,r,s,l,c){const f=s[7];f!==Mt(s)&&Er(r,n,l,f,c);for(let v=10;v<s.length;v++){const C=s[v];mu(C[1],C,n,r,l,f)}}(r,n,f,s,c)}}function pu(n,r,s){if(Ot(n))return n.createElement(r,s);{const l=null!==s?function Za(n){const r=n.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(s):null;return null===l?n.createElement(r):n.createElementNS(l,r)}}function Oc(n,r){const s=n[9],l=s.indexOf(r),c=r[3];1024&r[2]&&(r[2]&=-1025,Vi(c,-1)),s.splice(l,1)}function Ho(n,r){if(n.length<=10)return;const s=10+r,l=n[s];if(l){const c=l[17];null!==c&&c!==n&&Oc(c,l),r>0&&(n[s-1][4]=l[4]);const f=$s(n,10+r);!function yl(n,r){mu(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(l[1],l);const m=f[19];null!==m&&m.detachView(f[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function uf(n,r){if(!(256&r[2])){const s=r[11];Ot(s)&&s.destroyNode&&mu(n,r,s,3,null,null),function lf(n){let r=n[13];if(!r)return qh(n[1],n);for(;r;){let s=null;if(Ir(r))s=r[13];else{const l=r[10];l&&(s=l)}if(!s){for(;r&&!r[4]&&r!==n;)Ir(r)&&qh(r[1],r),r=r[3];null===r&&(r=n),Ir(r)&&qh(r[1],r),s=r&&r[4]}r=s}}(r)}}function qh(n,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function Es(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let l=0;l<s.length;l+=2){const c=r[s[l]];if(!(c instanceof Hs)){const f=s[l+1];if(Array.isArray(f))for(let m=0;m<f.length;m+=2){const v=c[f[m]],C=f[m+1];try{C.call(v)}finally{}}else try{f.call(c)}finally{}}}}(n,r),function Gt(n,r){const s=n.cleanup,l=r[7];let c=-1;if(null!==s)for(let f=0;f<s.length-1;f+=2)if("string"==typeof s[f]){const m=s[f+1],v="function"==typeof m?m(r):Mt(r[m]),C=l[c=s[f+2]],b=s[f+3];"boolean"==typeof b?v.removeEventListener(s[f],C,b):b>=0?l[c=b]():l[c=-b].unsubscribe(),f+=2}else{const m=l[c=s[f+1]];s[f].call(m)}if(null!==l){for(let f=c+1;f<l.length;f++)l[f]();r[7]=null}}(n,r),1===r[1].type&&Ot(r[11])&&r[11].destroy();const s=r[17];if(null!==s&&hr(r[3])){s!==r[3]&&Oc(s,r);const l=r[19];null!==l&&l.detachView(n)}}}function gu(n,r,s){return function cf(n,r,s){let l=r;for(;null!==l&&40&l.type;)l=(r=l).parent;if(null===l)return s[0];if(2&l.flags){const c=n.data[l.directiveStart].encapsulation;if(c===ct.None||c===ct.Emulated)return null}return Cn(l,s)}(n,r.parent,s)}function Ma(n,r,s,l,c){Ot(n)?n.insertBefore(r,s,l,c):r.insertBefore(s,l,c)}function df(n,r,s){Ot(n)?n.appendChild(r,s):r.appendChild(s)}function Sa(n,r,s,l,c){null!==l?Ma(n,r,s,l,c):df(n,r,s)}function ws(n,r){return Ot(n)?n.parentNode(r):r.parentNode}function vl(n,r,s){return Fc(n,r,s)}let Fc=function Yh(n,r,s){return 40&n.type?Cn(n,s):null};function ff(n,r,s,l){const c=gu(n,l,r),f=r[11],v=vl(l.parent||r[6],l,r);if(null!=c)if(Array.isArray(s))for(let C=0;C<s.length;C++)Sa(f,c,s[C],v,!1);else Sa(f,c,s,v,!1)}function hf(n,r){if(null!==r){const s=r.type;if(3&s)return Cn(r,n);if(4&s)return Jh(-1,n[r.index]);if(8&s){const l=r.child;if(null!==l)return hf(n,l);{const c=n[r.index];return hr(c)?Jh(-1,c):Mt(c)}}if(32&s)return Ue(r,n)()||Mt(n[r.index]);{const l=_m(n,r);return null!==l?Array.isArray(l)?l[0]:hf(Qt(n[16]),l):hf(n,r.next)}}return null}function _m(n,r){return null!==r?n[16][6].projection[r.projection]:null}function Jh(n,r){const s=10+n+1;if(s<r.length){const l=r[s],c=l[1].firstChild;if(null!==c)return hf(l,c)}return r[7]}function pf(n,r,s,l,c,f,m){for(;null!=s;){const v=l[s.index],C=s.type;if(m&&0===r&&(v&&Kn(Mt(v),l),s.flags|=4),64!=(64&s.flags))if(8&C)pf(n,r,s.child,l,c,f,!1),Er(r,n,c,v,f);else if(32&C){const b=Ue(s,l);let A;for(;A=b();)Er(r,n,c,A,f);Er(r,n,c,v,f)}else 16&C?vm(n,r,l,s,c,f):Er(r,n,c,v,f);s=m?s.projectionNext:s.next}}function mu(n,r,s,l,c,f){pf(s,l,n.firstChild,r,c,f,!1)}function vm(n,r,s,l,c,f){const m=s[16],C=m[6].projection[l.projection];if(Array.isArray(C))for(let b=0;b<C.length;b++)Er(r,n,c,C[b],f);else pf(n,r,C,m[3],c,f,!0)}function Cm(n,r,s){Ot(n)?n.setAttribute(r,"style",s):r.style.cssText=s}function Xh(n,r,s){Ot(n)?""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s):r.className=s}function Lc(n,r,s){let l=n.length;for(;;){const c=n.indexOf(r,s);if(-1===c)return c;if(0===c||n.charCodeAt(c-1)<=32){const f=r.length;if(c+f===l||n.charCodeAt(c+f)<=32)return c}s=c+1}}const ep="ng-template";function gf(n,r,s){let l=0;for(;l<n.length;){let c=n[l++];if(s&&"class"===c){if(c=n[l],-1!==Lc(c.toLowerCase(),r,0))return!0}else if(1===c){for(;l<n.length&&"string"==typeof(c=n[l++]);)if(c.toLowerCase()===r)return!0;return!1}}return!1}function wm(n){return 4===n.type&&n.value!==ep}function tp(n,r,s){return r===(4!==n.type||s?n.value:ep)}function Im(n,r,s){let l=4;const c=n.attrs||[],f=function np(n){for(let r=0;r<n.length;r++)if(_r(n[r]))return r;return n.length}(c);let m=!1;for(let v=0;v<r.length;v++){const C=r[v];if("number"!=typeof C){if(!m)if(4&l){if(l=2|1&l,""!==C&&!tp(n,C,s)||""===C&&1===r.length){if(Ki(l))return!1;m=!0}}else{const b=8&l?C:r[++v];if(8&l&&null!==n.attrs){if(!gf(n.attrs,b,s)){if(Ki(l))return!1;m=!0}continue}const P=Uv(8&l?"class":C,c,wm(n),s);if(-1===P){if(Ki(l))return!1;m=!0;continue}if(""!==b){let L;L=P>f?"":c[P+1].toLowerCase();const q=8&l?L:null;if(q&&-1!==Lc(q,b,0)||2&l&&b!==L){if(Ki(l))return!1;m=!0}}}}else{if(!m&&!Ki(l)&&!Ki(C))return!1;if(m&&Ki(C))continue;m=!1,l=C|1&l}}return Ki(l)||m}function Ki(n){return 0==(1&n)}function Uv(n,r,s,l){if(null===r)return-1;let c=0;if(l||!s){let f=!1;for(;c<r.length;){const m=r[c];if(m===n)return c;if(3===m||6===m)f=!0;else{if(1===m||2===m){let v=r[++c];for(;"string"==typeof v;)v=r[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=f?1:2}return-1}return function Hv(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const l=n[s];if("number"==typeof l)return-1;if(l===r)return s;s++}return-1}(r,n)}function Dm(n,r,s=!1){for(let l=0;l<r.length;l++)if(Im(n,r[l],s))return!0;return!1}function jv(n,r){e:for(let s=0;s<r.length;s++){const l=r[s];if(n.length===l.length){for(let c=0;c<n.length;c++)if(n[c]!==l[c])continue e;return!0}}return!1}function Tm(n,r){return n?":not("+r.trim()+")":r}function Zv(n){let r=n[0],s=1,l=2,c="",f=!1;for(;s<n.length;){let m=n[s];if("string"==typeof m)if(2&l){const v=n[++s];c+="["+m+(v.length>0?'="'+v+'"':"")+"]"}else 8&l?c+="."+m:4&l&&(c+=" "+m);else""!==c&&!Ki(m)&&(r+=Tm(f,c),c=""),l=m,f=f||!Ki(l);s++}return""!==c&&(r+=Tm(f,c)),r}const st={};function rp(n){Mm(pt(),ye(),wn()+n,vo())}function Mm(n,r,s,l){if(!l)if(3==(3&r[2])){const f=n.preOrderCheckHooks;null!==f&&Io(r,f,s)}else{const f=n.preOrderHooks;null!==f&&nl(r,f,0,s)}ci(s)}function _u(n,r){return n<<17|r<<2}function Is(n){return n>>17&32767}function sp(n){return 2|n}function jo(n){return(131068&n)>>2}function op(n,r){return-131069&n|r<<2}function _f(n){return 1|n}function Df(n,r){const s=n.contentQueries;if(null!==s)for(let l=0;l<s.length;l+=2){const c=s[l],f=s[l+1];if(-1!==f){const m=n.data[f];Xa(c),m.contentQueries(2,r[f],f)}}}function Hc(n,r,s,l,c,f,m,v,C,b){const A=r.blueprint.slice();return A[0]=c,A[2]=140|l,Li(A),A[3]=A[15]=n,A[8]=s,A[10]=m||n&&n[10],A[11]=v||n&&n[11],A[12]=C||n&&n[12]||null,A[9]=b||n&&n[9]||null,A[6]=f,A[16]=2==r.type?n[16]:A,A}function Js(n,r,s,l,c){let f=n.data[r];if(null===f)f=function gp(n,r,s,l,c){const f=Bi(),m=Ka(),C=n.data[r]=function Lm(n,r,s,l,c,f){return{type:s,index:l,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?f:f&&f.parent,s,r,l,c);return null===n.firstChild&&(n.firstChild=C),null!==f&&(m?null==f.child&&null!==C.parent&&(f.child=C):null===f.next&&(f.next=C)),C}(n,r,s,l,c),function Co(){return Ke.lFrame.inI18n}()&&(f.flags|=64);else if(64&f.type){f.type=s,f.value=l,f.attrs=c;const m=function yo(){const n=Ke.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();f.injectorIndex=null===m?-1:m.injectorIndex}return Wn(f,!0),f}function wu(n,r,s,l){if(0===s)return-1;const c=r.length;for(let f=0;f<s;f++)r.push(l),n.blueprint.push(l),n.data.push(null);return c}function jc(n,r,s){us(r);try{const l=n.viewQuery;null!==l&&Ap(1,l,s);const c=n.template;null!==c&&Fm(n,r,c,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Df(n,r),n.staticViewQueries&&Ap(2,n.viewQuery,s);const f=n.components;null!==f&&function pp(n,r){for(let s=0;s<r.length;s++)Km(n,r[s])}(r,f)}catch(l){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),l}finally{r[2]&=-5,Us()}}function Na(n,r,s,l){const c=r[2];if(256==(256&c))return;us(r);const f=vo();try{Li(r),function Qa(n){return Ke.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&Fm(n,r,s,2,l);const m=3==(3&c);if(!f)if(m){const b=n.preOrderCheckHooks;null!==b&&Io(r,b,null)}else{const b=n.preOrderHooks;null!==b&&nl(r,b,0,null),ia(r,0)}if(function Xv(n){for(let r=Ta(n);null!==r;r=Uo(r)){if(!r[2])continue;const s=r[9];for(let l=0;l<s.length;l++){const c=s[l],f=c[3];0==(1024&c[2])&&Vi(f,1),c[2]|=1024}}}(r),function qm(n){for(let r=Ta(n);null!==r;r=Uo(r))for(let s=10;s<r.length;s++){const l=r[s],c=l[1];Vr(l)&&Na(c,l,c.template,l[8])}}(r),null!==n.contentQueries&&Df(n,r),!f)if(m){const b=n.contentCheckHooks;null!==b&&Io(r,b)}else{const b=n.contentHooks;null!==b&&nl(r,b,1),ia(r,1)}!function If(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let l=0;l<s.length;l++){const c=s[l];if(c<0)ci(~c);else{const f=c,m=s[++l],v=s[++l];Eo(m,f),v(2,r[f])}}}finally{ci(-1)}}(n,r);const v=n.components;null!==v&&function hp(n,r){for(let s=0;s<r.length;s++)e0(n,r[s])}(r,v);const C=n.viewQuery;if(null!==C&&Ap(2,C,l),!f)if(m){const b=n.viewCheckHooks;null!==b&&Io(r,b)}else{const b=n.viewHooks;null!==b&&nl(r,b,2),ia(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),f||(r[2]&=-73),1024&r[2]&&(r[2]&=-1025,Vi(r[3],-1))}finally{Us()}}function mp(n,r,s,l){const c=r[10],f=!vo(),m=Vs(r);try{f&&!m&&c.begin&&c.begin(),m&&jc(n,r,l),Na(n,r,s,l)}finally{f&&!m&&c.end&&c.end()}}function Fm(n,r,s,l,c){const f=wn(),m=2&l;try{ci(-1),m&&r.length>20&&Mm(n,r,20,vo()),s(l,c)}finally{ci(f)}}function _p(n,r,s){if(Pl(r)){const c=r.directiveEnd;for(let f=r.directiveStart;f<c;f++){const m=n.data[f];m.contentQueries&&m.contentQueries(1,s[f],f)}}}function yp(n,r,s){!qa()||(function Xs(n,r,s,l){const c=s.directiveStart,f=s.directiveEnd;n.firstCreatePass||Ui(s,r),Kn(l,r);const m=s.initialInputs;for(let v=c;v<f;v++){const C=n.data[v],b=pr(C);b&&Wm(r,s,C);const A=Mr(r,n,v,s);Kn(A,r),null!==m&&Dp(0,v-c,A,C,0,m),b&&(En(s.index,r)[8]=A)}}(n,r,s,Cn(s,r)),128==(128&s.flags)&&function $c(n,r,s){const l=s.directiveStart,c=s.directiveEnd,m=s.index,v=function Kl(){return Ke.lFrame.currentDirectiveIndex}();try{ci(m);for(let C=l;C<c;C++){const b=n.data[C],A=r[C];ls(C),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&Zm(b,A)}}finally{ci(-1),ls(v)}}(n,r,s))}function vp(n,r,s=Cn){const l=r.localNames;if(null!==l){let c=r.index+1;for(let f=0;f<l.length;f+=2){const m=l[f+1],v=-1===m?s(r,n):n[m];n[c++]=v}}}function Cp(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Iu(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Iu(n,r,s,l,c,f,m,v,C,b){const A=20+l,P=A+c,L=function Ep(n,r){const s=[];for(let l=0;l<r;l++)s.push(l<n?null:st);return s}(A,P),q="function"==typeof b?b():b;return L[1]={type:n,blueprint:L,template:s,queries:null,viewQuery:v,declTNode:r,data:L.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:C,consts:q,incompleteFirstPass:!1}}function Tf(n,r,s,l){const c=Jm(r);null===s?c.push(l):(c.push(s),n.firstCreatePass&&Xm(n).push(l,c.length-1))}function Vm(n,r,s){for(let l in n)if(n.hasOwnProperty(l)){const c=n[l];(s=null===s?{}:s).hasOwnProperty(l)?s[l].push(r,c):s[l]=[r,c]}return s}function Ii(n,r,s,l,c,f,m,v){const C=Cn(r,s);let A,b=r.inputs;!v&&null!=b&&(A=b[l])?(Mp(n,s,A,l,c),Jo(r)&&function Zc(n,r){const s=En(r,n);16&s[2]||(s[2]|=64)}(s,r.index)):3&r.type&&(l=function Bm(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(l),c=null!=m?m(c,r.value||"",l):c,Ot(f)?f.setProperty(C,l,c):To(l)||(C.setProperty?C.setProperty(l,c):C[l]=c))}function Sf(n,r,s,l){let c=!1;if(qa()){const f=function Gm(n,r,s){const l=n.directiveRegistry;let c=null;if(l)for(let f=0;f<l.length;f++){const m=l[f];Dm(s,m.selectors,!1)&&(c||(c=[]),Ft(Ui(s,r),n,m.type),pr(m)?(xf(n,s),c.unshift(m)):c.push(m))}return c}(n,r,s),m=null===l?null:{"":-1};if(null!==f){c=!0,$m(s,n.data.length,f.length);for(let A=0;A<f.length;A++){const P=f[A];P.providersResolver&&P.providersResolver(P)}let v=!1,C=!1,b=wu(n,r,f.length,null);for(let A=0;A<f.length;A++){const P=f[A];s.mergedAttrs=ds(s.mergedAttrs,P.hostAttrs),Di(n,s,r,b,P),zc(b,P,m),null!==P.contentQueries&&(s.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(s.flags|=128);const L=P.type.prototype;!v&&(L.ngOnChanges||L.ngOnInit||L.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),v=!0),!C&&(L.ngOnChanges||L.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),C=!0),b++}!function Af(n,r){const l=r.directiveEnd,c=n.data,f=r.attrs,m=[];let v=null,C=null;for(let b=r.directiveStart;b<l;b++){const A=c[b],P=A.inputs,L=null===f||wm(r)?null:Yi(P,f);m.push(L),v=Vm(P,b,v),C=Vm(A.outputs,b,C)}null!==v&&(v.hasOwnProperty("class")&&(r.flags|=16),v.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=m,r.inputs=v,r.outputs=C}(n,s)}m&&function Wc(n,r,s){if(r){const l=n.localNames=[];for(let c=0;c<r.length;c+=2){const f=s[r[c+1]];if(null==f)throw new Ae(-301,!1);l.push(r[c],f)}}}(s,l,m)}return s.mergedAttrs=ds(s.mergedAttrs,s.attrs),c}function jm(n,r,s,l,c,f){const m=f.hostBindings;if(m){let v=n.hostBindingOpCodes;null===v&&(v=n.hostBindingOpCodes=[]);const C=~r.index;(function Gc(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(v)!=C&&v.push(C),v.push(l,c,m)}}function Zm(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function xf(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function zc(n,r,s){if(s){if(r.exportAs)for(let l=0;l<r.exportAs.length;l++)s[r.exportAs[l]]=n;pr(r)&&(s[""]=n)}}function $m(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}function Di(n,r,s,l,c){n.data[l]=c;const f=c.factory||(c.factory=gr(c.type)),m=new Hs(f,pr(c),null);n.blueprint[l]=m,s[l]=m,jm(n,r,0,l,wu(n,s,c.hostVars,st),c)}function Wm(n,r,s){const l=Cn(r,n),c=Cp(s),f=n[10],m=Kc(n,Hc(n,c,null,s.onPush?64:16,l,r,f,f.createRenderer(l,s),null,null));n[r.index]=m}function eo(n,r,s,l,c,f){const m=Cn(n,r);!function Du(n,r,s,l,c,f,m){if(null==f)Ot(n)?n.removeAttribute(r,c,s):r.removeAttribute(c);else{const v=null==m?W(f):m(f,l||"",c);Ot(n)?n.setAttribute(r,c,v,s):s?r.setAttributeNS(s,c,v):r.setAttribute(c,v)}}(r[11],m,f,n.value,s,l,c)}function Dp(n,r,s,l,c,f){const m=f[r];if(null!==m){const v=l.setInput;for(let C=0;C<m.length;){const b=m[C++],A=m[C++],P=m[C++];null!==v?l.setInput(s,P,b,A):s[A]=P}}}function Yi(n,r){let s=null,l=0;for(;l<r.length;){const c=r[l];if(0!==c)if(5!==c){if("number"==typeof c)break;n.hasOwnProperty(c)&&(null===s&&(s=[]),s.push(c,n[c],r[l+1])),l+=2}else l+=2;else l+=4}return s}function zm(n,r,s,l){return new Array(n,!0,!1,r,null,0,l,s,null,null)}function e0(n,r){const s=En(r,n);if(Vr(s)){const l=s[1];80&s[2]?Na(l,s,l.template,s[8]):s[5]>0&&bp(s)}}function bp(n){for(let l=Ta(n);null!==l;l=Uo(l))for(let c=10;c<l.length;c++){const f=l[c];if(1024&f[2]){const m=f[1];Na(m,f,m.template,f[8])}else f[5]>0&&bp(f)}const s=n[1].components;if(null!==s)for(let l=0;l<s.length;l++){const c=En(s[l],n);Vr(c)&&c[5]>0&&bp(c)}}function Km(n,r){const s=En(r,n),l=s[1];(function qc(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(l,s),jc(l,s,s[8])}function Kc(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function kf(n){for(;n;){n[2]|=64;const r=Qt(n);if(Ku(n)&&!r)return n;n=r}return null}function bu(n,r,s){const l=r[10];l.begin&&l.begin();try{Na(n,r,n.template,s)}catch(c){throw Nf(r,c),c}finally{l.end&&l.end()}}function Ym(n){!function Yc(n){for(let r=0;r<n.components.length;r++){const s=n.components[r],l=wc(s),c=l[1];mp(c,l,c.template,s)}}(n[8])}function Ap(n,r,s){Xa(0),r(n,s)}const Qm=(()=>Promise.resolve(null))();function Jm(n){return n[7]||(n[7]=[])}function Xm(n){return n.cleanup||(n.cleanup=[])}function Nf(n,r){const s=n[9],l=s?s.get(Fn,null):null;l&&l.handleError(r)}function Mp(n,r,s,l,c){for(let f=0;f<s.length;){const m=s[f++],v=s[f++],C=r[m],b=n.data[m];null!==b.setInput?b.setInput(C,c,l,v):C[v]=c}}function $o(n,r,s){const l=as(r,n);!function qi(n,r,s){Ot(n)?n.setValue(r,s):r.textContent=s}(n[11],l,s)}function Wo(n,r,s){let l=s?n.styles:null,c=s?n.classes:null,f=0;if(null!==r)for(let m=0;m<r.length;m++){const v=r[m];"number"==typeof v?f=v:1==f?c=ge(c,v):2==f&&(l=ge(l,v+": "+r[++m]+";"))}s?n.styles=l:n.stylesWithoutHost=l,s?n.classes=c:n.classesWithoutHost=c}const Tu=new Bt("INJECTOR",-1);class n_{get(r,s=vi){if(s===vi){const l=new Error(`NullInjectorError: No provider for ${fe(r)}!`);throw l.name="NullInjectorError",l}return s}}const Oa=new Bt("Set Injector scope."),Qc={},r_={};let Rf;function Sp(){return void 0===Rf&&(Rf=new n_),Rf}function Jc(n,r=null,s=null,l){const c=Pf(n,r,s,l);return c._resolveInjectorDefTypes(),c}function Pf(n,r=null,s=null,l){return new xp(n,s,r||Sp(),l)}class xp{constructor(r,s,l,c=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];s&&vr(s,v=>this.processProvider(v,r,s)),vr([r],v=>this.processInjectorType(v,[],f)),this.records.set(Tu,El(void 0,this));const m=this.records.get(Oa);this.scope=null!=m?m.value:null,this.source=c||("object"==typeof r?null:fe(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,s=vi,l=Je.Default){this.assertNotDestroyed();const c=w(this),f=en(void 0);try{if(!(l&Je.SkipSelf)){let v=this.records.get(r);if(void 0===v){const C=function Qi(n){return"function"==typeof n||"object"==typeof n&&n instanceof Bt}(r)&&mt(r);v=C&&this.injectableDefInScope(C)?El(kp(r),Qc):null,this.records.set(r,v)}if(null!=v)return this.hydrate(r,v)}return(l&Je.Self?Sp():this.parent).get(r,s=l&Je.Optional&&s===vi?null:s)}catch(m){if("NullInjectorError"===m.name){if((m[_a]=m[_a]||[]).unshift(fe(r)),c)throw m;return function tt(n,r,s,l){const c=n[_a];throw r[ya]&&c.unshift(r[ya]),n.message=function Nt(n,r,s,l=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let c=fe(r);if(Array.isArray(r))c=r.map(fe).join(" -> ");else if("object"==typeof r){let f=[];for(let m in r)if(r.hasOwnProperty(m)){let v=r[m];f.push(m+":"+("string"==typeof v?JSON.stringify(v):fe(v)))}c=`{${f.join(", ")}}`}return`${s}${l?"("+l+")":""}[${c}]: ${n.replace(ko,"\n  ")}`}("\n"+n.message,c,s,l),n.ngTokenPath=c,n[_a]=null,n}(m,r,"R3InjectorError",this.source)}throw m}finally{en(f),w(c)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((l,c)=>r.push(fe(c))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ae(205,!1)}processInjectorType(r,s,l){if(!(r=J(r)))return!1;let c=Hn(r);const f=null==c&&r.ngModule||void 0,m=void 0===f?r:f,v=-1!==l.indexOf(m);if(void 0!==f&&(c=Hn(f)),null==c)return!1;if(null!=c.imports&&!v){let A;l.push(m);try{vr(c.imports,P=>{this.processInjectorType(P,s,l)&&(void 0===A&&(A=[]),A.push(P))})}finally{}if(void 0!==A)for(let P=0;P<A.length;P++){const{ngModule:L,providers:q}=A[P];vr(q,pe=>this.processProvider(pe,L,q||F))}}this.injectorDefTypes.add(m);const C=gr(m)||(()=>new m);this.records.set(m,El(C,Qc));const b=c.providers;if(null!=b&&!v){const A=r;vr(b,P=>this.processProvider(P,A,b))}return void 0!==f&&void 0!==r.providers}processProvider(r,s,l){let c=Un(r=J(r))?r:J(r&&r.provide);const f=function Np(n,r,s){return Rp(n)?El(void 0,n.useValue):El(i_(n),Qc)}(r);if(Un(r)||!0!==r.multi)this.records.get(c);else{let m=this.records.get(c);m||(m=El(void 0,Qc,!0),m.factory=()=>Ce(m.multi),this.records.set(c,m)),c=r,m.multi.push(r)}this.records.set(c,f)}hydrate(r,s){return s.value===Qc&&(s.value=r_,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Ff(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this.onDestroy.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=J(r.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function kp(n){const r=mt(n),s=null!==r?r.factory:gr(n);if(null!==s)return s;if(n instanceof Bt)throw new Ae(204,!1);if(n instanceof Function)return function s0(n){const r=n.length;if(r>0)throw gi(r,"?"),new Ae(204,!1);const s=function Sn(n){const r=n&&(n[Fr]||n[Xn]);if(r){const s=function Si(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new Ae(204,!1)}function i_(n,r,s){let l;if(Un(n)){const c=J(n);return gr(c)||kp(c)}if(Rp(n))l=()=>J(n.useValue);else if(function o_(n){return!(!n||!n.useFactory)}(n))l=()=>n.useFactory(...Ce(n.deps||[]));else if(function s_(n){return!(!n||!n.useExisting)}(n))l=()=>k(J(n.useExisting));else{const c=J(n&&(n.useClass||n.provide));if(!function Fa(n){return!!n.deps}(n))return gr(c)||kp(c);l=()=>new c(...Ce(n.deps))}return l}function El(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function Rp(n){return null!==n&&"object"==typeof n&&ru in n}function Un(n){return"function"==typeof n}let Yn=(()=>{class n{static create(s,l){var c;if(Array.isArray(s))return Jc({name:""},l,s,"");{const f=null!==(c=s.name)&&void 0!==c?c:"";return Jc({name:f},s.parent,s.providers,f)}}}return n.THROW_IF_NOT_FOUND=vi,n.NULL=new n_,n.\u0275prov=bt({token:n,providedIn:"any",factory:()=>k(Tu)}),n.__NG_ELEMENT_ID__=-1,n})();function d0(n,r){di(wc(n)[1],zt())}function Bp(n){let r=function h_(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const l=[n];for(;r;){let c;if(pr(n))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Ae(903,"");c=r.\u0275dir}if(c){if(s){l.push(c);const m=n;m.inputs=Up(n.inputs),m.declaredInputs=Up(n.declaredInputs),m.outputs=Up(n.outputs);const v=c.hostBindings;v&&g0(n,v);const C=c.viewQuery,b=c.contentQueries;if(C&&h0(n,C),b&&p0(n,b),le(n.inputs,c.inputs),le(n.declaredInputs,c.declaredInputs),le(n.outputs,c.outputs),pr(c)&&c.data.animation){const A=n.data;A.animation=(A.animation||[]).concat(c.data.animation)}}const f=c.features;if(f)for(let m=0;m<f.length;m++){const v=f[m];v&&v.ngInherit&&v(n),v===Bp&&(s=!1)}}r=Object.getPrototypeOf(r)}!function f0(n){let r=0,s=null;for(let l=n.length-1;l>=0;l--){const c=n[l];c.hostVars=r+=c.hostVars,c.hostAttrs=ds(c.hostAttrs,s=ds(s,c.hostAttrs))}}(l)}function Up(n){return n===fr?{}:n===F?[]:n}function h0(n,r){const s=n.viewQuery;n.viewQuery=s?(l,c)=>{r(l,c),s(l,c)}:r}function p0(n,r){const s=n.contentQueries;n.contentQueries=s?(l,c,f)=>{r(l,c,f),s(l,c,f)}:r}function g0(n,r){const s=n.hostBindings;n.hostBindings=s?(l,c)=>{r(l,c),s(l,c)}:r}let Uf=null;function Au(){if(!Uf){const n=vt.Symbol;if(n&&n.iterator)Uf=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const l=r[s];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Uf=l)}}}return Uf}function td(n){return!!nd(n)&&(Array.isArray(n)||!(n instanceof Map)&&Au()in n)}function nd(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ur(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function Hp(n,r,s,l){const c=ye();return ur(c,Br(),r)&&(pt(),eo(qt(),c,n,r,s,l)),Hp}function Mu(n,r,s,l){return ur(n,Br(),s)?r+W(s)+l:st}function C_(n,r,s,l,c,f,m,v){const C=ye(),b=pt(),A=n+20,P=b.firstCreatePass?function I0(n,r,s,l,c,f,m,v,C){const b=r.consts,A=Js(r,n,4,m||null,sr(b,v));Sf(r,s,A,sr(b,C)),di(r,A);const P=A.tViews=Iu(2,A,l,c,f,r.directiveRegistry,r.pipeRegistry,null,r.schemas,b);return null!==r.queries&&(r.queries.template(r,A),P.queries=r.queries.embeddedTView(A)),A}(A,b,C,r,s,l,c,f,m):b.data[A];Wn(P,!1);const L=C[11].createComment("");ff(b,C,L,P),Kn(L,C),Kc(C,C[A]=zm(L,C,L,P)),Pi(P)&&yp(b,C,P),null!=m&&vp(C,P,v)}function zo(n){return function li(n,r){return n[r]}(function zl(){return Ke.lFrame.contextLView}(),20+n)}function ad(n,r=Je.Default){const s=ye();return null===s?k(n,r):Ar(zt(),s,J(n),r)}function Ln(n,r,s){const l=ye();return ur(l,Br(),r)&&Ii(pt(),qt(),l,n,r,l[11],s,!1),Ln}function Ti(n,r,s,l,c){const m=c?"class":"style";Mp(n,s,r.inputs[m],m,l)}function ld(n,r,s,l){const c=ye(),f=pt(),m=20+n,v=c[11],C=c[m]=pu(v,r,function Ql(){return Ke.lFrame.currentNamespace}()),b=f.firstCreatePass?function $f(n,r,s,l,c,f,m){const v=r.consts,b=Js(r,n,2,c,sr(v,f));return Sf(r,s,b,sr(v,m)),null!==b.attrs&&Wo(b,b.attrs,!1),null!==b.mergedAttrs&&Wo(b,b.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,b),b}(m,f,c,0,r,s,l):f.data[m];Wn(b,!0);const A=b.mergedAttrs;null!==A&&Bn(v,C,A);const P=b.classes;null!==P&&Xh(v,C,P);const L=b.styles;null!==L&&Cm(v,C,L),64!=(64&b.flags)&&ff(f,c,C,b),0===function po(){return Ke.lFrame.elementDepthCount}()&&Kn(C,c),function $l(){Ke.lFrame.elementDepthCount++}(),Pi(b)&&(yp(f,c,b),_p(f,b,c)),null!==l&&vp(c,b)}function Wp(){let n=zt();Ka()?Ya():(n=n.parent,Wn(n,!1));const r=n;!function go(){Ke.lFrame.elementDepthCount--}();const s=pt();s.firstCreatePass&&(di(s,n),Pl(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function nc(n){return 0!=(16&n.flags)}(r)&&Ti(s,r,ye(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Hd(n){return 0!=(32&n.flags)}(r)&&Ti(s,r,ye(),r.stylesWithoutHost,!1)}function x_(n,r,s,l){ld(n,r,s,l),Wp()}function zp(n,r,s){const l=ye(),c=pt(),f=n+20,m=c.firstCreatePass?function k_(n,r,s,l,c){const f=r.consts,m=sr(f,l),v=Js(r,n,8,"ng-container",m);return null!==m&&Wo(v,m,!0),Sf(r,s,v,sr(f,c)),null!==r.queries&&r.queries.elementStart(r,v),v}(f,c,l,r,s):c.data[f];Wn(m,!0);const v=l[f]=l[11].createComment("");ff(c,l,v,m),Kn(v,l),Pi(m)&&(yp(c,l,m),_p(c,m,l)),null!=s&&vp(l,m)}function qp(){let n=zt();const r=pt();Ka()?Ya():(n=n.parent,Wn(n,!1)),r.firstCreatePass&&(di(r,n),Pl(n)&&r.queries.elementEnd(n))}function N_(){return ye()}function cr(n){return!!n&&"function"==typeof n.then}function ud(n){return!!n&&"function"==typeof n.subscribe}const Kp=ud;function Yp(n,r,s,l){const c=ye(),f=pt(),m=zt();return function qf(n,r,s,l,c,f,m,v){const C=Pi(l),A=n.firstCreatePass&&Xm(n),P=r[8],L=Jm(r);let q=!0;if(3&l.type||v){const Oe=Cn(l,r),Ze=v?v(Oe):Oe,Ee=L.length,et=v?Et=>v(Mt(Et[l.index])):l.index;if(Ot(s)){let Et=null;if(!v&&C&&(Et=function zf(n,r,s,l){const c=n.cleanup;if(null!=c)for(let f=0;f<c.length-1;f+=2){const m=c[f];if(m===s&&c[f+1]===l){const v=r[7],C=c[f+2];return v.length>C?v[C]:null}"string"==typeof m&&(f+=2)}return null}(n,r,c,l.index)),null!==Et)(Et.__ngLastListenerFn__||Et).__ngNextListenerFn__=f,Et.__ngLastListenerFn__=f,q=!1;else{f=Qp(l,r,P,f,!1);const Zt=s.listen(Ze,c,f);L.push(f,Zt),A&&A.push(c,et,Ee,Ee+1)}}else f=Qp(l,r,P,f,!0),Ze.addEventListener(c,f,m),L.push(f),A&&A.push(c,et,Ee,m)}else f=Qp(l,r,P,f,!1);const pe=l.outputs;let Se;if(q&&null!==pe&&(Se=pe[c])){const Oe=Se.length;if(Oe)for(let Ze=0;Ze<Oe;Ze+=2){const Ss=r[Se[Ze]][Se[Ze+1]].subscribe(f),kd=L.length;L.push(f,Ss),A&&A.push(c,l.index,kd,-(kd+1))}}}(f,c,c[11],m,n,r,!!s,l),Yp}function Kf(n,r,s,l){try{return!1!==s(l)}catch(c){return Nf(n,c),!1}}function Qp(n,r,s,l,c){return function f(m){if(m===Function)return l;const v=2&n.flags?En(n.index,r):r;0==(32&r[2])&&kf(v);let C=Kf(r,0,l,m),b=f.__ngNextListenerFn__;for(;b;)C=Kf(r,0,b,m)&&C,b=b.__ngNextListenerFn__;return c&&!1===C&&(m.preventDefault(),m.returnValue=!1),C}}function R_(n=1){return function Ur(n){return(Ke.lFrame.contextLView=function Xu(n,r){for(;n>0;)r=r[15],n--;return r}(n,Ke.lFrame.contextLView))[8]}(n)}function H0(n,r){let s=null;const l=function bm(n){const r=n.attrs;if(null!=r){const s=r.indexOf(5);if(0==(1&s))return r[s+1]}return null}(n);for(let c=0;c<r.length;c++){const f=r[c];if("*"!==f){if(null===l?Dm(n,f,!0):jv(l,f))return c}else s=c}return s}function P_(n){const r=ye()[16][6];if(!r.projection){const l=r.projection=gi(n?n.length:1,null),c=l.slice();let f=r.child;for(;null!==f;){const m=n?H0(f,n):0;null!==m&&(c[m]?c[m].projectionNext=f:l[m]=f,c[m]=f),f=f.next}}}function O_(n,r=0,s){const l=ye(),c=pt(),f=Js(c,20+n,16,null,s||null);null===f.projection&&(f.projection=r),Ya(),64!=(64&f.flags)&&function Lv(n,r,s){vm(r[11],0,r,s,gu(n,s,r),vl(s.parent||r[6],s,r))}(c,l,f)}function Il(n,r,s){return cd(n,"",r,"",s),Il}function cd(n,r,s,l,c){const f=ye(),m=Mu(f,r,s,l);return m!==st&&Ii(pt(),qt(),f,n,m,f[11],c,!1),cd}function Lu(n,r,s,l,c){const f=n[s+1],m=null===r;let v=l?Is(f):jo(f),C=!1;for(;0!==v&&(!1===C||m);){const A=n[v+1];Z0(n[v],r)&&(C=!0,n[v+1]=l?_f(A):sp(A)),v=l?Is(A):jo(A)}C&&(n[s+1]=l?sp(f):_f(f))}function Z0(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&Cr(n,r)>=0}function th(n,r){return function Ts(n,r,s,l){const c=ye(),f=pt(),m=function ui(n){const r=Ke.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}(2);f.firstUpdatePass&&function $_(n,r,s,l){const c=n.data;if(null===c[s+1]){const f=c[wn()],m=function G_(n,r){return r>=n.expandoStartIndex}(n,s);(function ag(n,r){return 0!=(n.flags&(r?16:32))})(f,l)&&null===r&&!m&&(r=!1),r=function K0(n,r,s,l){const c=function Ja(n){const r=Ke.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let f=l?r.residualClasses:r.residualStyles;if(null===c)0===(l?r.classBindings:r.styleBindings)&&(s=Bu(s=rh(null,n,r,s,l),r.attrs,l),f=null);else{const m=r.directiveStylingLast;if(-1===m||n[m]!==c)if(s=rh(c,n,r,s,l),null===f){let C=function Y0(n,r,s){const l=s?r.classBindings:r.styleBindings;if(0!==jo(l))return n[Is(l)]}(n,r,l);void 0!==C&&Array.isArray(C)&&(C=rh(null,n,r,C[1],l),C=Bu(C,r.attrs,l),function Q0(n,r,s,l){n[Is(s?r.classBindings:r.styleBindings)]=l}(n,r,l,C))}else f=function nh(n,r,s){let l;const c=r.directiveEnd;for(let f=1+r.directiveStylingLast;f<c;f++)l=Bu(l,n[f].hostAttrs,s);return Bu(l,r.attrs,s)}(n,r,l)}return void 0!==f&&(l?r.residualClasses=f:r.residualStyles=f),s}(c,f,r,l),function eg(n,r,s,l,c,f){let m=f?r.classBindings:r.styleBindings,v=Is(m),C=jo(m);n[l]=s;let A,b=!1;if(Array.isArray(s)){const P=s;A=P[1],(null===A||Cr(P,A)>0)&&(b=!0)}else A=s;if(c)if(0!==C){const L=Is(n[v+1]);n[l+1]=_u(L,v),0!==L&&(n[L+1]=op(n[L+1],l)),n[v+1]=function Gv(n,r){return 131071&n|r<<17}(n[v+1],l)}else n[l+1]=_u(v,0),0!==v&&(n[v+1]=op(n[v+1],l)),v=l;else n[l+1]=_u(C,0),0===v?v=l:n[C+1]=op(n[C+1],l),C=l;b&&(n[l+1]=sp(n[l+1])),Lu(n,A,l,!0),Lu(n,A,l,!1),function U_(n,r,s,l,c){const f=c?n.residualClasses:n.residualStyles;null!=f&&"string"==typeof r&&Cr(f,r)>=0&&(s[l+1]=_f(s[l+1]))}(r,A,n,l,f),m=_u(v,C),f?r.classBindings=m:r.styleBindings=m}(c,f,r,s,m,l)}}(f,n,m,l),r!==st&&ur(c,m,r)&&function z_(n,r,s,l,c,f,m,v){if(!(3&r.type))return;const C=n.data,b=C[v+1];fd(function xm(n){return 1==(1&n)}(b)?og(C,r,s,c,jo(b),m):void 0)||(fd(f)||function Sm(n){return 2==(2&n)}(b)&&(f=og(C,null,s,c,v,m)),function Bv(n,r,s,l,c){const f=Ot(n);if(r)c?f?n.addClass(s,l):s.classList.add(l):f?n.removeClass(s,l):s.classList.remove(l);else{let m=-1===l.indexOf("-")?void 0:ie.DashCase;if(null==c)f?n.removeStyle(s,l,m):s.style.removeProperty(l);else{const v="string"==typeof c&&c.endsWith("!important");v&&(c=c.slice(0,-10),m|=ie.Important),f?n.setStyle(s,l,c,m):s.style.setProperty(l,c,v?"important":"")}}}(l,m,as(wn(),s),c,f))}(f,f.data[wn()],c,c[11],n,c[m+1]=function q_(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=fe(yt(n)))),n}(r,s),l,m)}(n,r,null,!0),th}function rh(n,r,s,l,c){let f=null;const m=s.directiveEnd;let v=s.directiveStylingLast;for(-1===v?v=s.directiveStart:v++;v<m&&(f=r[v],l=Bu(l,f.hostAttrs,c),f!==n);)v++;return null!==n&&(s.directiveStylingLast=v),l}function Bu(n,r,s){const l=s?1:2;let c=-1;if(null!==r)for(let f=0;f<r.length;f++){const m=r[f];"number"==typeof m?c=m:c===l&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Pn(n,m,!!s||r[++f]))}return void 0===n?null:n}function og(n,r,s,l,c,f){const m=null===r;let v;for(;c>0;){const C=n[c],b=Array.isArray(C),A=b?C[1]:C,P=null===A;let L=s[c+1];L===st&&(L=P?F:void 0);let q=P?pa(L,l):A===l?L:void 0;if(b&&!fd(q)&&(q=pa(C,l)),fd(q)&&(v=q,m))return v;const pe=n[c+1];c=m?Is(pe):jo(pe)}if(null!==r){let C=f?r.residualClasses:r.residualStyles;null!=C&&(v=pa(C,l))}return v}function fd(n){return void 0!==n}function lg(n,r=""){const s=ye(),l=pt(),c=n+20,f=l.firstCreatePass?Js(l,c,1,r,null):l.data[c],m=s[c]=function Cs(n,r){return Ot(n)?n.createText(r):n.createTextNode(r)}(s[11],r);ff(l,s,m,f),Wn(f,!1)}function K_(n){return ih("",n,""),K_}function ih(n,r,s){const l=ye(),c=Mu(l,n,r,s);return c!==st&&$o(l,wn(),c),ih}const Dl=void 0;var ry=["en",[["a","p"],["AM","PM"],Dl],[["AM","PM"],Dl,Dl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Dl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Dl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Dl,"{1} 'at' {0}",Dl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ny(n){const s=Math.floor(Math.abs(n)),l=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===l?1:5}];let bl={};function Tl(n){const r=function sy(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=iy(r);if(s)return s;const l=r.split("-")[0];if(s=iy(l),s)return s;if("en"===l)return ry;throw new Error(`Missing locale data for the locale "${n}".`)}function Eg(n){return Tl(n)[Xe.PluralCase]}function iy(n){return n in bl||(bl[n]=vt.ng&&vt.ng.common&&vt.ng.common.locales&&vt.ng.common.locales[n]),bl[n]}var Xe=(()=>((Xe=Xe||{})[Xe.LocaleId=0]="LocaleId",Xe[Xe.DayPeriodsFormat=1]="DayPeriodsFormat",Xe[Xe.DayPeriodsStandalone=2]="DayPeriodsStandalone",Xe[Xe.DaysFormat=3]="DaysFormat",Xe[Xe.DaysStandalone=4]="DaysStandalone",Xe[Xe.MonthsFormat=5]="MonthsFormat",Xe[Xe.MonthsStandalone=6]="MonthsStandalone",Xe[Xe.Eras=7]="Eras",Xe[Xe.FirstDayOfWeek=8]="FirstDayOfWeek",Xe[Xe.WeekendRange=9]="WeekendRange",Xe[Xe.DateFormat=10]="DateFormat",Xe[Xe.TimeFormat=11]="TimeFormat",Xe[Xe.DateTimeFormat=12]="DateTimeFormat",Xe[Xe.NumberSymbols=13]="NumberSymbols",Xe[Xe.NumberFormats=14]="NumberFormats",Xe[Xe.CurrencyCode=15]="CurrencyCode",Xe[Xe.CurrencySymbol=16]="CurrencySymbol",Xe[Xe.CurrencyName=17]="CurrencyName",Xe[Xe.Currencies=18]="Currencies",Xe[Xe.Directionality=19]="Directionality",Xe[Xe.PluralCase=20]="PluralCase",Xe[Xe.ExtraData=21]="ExtraData",Xe))();const oh="en-US";let ay=oh;function Vy(n,r,s,l,c){if(n=J(n),Array.isArray(n))for(let f=0;f<n.length;f++)Vy(n[f],r,s,l,c);else{const f=pt(),m=ye();let v=Un(n)?n:J(n.provide),C=i_(n);const b=zt(),A=1048575&b.providerIndexes,P=b.directiveStart,L=b.providerIndexes>>20;if(Un(n)||!n.multi){const q=new Hs(C,c,ad),pe=ph(v,r,c?A:A+L,P);-1===pe?(Ft(Ui(b,m),f,v),By(f,n,r.length),r.push(v),b.directiveStart++,b.directiveEnd++,c&&(b.providerIndexes+=1048576),s.push(q),m.push(q)):(s[pe]=q,m[pe]=q)}else{const q=ph(v,r,A+L,P),pe=ph(v,r,A,A+L),Se=q>=0&&s[q],Oe=pe>=0&&s[pe];if(c&&!Oe||!c&&!Se){Ft(Ui(b,m),f,v);const Ze=function Ng(n,r,s,l,c){const f=new Hs(n,s,ad);return f.multi=[],f.index=r,f.componentProviders=0,vd(f,c,l&&!s),f}(c?gh:xg,s.length,c,l,C);!c&&Oe&&(s[pe].providerFactory=Ze),By(f,n,r.length,0),r.push(v),b.directiveStart++,b.directiveEnd++,c&&(b.providerIndexes+=1048576),s.push(Ze),m.push(Ze)}else By(f,n,q>-1?q:pe,vd(s[c?pe:q],C,!c&&l));!c&&l&&Oe&&s[pe].componentProviders++}}}function By(n,r,s,l){const c=Un(r),f=function Of(n){return!!n.useClass}(r);if(c||f){const C=(f?J(r.useClass):r).prototype.ngOnDestroy;if(C){const b=n.destroyHooks||(n.destroyHooks=[]);if(!c&&r.multi){const A=b.indexOf(s);-1===A?b.push(s,[l,C]):b[A+1].push(l,C)}else b.push(s,C)}}}function vd(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function ph(n,r,s,l){for(let c=s;c<l;c++)if(r[c]===n)return c;return-1}function xg(n,r,s,l){return kg(this.multi,[])}function gh(n,r,s,l){const c=this.multi;let f;if(this.providerFactory){const m=this.providerFactory.componentProviders,v=Mr(s,s[1],this.providerFactory.index,l);f=v.slice(0,m),kg(c,f);for(let C=m;C<v.length;C++)f.push(v[C])}else f=[],kg(c,f);return f}function kg(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function Uy(n,r=[]){return s=>{s.providersResolver=(l,c)=>function Ly(n,r,s){const l=pt();if(l.firstCreatePass){const c=pr(n);Vy(s,l.data,l.blueprint,c,!0),Vy(r,l.data,l.blueprint,c,!1)}}(l,c?c(n):n,r)}}class MC{}class ww{resolveComponentFactory(r){throw function Ew(n){const r=Error(`No component factory found for ${fe(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let Cd=(()=>{class n{}return n.NULL=new ww,n})();function Hy(){return ju(zt(),ye())}function ju(n,r){return new Ed(Cn(n,r))}let Ed=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=Hy,n})();function xC(n){return n instanceof Ed?n.nativeElement:n}class Zu{}let mh=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function kC(){const n=ye(),s=En(zt().index,n);return function _h(n){return n[11]}(Ir(s)?s:n)}(),n})(),Pg=(()=>{class n{}return n.\u0275prov=bt({token:n,providedIn:"root",factory:()=>null}),n})();class wd{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const jy=new wd("13.2.1"),Og={};function Id(n,r,s,l,c=!1){for(;null!==s;){const f=r[s.index];if(null!==f&&l.push(Mt(f)),hr(f))for(let v=10;v<f.length;v++){const C=f[v],b=C[1].firstChild;null!==b&&Id(C[1],C,b,l)}const m=s.type;if(8&m)Id(n,r,s.child,l);else if(32&m){const v=Ue(s,r);let C;for(;C=v();)l.push(C)}else if(16&m){const v=_m(r,s);if(Array.isArray(v))l.push(...v);else{const C=Qt(r[16]);Id(C[1],C,v,l,!0)}}s=c?s.projectionNext:s.next}return l}class Dd{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return Id(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(hr(r)){const s=r[8],l=s?s.indexOf(this):-1;l>-1&&(Ho(r,l),$s(s,l))}this._attachedToViewContainer=!1}uf(this._lView[1],this._lView)}onDestroy(r){Tf(this._lView[1],this._lView,null,r)}markForCheck(){kf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){bu(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Tp(n,r,s){Bs(!0);try{bu(n,r,s)}finally{Bs(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ae(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function zh(n,r){mu(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Ae(902,"");this._appRef=r}}class Zy extends Dd{constructor(r){super(r),this._view=r}detectChanges(){Ym(this._view)}checkNoChanges(){!function n0(n){Bs(!0);try{Ym(n)}finally{Bs(!1)}}(this._view)}get context(){return null}}class Gy extends Cd{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=pn(r);return new yh(s,this.ngModule)}}function NC(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}const Fg=new Bt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>of});class yh extends MC{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Am(n){return n.map(Zv).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return NC(this.componentDef.inputs)}get outputs(){return NC(this.componentDef.outputs)}create(r,s,l,c){const f=(c=c||this.ngModule)?function PC(n,r){return{get:(s,l,c)=>{const f=n.get(s,Og,c);return f!==Og||l===Og?f:r.get(s,l,c)}}}(r,c.injector):r,m=f.get(Zu,co),v=f.get(Pg,null),C=m.createRenderer(null,this.componentDef),b=this.componentDef.selectors[0][0]||"div",A=l?function Ra(n,r,s){if(Ot(n))return n.selectRootElement(r,s===ct.ShadowDom);let l="string"==typeof r?n.querySelector(r):r;return l.textContent="",l}(C,l,this.componentDef.encapsulation):pu(m.createRenderer(null,this.componentDef),b,function RC(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(b)),P=this.componentDef.onPush?576:528,L=function f_(n,r){return{components:[],scheduler:n||of,clean:Qm,playerHandler:r||null,flags:0}}(),q=Iu(0,null,null,1,0,null,null,null,null,null),pe=Hc(null,q,L,P,null,null,m,C,v,f);let Se,Oe;us(pe);try{const Ze=function d_(n,r,s,l,c,f){const m=s[1];s[20]=n;const C=Js(m,20,2,"#host",null),b=C.mergedAttrs=r.hostAttrs;null!==b&&(Wo(C,b,!0),null!==n&&(Bn(c,n,b),null!==C.classes&&Xh(c,n,C.classes),null!==C.styles&&Cm(c,n,C.styles)));const A=l.createRenderer(n,r),P=Hc(s,Cp(r),null,r.onPush?64:16,s[20],C,l,A,f||null,null);return m.firstCreatePass&&(Ft(Ui(C,s),m,r.type),xf(m,C),$m(C,s.length,1)),Kc(s,P),s[20]=P}(A,this.componentDef,pe,m,C);if(A)if(l)Bn(C,A,["ng-version",jy.full]);else{const{attrs:Ee,classes:et}=function mf(n){const r=[],s=[];let l=1,c=2;for(;l<n.length;){let f=n[l];if("string"==typeof f)2===c?""!==f&&r.push(f,n[++l]):8===c&&s.push(f);else{if(!Ki(c))break;c=f}l++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);Ee&&Bn(C,A,Ee),et&&et.length>0&&Xh(C,A,et.join(" "))}if(Oe=Wt(q,20),void 0!==s){const Ee=Oe.projection=[];for(let et=0;et<this.ngContentSelectors.length;et++){const Et=s[et];Ee.push(null!=Et?Array.from(Et):null)}}Se=function Vp(n,r,s,l,c){const f=s[1],m=function Mf(n,r,s){const l=zt();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Di(n,l,r,wu(n,r,1,null),s));const c=Mr(r,n,l.directiveStart,l);Kn(c,r);const f=Cn(l,r);return f&&Kn(f,r),c}(f,s,r);if(l.components.push(m),n[8]=m,c&&c.forEach(C=>C(m,r)),r.contentQueries){const C=zt();r.contentQueries(1,m,C.directiveStart)}const v=zt();return!f.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(ci(v.index),jm(s[1],v,0,v.directiveStart,v.directiveEnd,r),Zm(r,m)),m}(Ze,this.componentDef,pe,L,[d0]),jc(q,pe,null)}finally{Us()}return new Iw(this.componentType,Se,ju(Oe,pe),pe,Oe)}}class Iw extends class Cw{}{constructor(r,s,l,c,f){super(),this.location=l,this._rootLView=c,this._tNode=f,this.instance=s,this.hostView=this.changeDetectorRef=new Zy(c),this.componentType=r}get injector(){return new ji(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}class ro{}const Ms=new Map;class bd extends ro{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Gy(this);const l=gn(r);this._bootstrapComponents=h(l.bootstrap),this._r3Injector=Pf(r,s,[{provide:ro,useValue:this},{provide:Cd,useValue:this.componentFactoryResolver}],fe(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,s=Yn.THROW_IF_NOT_FOUND,l=Je.Default){return r===Yn||r===ro||r===Tu?this:this._r3Injector.get(r,s,l)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class wh extends class vh{}{constructor(r){super(),this.moduleType=r,null!==gn(r)&&function Ug(n){const r=new Set;!function s(l){const c=gn(l,!0),f=c.id;null!==f&&(function $y(n,r,s){if(r&&r!==s)throw new Error(`Duplicate module registered for ${n} - ${fe(r)} vs ${fe(r.name)}`)}(f,Ms.get(f),l),Ms.set(f,l));const m=h(c.imports);for(const v of m)r.has(v)||(r.add(v),s(v))}(n)}(r)}create(r){return new bd(this.moduleType,r)}}function Wg(n){return r=>{setTimeout(n,void 0,r)}}const Ko=class $g extends a.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,l){var c,f,m;let v=r,C=s||(()=>null),b=l;if(r&&"object"==typeof r){const P=r;v=null===(c=P.next)||void 0===c?void 0:c.bind(P),C=null===(f=P.error)||void 0===f?void 0:f.bind(P),b=null===(m=P.complete)||void 0===m?void 0:m.bind(P)}this.__isAsync&&(C=Wg(C),v&&(v=Wg(v)),b&&(b=Wg(b)));const A=super.subscribe({next:v,error:C,complete:b});return r instanceof K.w0&&r.add(A),A}};function Xy(){return this._results[Au()]()}class zg{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Au(),l=zg.prototype;l[s]||(l[s]=Xy)}get changes(){return this._changes||(this._changes=new Ko)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const l=this;l.dirty=!1;const c=Rn(r);(this._changesDetected=!function rn(n,r,s){if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++){let c=n[l],f=r[l];if(s&&(c=s(c),f=s(f)),f!==c)return!1}return!0}(l._results,c,s))&&(l._results=c,l.length=c.length,l.last=c[this.length-1],l.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Gu=(()=>{class n{}return n.__NG_ELEMENT_ID__=tv,n})();const $C=Gu,ev=class extends $C{constructor(r,s,l){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=l}createEmbeddedView(r){const s=this._declarationTContainer.tViews,l=Hc(this._declarationLView,s,r,16,null,s.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(l[19]=f.createEmbeddedView(s)),jc(s,l,r),new Dd(l)}};function tv(){return Ih(zt(),ye())}function Ih(n,r){return 4&n.type?new ev(r,n,ju(n,r)):null}let Sd=(()=>{class n{}return n.__NG_ELEMENT_ID__=WC,n})();function WC(){return bh(zt(),ye())}const qg=Sd,nv=class extends qg{constructor(r,s,l){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=l}get element(){return ju(this._hostTNode,this._hostLView)}get injector(){return new ji(this._hostTNode,this._hostLView)}get parentInjector(){const r=ca(this._hostTNode,this._hostLView);if(oa(r)){const s=Hr(r,this._hostLView),l=_t(r);return new ji(s[1].data[l+8],s)}return new ji(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=Dh(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,l){const c=r.createEmbeddedView(s||{});return this.insert(c,l),c}createComponent(r,s,l,c,f){const m=r&&!function pi(n){return"function"==typeof n}(r);let v;if(m)v=s;else{const P=s||{};v=P.index,l=P.injector,c=P.projectableNodes,f=P.ngModuleRef}const C=m?r:new yh(pn(r)),b=l||this.parentInjector;if(!f&&null==C.ngModule&&b){const P=b.get(ro,null);P&&(f=P)}const A=C.create(b,c,void 0,f);return this.insert(A.hostView,v),A}insert(r,s){const l=r._lView,c=l[1];if(function za(n){return hr(n[3])}(l)){const A=this.indexOf(r);if(-1!==A)this.detach(A);else{const P=l[3],L=new nv(P,P[6],P[3]);L.detach(L.indexOf(r))}}const f=this._adjustIndex(s),m=this._lContainer;!function Pc(n,r,s,l){const c=10+l,f=s.length;l>0&&(s[c-1][4]=r),l<f-10?(r[4]=s[c],eu(s,10+l,r)):(s.push(r),r[4]=null),r[3]=s;const m=r[17];null!==m&&s!==m&&function pm(n,r){const s=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(m,r);const v=r[19];null!==v&&v.insertView(n),r[2]|=128}(c,l,m,f);const v=Jh(f,m),C=l[11],b=ws(C,m[7]);return null!==b&&function Rc(n,r,s,l,c,f){l[0]=c,l[6]=r,mu(n,l,s,1,c,f)}(c,m[6],C,l,b,v),r.attachToViewContainerRef(),eu(Kg(m),f,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=Dh(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),l=Ho(this._lContainer,s);l&&($s(Kg(this._lContainer),s),uf(l[1],l))}detach(r){const s=this._adjustIndex(r,-1),l=Ho(this._lContainer,s);return l&&null!=$s(Kg(this._lContainer),s)?new Dd(l):null}_adjustIndex(r,s=0){return null==r?this.length+s:r}};function Dh(n){return n[8]}function Kg(n){return n[8]||(n[8]=[])}function bh(n,r){let s;const l=r[n.index];if(hr(l))s=l;else{let c;if(8&n.type)c=Mt(l);else{const f=r[11];c=f.createComment("");const m=Cn(n,r);Ma(f,ws(f,m),c,function Kh(n,r){return Ot(n)?n.nextSibling(r):r.nextSibling}(f,m),!1)}r[n.index]=s=zm(l,r,c,n),Kc(r,s)}return new nv(s,n,r)}class Yg{constructor(r){this.queryList=r,this.matches=null}clone(){return new Yg(this.queryList)}setDirty(){this.queryList.setDirty()}}class Th{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const l=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let f=0;f<l;f++){const m=s.getByIndex(f);c.push(this.queries[m.indexInDeclarationView].clone())}return new Th(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==cv(r,s).matches&&this.queries[s].setDirty()}}class iv{constructor(r,s,l=null){this.predicate=r,this.flags=s,this.read=l}}class $u{constructor(r=[]){this.queries=r}elementStart(r,s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let l=0;l<this.length;l++){const c=null!==s?s.length:0,f=this.getByIndex(l).embeddedTView(r,c);f&&(f.indexInDeclarationView=l,null!==s?s.push(f):s=[f])}return null!==s?new $u(s):null}template(r,s){for(let l=0;l<this.queries.length;l++)this.queries[l].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class Ah{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new Ah(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let l=r.parent;for(;null!==l&&8&l.type&&l.index!==s;)l=l.parent;return s===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const l=this.metadata.predicate;if(Array.isArray(l))for(let c=0;c<l.length;c++){const f=l[c];this.matchTNodeWithReadOption(r,s,KC(s,f)),this.matchTNodeWithReadOption(r,s,il(s,r,f,!1,!1))}else l===Gu?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,il(s,r,l,!1,!1))}matchTNodeWithReadOption(r,s,l){if(null!==l){const c=this.metadata.read;if(null!==c)if(c===Ed||c===Sd||c===Gu&&4&s.type)this.addMatch(s.index,-2);else{const f=il(s,r,c,!1,!1);null!==f&&this.addMatch(s.index,f)}else this.addMatch(s.index,l)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function KC(n,r){const s=n.localNames;if(null!==s)for(let l=0;l<s.length;l+=2)if(s[l]===r)return s[l+1];return null}function YC(n,r,s,l){return-1===s?function sv(n,r){return 11&n.type?ju(n,r):4&n.type?Ih(n,r):null}(r,n):-2===s?function bw(n,r,s){return s===Ed?ju(r,n):s===Gu?Ih(r,n):s===Sd?bh(r,n):void 0}(n,r,l):Mr(n,n[1],s,r)}function Mh(n,r,s,l){const c=r[19].queries[l];if(null===c.matches){const f=n.data,m=s.matches,v=[];for(let C=0;C<m.length;C+=2){const b=m[C];v.push(b<0?null:YC(r,f[b],m[C+1],s.metadata.read))}c.matches=v}return c.matches}function Sh(n,r,s,l){const c=n.queries.getByIndex(s),f=c.matches;if(null!==f){const m=Mh(n,r,c,s);for(let v=0;v<f.length;v+=2){const C=f[v];if(C>0)l.push(m[v/2]);else{const b=f[v+1],A=r[-C];for(let P=10;P<A.length;P++){const L=A[P];L[17]===L[3]&&Sh(L[1],L,b,l)}if(null!==A[9]){const P=A[9];for(let L=0;L<P.length;L++){const q=P[L];Sh(q[1],q,b,l)}}}}}return l}function Qg(n){const r=ye(),s=pt(),l=wo();Xa(l+1);const c=cv(s,l);if(n.dirty&&Vs(r)===(2==(2&c.metadata.flags))){if(null===c.matches)n.reset([]);else{const f=c.crossesNgTemplate?Sh(s,r,l,[]):Mh(s,r,c,l);n.reset(f,xC),n.notifyOnChanges()}return!0}return!1}function ov(n,r,s){const l=pt();l.firstCreatePass&&(function lv(n,r,s){null===n.queries&&(n.queries=new $u),n.queries.track(new Ah(r,s))}(l,new iv(n,r,s),-1),2==(2&r)&&(l.staticViewQueries=!0)),function Jg(n,r,s){const l=new zg(4==(4&s));Tf(n,r,l,l.destroy),null===r[19]&&(r[19]=new Th),r[19].queries.push(new Yg(l))}(l,ye(),r)}function Ml(){return function QC(n,r){return n[19].queries[r].queryList}(ye(),wo())}function cv(n,r){return n.queries.getByIndex(r)}function dv(n,r){return Ih(n,r)}function Nh(...n){}const im=new Bt("Application Initializer");let qu=(()=>{class n{constructor(s){this.appInits=s,this.resolve=Nh,this.reject=Nh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,c)=>{this.resolve=l,this.reject=c})}runInitializers(){if(this.initialized)return;const s=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const f=this.appInits[c]();if(cr(f))s.push(f);else if(Kp(f)){const m=new Promise((v,C)=>{f.subscribe({complete:v,error:C})});s.push(m)}}Promise.all(s).then(()=>{l()}).catch(c=>{this.reject(c)}),0===s.length&&l(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(k(im,8))},n.\u0275prov=bt({token:n,factory:n.\u0275fac}),n})();const Mv=new Bt("AppId"),fE={provide:Mv,useFactory:function dE(){return`${Rh()}${Rh()}${Rh()}`},deps:[]};function Rh(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const hE=new Bt("Platform Initializer"),Sv=new Bt("Platform ID"),xv=new Bt("appBootstrapListener");let pE=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=bt({token:n,factory:n.\u0275fac}),n})();const sm=new Bt("LocaleId"),kv=new Bt("DefaultCurrencyCode");class mE{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let Nv=(()=>{class n{compileModuleSync(s){return new wh(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const l=this.compileModuleSync(s),f=h(gn(s).declarations).reduce((m,v)=>{const C=pn(v);return C&&m.push(new yh(C)),m},[]);return new mE(l,f)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=bt({token:n,factory:n.\u0275fac}),n})();const yE=(()=>Promise.resolve(0))();function om(n){"undefined"==typeof Zone?yE.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class i{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ko(!1),this.onMicrotaskEmpty=new Ko(!1),this.onStable=new Ko(!1),this.onError=new Ko(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!l&&s,c.shouldCoalesceRunChangeDetection=l,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function vE(){let n=vt.requestAnimationFrame,r=vt.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const l=r[Zone.__symbol__("OriginalDelegate")];l&&(r=l)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function u(n){const r=()=>{!function o(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(vt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,p(n),n.isCheckStableRunning=!0,e(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),p(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,l,c,f,m,v)=>{try{return _(n),s.invokeTask(c,f,m,v)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||n.shouldCoalesceRunChangeDetection)&&r(),I(n)}},onInvoke:(s,l,c,f,m,v,C)=>{try{return _(n),s.invoke(c,f,m,v,C)}finally{n.shouldCoalesceRunChangeDetection&&r(),I(n)}},onHasTask:(s,l,c,f)=>{s.hasTask(c,f),l===c&&("microTask"==f.change?(n._hasPendingMicrotasks=f.microTask,p(n),e(n)):"macroTask"==f.change&&(n.hasPendingMacrotasks=f.macroTask))},onHandleError:(s,l,c,f)=>(s.handleError(c,f),n.runOutsideAngular(()=>n.onError.emit(f)),!1)})}(c)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!i.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(i.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,s,l){return this._inner.run(r,s,l)}runTask(r,s,l,c){const f=this._inner,m=f.scheduleEventTask("NgZoneEvent: "+c,r,t,Nh,Nh);try{return f.runTask(m,s,l)}finally{f.cancelTask(m)}}runGuarded(r,s,l){return this._inner.runGuarded(r,s,l)}runOutsideAngular(r){return this._outer.run(r)}}const t={};function e(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function p(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function _(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function I(n){n._nesting--,e(n)}class T{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ko,this.onMicrotaskEmpty=new Ko,this.onStable=new Ko,this.onError=new Ko}run(r,s,l){return r.apply(s,l)}runGuarded(r,s,l){return r.apply(s,l)}runOutsideAngular(r){return r()}runTask(r,s,l,c){return r.apply(s,l)}}let x=(()=>{class n{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{i.assertNotInAngularZone(),om(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())om(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(s)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,l,c){let f=-1;l&&l>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==f),s(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:s,timeoutId:f,updateCb:c})}whenStable(s,l,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,l,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,l,c){return[]}}return n.\u0275fac=function(s){return new(s||n)(k(i))},n.\u0275prov=bt({token:n,factory:n.\u0275fac}),n})(),Z=(()=>{class n{constructor(){this._applications=new Map,be.addToWindow(this)}registerApplication(s,l){this._applications.set(s,l)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,l=!0){return be.findTestabilityInTree(this,s,l)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=bt({token:n,factory:n.\u0275fac}),n})();class U{addToWindow(r){}findTestabilityInTree(r,s,l){return null}}function oe(n){be=n}let Re,be=new U;const An=new Bt("AllowMultipleToken");function Mi(n,r,s=[]){const l=`Platform: ${r}`,c=new Bt(l);return(f=[])=>{let m=Zw();if(!m||m.injector.get(An,!1))if(n)n(s.concat(f).concat({provide:c,useValue:!0}));else{const v=s.concat(f).concat({provide:c,useValue:!0},{provide:Oa,useValue:"platform"});!function on(n){if(Re&&!Re.destroyed&&!Re.injector.get(An,!1))throw new Ae(400,"");Re=n.get(Gw);const r=n.get(hE,null);r&&r.forEach(s=>s())}(Yn.create({providers:v,name:l}))}return function kl(n){const r=Zw();if(!r)throw new Ae(401,"");return r}()}}function Zw(){return Re&&!Re.destroyed?Re:null}let Gw=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,l){const v=function uI(n,r){let s;return s="noop"===n?new T:("zone.js"===n?void 0:n)||new i({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),s}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),C=[{provide:i,useValue:v}];return v.run(()=>{const b=Yn.create({providers:C,parent:this.injector,name:s.moduleType.name}),A=s.create(b),P=A.injector.get(Fn,null);if(!P)throw new Ae(402,"");return v.runOutsideAngular(()=>{const L=v.onError.subscribe({next:q=>{P.handleError(q)}});A.onDestroy(()=>{CE(this._modules,A),L.unsubscribe()})}),function cI(n,r,s){try{const l=s();return cr(l)?l.catch(c=>{throw r.runOutsideAngular(()=>n.handleError(c)),c}):l}catch(l){throw r.runOutsideAngular(()=>n.handleError(l)),l}}(P,v,()=>{const L=A.injector.get(qu);return L.runInitializers(),L.donePromise.then(()=>(function cC(n){Ge(n,"Expected localeId to be defined"),"string"==typeof n&&(ay=n.toLowerCase().replace(/_/g,"-"))}(A.injector.get(sm,oh)||oh),this._moduleDoBootstrap(A),A))})})}bootstrapModule(s,l=[]){const c=$w({},l);return function ht(n,r,s){const l=new wh(s);return Promise.resolve(l)}(0,0,s).then(f=>this.bootstrapModuleFactory(f,c))}_moduleDoBootstrap(s){const l=s.injector.get(Rv);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>l.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new Ae(403,"");s.instance.ngDoBootstrap(l)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ae(404,"");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(k(Yn))},n.\u0275prov=bt({token:n,factory:n.\u0275fac}),n})();function $w(n,r){return Array.isArray(r)?r.reduce($w,n):Object.assign(Object.assign({},n),r)}let Rv=(()=>{class n{constructor(s,l,c,f,m){this._zone=s,this._injector=l,this._exceptionHandler=c,this._componentFactoryResolver=f,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new N.y(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),C=new N.y(b=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{i.assertNotInAngularZone(),om(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{i.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{A.unsubscribe(),P.unsubscribe()}});this.isStable=(0,ue.T)(v,C.pipe((0,ne.B)()))}bootstrap(s,l){if(!this._initStatus.done)throw new Ae(405,"");let c;c=s instanceof MC?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(c.componentType);const f=function dr(n){return n.isBoundToModule}(c)?void 0:this._injector.get(ro),v=c.create(Yn.NULL,[],l||c.selector,f),C=v.location.nativeElement,b=v.injector.get(x,null),A=b&&v.injector.get(Z);return b&&A&&A.registerApplication(C,b),v.onDestroy(()=>{this.detachView(v.hostView),CE(this.components,v),A&&A.unregisterApplication(C)}),this._loadComponent(v),v}tick(){if(this._runningTick)throw new Ae(101,"");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const l=s;this._views.push(l),l.attachToAppRef(this)}detachView(s){const l=s;CE(this._views,l),l.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(xv,[]).concat(this._bootstrapListeners).forEach(c=>c(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(s){return new(s||n)(k(i),k(Yn),k(Fn),k(Cd),k(qu))},n.\u0275prov=bt({token:n,factory:n.\u0275fac}),n})();function CE(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}let zw=!0,qw=!1;function fI(){return qw=!0,zw}function hI(){if(qw)throw new Error("Cannot enable prod mode after platform setup.");zw=!1}let pI=(()=>{class n{}return n.__NG_ELEMENT_ID__=gI,n})();function gI(n){return function mI(n,r,s){if(Jo(n)&&!s){const l=En(n.index,r);return new Dd(l,l)}return 47&n.type?new Dd(r[16],r):null}(zt(),ye(),16==(16&n))}class eI{constructor(){}supports(r){return td(r)}create(r){return new wI(r)}}const EI=(n,r)=>r;class wI{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||EI}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,l=this._removalsHead,c=0,f=null;for(;s||l;){const m=!l||s&&s.currentIndex<nI(l,c,f)?s:l,v=nI(m,c,f),C=m.currentIndex;if(m===l)c--,l=l._nextRemoved;else if(s=s._next,null==m.previousIndex)c++;else{f||(f=[]);const b=v-c,A=C-c;if(b!=A){for(let L=0;L<b;L++){const q=L<f.length?f[L]:f[L]=0,pe=q+L;A<=pe&&pe<b&&(f[L]=q+1)}f[m.previousIndex]=A-b}}v!==C&&r(m,v,C)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!td(r))throw new Ae(900,"");return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,f,m,s=this._itHead,l=!1;if(Array.isArray(r)){this.length=r.length;for(let v=0;v<this.length;v++)f=r[v],m=this._trackByFn(v,f),null!==s&&Object.is(s.trackById,m)?(l&&(s=this._verifyReinsertion(s,f,m,v)),Object.is(s.item,f)||this._addIdentityChange(s,f)):(s=this._mismatch(s,f,m,v),l=!0),s=s._next}else c=0,function C0(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[Au()]();let l;for(;!(l=s.next()).done;)r(l.value)}}(r,v=>{m=this._trackByFn(c,v),null!==s&&Object.is(s.trackById,m)?(l&&(s=this._verifyReinsertion(s,v,m,c)),Object.is(s.item,v)||this._addIdentityChange(s,v)):(s=this._mismatch(s,v,m,c),l=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,l,c){let f;return null===r?f=this._itTail:(f=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,f,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(l,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,f,c)):r=this._addAfter(new II(s,l),f,c),r}_verifyReinsertion(r,s,l,c){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==f?r=this._reinsertAfter(f,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,f=r._nextRemoved;return null===c?this._removalsHead=f:c._nextRemoved=f,null===f?this._removalsTail=c:f._prevRemoved=c,this._insertAfter(r,s,l),this._addToMoves(r,l),r}_moveAfter(r,s,l){return this._unlink(r),this._insertAfter(r,s,l),this._addToMoves(r,l),r}_addAfter(r,s,l){return this._insertAfter(r,s,l),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,l){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new tI),this._linkedRecords.put(r),r.currentIndex=l,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,l=r._next;return null===s?this._itHead=l:s._next=l,null===l?this._itTail=s:l._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new tI),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class II{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class DI{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===s||s<=l.currentIndex)&&Object.is(l.trackById,r))return l;return null}remove(r){const s=r._prevDup,l=r._nextDup;return null===s?this._head=l:s._nextDup=l,null===l?this._tail=s:l._prevDup=s,null===this._head}}class tI{constructor(){this.map=new Map}put(r){const s=r.trackById;let l=this.map.get(s);l||(l=new DI,this.map.set(s,l)),l.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function nI(n,r,s){const l=n.previousIndex;if(null===l)return l;let c=0;return s&&l<s.length&&(c=s[l]),l+r+c}class rI{constructor(){}supports(r){return r instanceof Map||nd(r)}create(){return new bI}}class bI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||nd(r)))throw new Ae(900,"")}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(l,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,l),this._appendAfter=s,s=s._next;else{const f=this._getOrCreateRecordForKey(c,l);s=this._insertBeforeOrAppend(s,f)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let l=s;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const l=r._prev;return s._next=r,s._prev=l,r._prev=s,l&&(l._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const f=c._prev,m=c._next;return f&&(f._next=m),m&&(m._prev=f),c._next=null,c._prev=null,c}const l=new TI(r);return this._records.set(r,l),l.currentValue=s,this._addToAdditions(l),l}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(l=>s(r[l],l))}}class TI{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function iI(){return new Ov([new eI])}let Ov=(()=>{class n{constructor(s){this.factories=s}static create(s,l){if(null!=l){const c=l.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:l=>n.create(s,l||iI()),deps:[[n,new Wr,new yn]]}}find(s){const l=this.factories.find(c=>c.supports(s));if(null!=l)return l;throw new Ae(901,"")}}return n.\u0275prov=bt({token:n,providedIn:"root",factory:iI}),n})();function sI(){return new Fv([new rI])}let Fv=(()=>{class n{constructor(s){this.factories=s}static create(s,l){if(l){const c=l.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:l=>n.create(s,l||sI()),deps:[[n,new Wr,new yn]]}}find(s){const l=this.factories.find(f=>f.supports(s));if(l)return l;throw new Ae(901,"")}}return n.\u0275prov=bt({token:n,providedIn:"root",factory:sI}),n})();const AI=[new rI],SI=new Ov([new eI]),xI=new Fv(AI),kI=Mi(null,"core",[{provide:Sv,useValue:"unknown"},{provide:Gw,deps:[Yn]},{provide:Z,deps:[]},{provide:pE,deps:[]}]),FI=[{provide:Rv,useClass:Rv,deps:[i,Yn,Fn,Cd,qu]},{provide:Fg,deps:[i],useFactory:function LI(n){let r=[];return n.onStable.subscribe(()=>{for(;r.length;)r.pop()()}),function(s){r.push(s)}}},{provide:qu,useClass:qu,deps:[[new yn,im]]},{provide:Nv,useClass:Nv,deps:[]},fE,{provide:Ov,useFactory:function NI(){return SI},deps:[]},{provide:Fv,useFactory:function RI(){return xI},deps:[]},{provide:sm,useFactory:function PI(n){return n||function OI(){return"undefined"!=typeof $localize&&$localize.locale||oh}()},deps:[[new _n(sm),new yn,new Wr]]},{provide:kv,useValue:"USD"}];let VI=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(k(Rv))},n.\u0275mod=jn({type:n}),n.\u0275inj=Tt({providers:FI}),n})()},3942:($e,we,O)=>{"use strict";O.d(we,{Z:()=>Ae});var a=O(2090),K=O(4859),N=O(9681),ue=O(1877);class ne{constructor(W,Y){this._delegate=W,this.firebase=Y,(0,N._addComponent)(W,new K.wA("app-compat",()=>this,"PUBLIC")),this.container=W.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(W){this._delegate.automaticDataCollectionEnabled=W}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(W=>{this._delegate.checkDestroyed(),W()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(W,Y=N._DEFAULT_ENTRY_NAME){var ce;this._delegate.checkDestroyed();const _e=this._delegate.container.getProvider(W);return!_e.isInitialized()&&"EXPLICIT"===(null===(ce=_e.getComponent())||void 0===ce?void 0:ce.instantiationMode)&&_e.initialize(),_e.getImmediate({identifier:Y})}_removeServiceInstance(W,Y=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(W).clearInstance(Y)}_addComponent(W){(0,N._addComponent)(this._delegate,W)}_addOrOverwriteComponent(W){(0,N._addOrOverwriteComponent)(this._delegate,W)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const le=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function ge(){const xe=function fe(xe){const W={},Y={__esModule:!0,initializeApp:function se(Ve,ae={}){const z=N.initializeApp(Ve,ae);if((0,a.r3)(W,z.name))return W[z.name];const ee=new xe(z,Y);return W[z.name]=ee,ee},app:_e,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function ve(Ve){const ae=Ve.name,z=ae.replace("-compat","");if(N._registerComponent(Ve)&&"PUBLIC"===Ve.type){const ee=(de=_e())=>{if("function"!=typeof de[z])throw le.create("invalid-app-argument",{appName:ae});return de[z]()};void 0!==Ve.serviceProps&&(0,a.ZB)(ee,Ve.serviceProps),Y[z]=ee,xe.prototype[z]=function(...de){return this._getService.bind(this,ae).apply(this,Ve.multipleInstances?de:[])}}return"PUBLIC"===Ve.type?Y[z]:null},removeApp:function ce(Ve){delete W[Ve]},useAsService:function Be(Ve,ae){return"serverAuth"===ae?null:ae},modularAPIs:N}};function _e(Ve){if(!(0,a.r3)(W,Ve=Ve||N._DEFAULT_ENTRY_NAME))throw le.create("no-app",{appName:Ve});return W[Ve]}return Y.default=Y,Object.defineProperty(Y,"apps",{get:function De(){return Object.keys(W).map(Ve=>W[Ve])}}),_e.App=xe,Y}(ne);return xe.INTERNAL=Object.assign(Object.assign({},xe.INTERNAL),{createFirebaseNamespace:ge,extendNamespace:function W(Y){(0,a.ZB)(xe,Y)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),xe}(),V=new ue.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){V.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const xe=self.firebase.SDK_VERSION;xe&&xe.indexOf("LITE")>=0&&V.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ae=H;!function Me(xe){(0,N.registerVersion)("@firebase/app-compat","0.1.17",xe)}()},9681:($e,we,O)=>{"use strict";O.r(we),O.d(we,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>Hn,_DEFAULT_ENTRY_NAME:()=>Xt,_addComponent:()=>xt,_addOrOverwriteComponent:()=>Mn,_apps:()=>ze,_clearComponents:()=>mt,_components:()=>dn,_getProvider:()=>Pr,_registerComponent:()=>bt,_removeServiceInstance:()=>Tt,deleteApp:()=>Lr,getApp:()=>xi,getApps:()=>Xn,initializeApp:()=>Fr,onLog:()=>fn,registerVersion:()=>er,setLogLevel:()=>en});var a=O(5861),K=O(4859),N=O(1877),ue=O(2090);class ne{constructor(He){this.container=He}getPlatformInfoString(){return this.container.getProviders().map(ut=>{if(function he(Ye){const He=Ye.getComponent();return"VERSION"===(null==He?void 0:He.type)}(ut)){const Lt=ut.getImmediate();return`${Lt.library}/${Lt.version}`}return null}).filter(ut=>ut).join(" ")}}const le="@firebase/app",ge=new N.Yd("@firebase/app"),Xt="[DEFAULT]",Ge={[le]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ze=new Map,dn=new Map;function xt(Ye,He){try{Ye.container.addComponent(He)}catch(ut){ge.debug(`Component ${He.name} failed to register with FirebaseApp ${Ye.name}`,ut)}}function Mn(Ye,He){Ye.container.addOrOverwriteComponent(He)}function bt(Ye){const He=Ye.name;if(dn.has(He))return ge.debug(`There were multiple attempts to register component ${He}.`),!1;dn.set(He,Ye);for(const ut of ze.values())xt(ut,Ye);return!0}function Pr(Ye,He){return Ye.container.getProvider(He)}function Tt(Ye,He,ut=Xt){Pr(Ye,He).clearInstance(ut)}function mt(){dn.clear()}const Sn=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Si{constructor(He,ut,Lt){this._isDeleted=!1,this._options=Object.assign({},He),this._config=Object.assign({},ut),this._name=ut.name,this._automaticDataCollectionEnabled=ut.automaticDataCollectionEnabled,this._container=Lt,this.container.addComponent(new K.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(He){this.checkDestroyed(),this._automaticDataCollectionEnabled=He}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(He){this._isDeleted=He}checkDestroyed(){if(this.isDeleted)throw Sn.create("app-deleted",{appName:this._name})}}const Hn="9.6.6";function Fr(Ye,He={}){"object"!=typeof He&&(He={name:He});const ut=Object.assign({name:Xt,automaticDataCollectionEnabled:!1},He),Lt=ut.name;if("string"!=typeof Lt||!Lt)throw Sn.create("bad-app-name",{appName:String(Lt)});const xn=ze.get(Lt);if(xn){if((0,ue.vZ)(Ye,xn.options)&&(0,ue.vZ)(ut,xn.config))return xn;throw Sn.create("duplicate-app",{appName:Lt})}const ct=new K.H0(Lt);for(const qe of dn.values())ct.addComponent(qe);const je=new Si(Ye,ut,ct);return ze.set(Lt,je),je}function xi(Ye=Xt){const He=ze.get(Ye);if(!He)throw Sn.create("no-app",{appName:Ye});return He}function Xn(){return Array.from(ze.values())}function Lr(Ye){return Je.apply(this,arguments)}function Je(){return(Je=(0,a.Z)(function*(Ye){const He=Ye.name;ze.has(He)&&(ze.delete(He),yield Promise.all(Ye.container.getProviders().map(ut=>ut.delete())),Ye.isDeleted=!0)})).apply(this,arguments)}function er(Ye,He,ut){var Lt;let xn=null!==(Lt=Ge[Ye])&&void 0!==Lt?Lt:Ye;ut&&(xn+=`-${ut}`);const ct=xn.match(/\s|\//),je=He.match(/\s|\//);if(ct||je){const qe=[`Unable to register library "${xn}" with version "${He}":`];return ct&&qe.push(`library name "${xn}" contains illegal characters (whitespace or "/")`),ct&&je&&qe.push("and"),je&&qe.push(`version name "${He}" contains illegal characters (whitespace or "/")`),void ge.warn(qe.join(" "))}bt(new K.wA(`${xn}-version`,()=>({library:xn,version:He}),"VERSION"))}function fn(Ye,He){if(null!==Ye&&"function"!=typeof Ye)throw Sn.create("invalid-log-argument");(0,N.Am)(Ye,He)}function en(Ye){(0,N.Ub)(Ye)}!function ki(Ye){bt(new K.wA("platform-logger",He=>new ne(He),"PRIVATE")),er(le,"0.7.16",Ye),er(le,"0.7.16","esm2017"),er("fire-js","")}("")},4859:($e,we,O)=>{"use strict";O.d(we,{wA:()=>N,H0:()=>fe,zt:()=>ne});var a=O(5861),K=O(2090);class N{constructor(H,V,J){this.name=H,this.instanceFactory=V,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const ue="[DEFAULT]";class ne{constructor(H,V){this.name=H,this.container=V,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const V=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(V)){const J=new K.BH;if(this.instancesDeferred.set(V,J),this.isInitialized(V)||this.shouldAutoInitialize())try{const Le=this.getOrInitializeService({instanceIdentifier:V});Le&&J.resolve(Le)}catch(Le){}}return this.instancesDeferred.get(V).promise}getImmediate(H){var V;const J=this.normalizeInstanceIdentifier(null==H?void 0:H.identifier),Le=null!==(V=null==H?void 0:H.optional)&&void 0!==V&&V;if(!this.isInitialized(J)&&!this.shouldAutoInitialize()){if(Le)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:J})}catch(Me){if(Le)return null;throw Me}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function le(ge){return"EAGER"===ge.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:ue})}catch(V){}for(const[V,J]of this.instancesDeferred.entries()){const Le=this.normalizeInstanceIdentifier(V);try{const Me=this.getOrInitializeService({instanceIdentifier:Le});J.resolve(Me)}catch(Me){}}}}clearInstance(H=ue){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,a.Z)(function*(){const V=Array.from(H.instances.values());yield Promise.all([...V.filter(J=>"INTERNAL"in J).map(J=>J.INTERNAL.delete()),...V.filter(J=>"_delete"in J).map(J=>J._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=ue){return this.instances.has(H)}getOptions(H=ue){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:V={}}=H,J=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Le=this.getOrInitializeService({instanceIdentifier:J,options:V});for(const[Me,Ae]of this.instancesDeferred.entries())J===this.normalizeInstanceIdentifier(Me)&&Ae.resolve(Le);return Le}onInit(H,V){var J;const Le=this.normalizeInstanceIdentifier(V),Me=null!==(J=this.onInitCallbacks.get(Le))&&void 0!==J?J:new Set;Me.add(H),this.onInitCallbacks.set(Le,Me);const Ae=this.instances.get(Le);return Ae&&H(Ae,Le),()=>{Me.delete(H)}}invokeOnInitCallbacks(H,V){const J=this.onInitCallbacks.get(V);if(J)for(const Le of J)try{Le(H,V)}catch(Me){}}getOrInitializeService({instanceIdentifier:H,options:V={}}){let J=this.instances.get(H);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(ge=H,ge===ue?void 0:ge),options:V}),this.instances.set(H,J),this.instancesOptions.set(H,V),this.invokeOnInitCallbacks(J,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,J)}catch(Le){}var ge;return J||null}normalizeInstanceIdentifier(H=ue){return this.component?this.component.multipleInstances?H:ue:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const V=this.getProvider(H.name);if(V.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);V.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const V=new ne(H,this);return this.providers.set(H,V),V}getProviders(){return Array.from(this.providers.values())}}},1877:($e,we,O)=>{"use strict";O.d(we,{in:()=>K,Yd:()=>le,Ub:()=>fe,Am:()=>ge});const a=[];var K=(()=>{return(H=K||(K={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",K;var H})();const N={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},ue=K.INFO,ne={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},he=(H,V,...J)=>{if(V<H.logLevel)return;const Le=(new Date).toISOString(),Me=ne[V];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${V})`);console[Me](`[${Le}]  ${H.name}:`,...J)};class le{constructor(V){this.name=V,this._logLevel=ue,this._logHandler=he,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(V){if(!(V in K))throw new TypeError(`Invalid value "${V}" assigned to \`logLevel\``);this._logLevel=V}setLogLevel(V){this._logLevel="string"==typeof V?N[V]:V}get logHandler(){return this._logHandler}set logHandler(V){if("function"!=typeof V)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=V}get userLogHandler(){return this._userLogHandler}set userLogHandler(V){this._userLogHandler=V}debug(...V){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...V),this._logHandler(this,K.DEBUG,...V)}log(...V){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...V),this._logHandler(this,K.VERBOSE,...V)}info(...V){this._userLogHandler&&this._userLogHandler(this,K.INFO,...V),this._logHandler(this,K.INFO,...V)}warn(...V){this._userLogHandler&&this._userLogHandler(this,K.WARN,...V),this._logHandler(this,K.WARN,...V)}error(...V){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...V),this._logHandler(this,K.ERROR,...V)}}function fe(H){a.forEach(V=>{V.setLogLevel(H)})}function ge(H,V){for(const J of a){let Le=null;V&&V.level&&(Le=N[V.level]),J.userLogHandler=null===H?null:(Me,Ae,...xe)=>{const W=xe.map(Y=>{if(null==Y)return null;if("string"==typeof Y)return Y;if("number"==typeof Y||"boolean"==typeof Y)return Y.toString();if(Y instanceof Error)return Y.message;try{return JSON.stringify(Y)}catch(ce){return null}}).filter(Y=>Y).join(" ");Ae>=(null!=Le?Le:Me.logLevel)&&H({level:K[Ae].toLowerCase(),message:W,args:xe,type:Me.name})}}}},5861:($e,we,O)=>{"use strict";function a(N,ue,ne,he,le,fe,ge){try{var H=N[fe](ge),V=H.value}catch(J){return void ne(J)}H.done?ue(V):Promise.resolve(V).then(he,le)}function K(N){return function(){var ue=this,ne=arguments;return new Promise(function(he,le){var fe=N.apply(ue,ne);function ge(V){a(fe,he,le,ge,H,"next",V)}function H(V){a(fe,he,le,ge,H,"throw",V)}ge(void 0)})}}O.d(we,{Z:()=>K})}},$e=>{$e($e.s=8041)}]);